ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"adc.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.MX_ADC1_Init,"ax",%progbits
  18              		.align	1
  19              		.global	MX_ADC1_Init
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	MX_ADC1_Init:
  26              	.LFB126:
  27              		.file 1 "Src/adc.c"
   1:Src/adc.c     **** /**
   2:Src/adc.c     ****   ******************************************************************************
   3:Src/adc.c     ****   * File Name          : ADC.c
   4:Src/adc.c     ****   * Description        : This file provides code for the configuration
   5:Src/adc.c     ****   *                      of the ADC instances.
   6:Src/adc.c     ****   ******************************************************************************
   7:Src/adc.c     ****   ** This notice applies to any and all portions of this file
   8:Src/adc.c     ****   * that are not between comment pairs USER CODE BEGIN and
   9:Src/adc.c     ****   * USER CODE END. Other portions of this file, whether 
  10:Src/adc.c     ****   * inserted by the user or by software development tools
  11:Src/adc.c     ****   * are owned by their respective copyright owners.
  12:Src/adc.c     ****   *
  13:Src/adc.c     ****   * COPYRIGHT(c) 2019 STMicroelectronics
  14:Src/adc.c     ****   *
  15:Src/adc.c     ****   * Redistribution and use in source and binary forms, with or without modification,
  16:Src/adc.c     ****   * are permitted provided that the following conditions are met:
  17:Src/adc.c     ****   *   1. Redistributions of source code must retain the above copyright notice,
  18:Src/adc.c     ****   *      this list of conditions and the following disclaimer.
  19:Src/adc.c     ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  20:Src/adc.c     ****   *      this list of conditions and the following disclaimer in the documentation
  21:Src/adc.c     ****   *      and/or other materials provided with the distribution.
  22:Src/adc.c     ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  23:Src/adc.c     ****   *      may be used to endorse or promote products derived from this software
  24:Src/adc.c     ****   *      without specific prior written permission.
  25:Src/adc.c     ****   *
  26:Src/adc.c     ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  27:Src/adc.c     ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  28:Src/adc.c     ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  29:Src/adc.c     ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  30:Src/adc.c     ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  31:Src/adc.c     ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 2


  32:Src/adc.c     ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  33:Src/adc.c     ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  34:Src/adc.c     ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  35:Src/adc.c     ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  36:Src/adc.c     ****   *
  37:Src/adc.c     ****   ******************************************************************************
  38:Src/adc.c     ****   */
  39:Src/adc.c     **** 
  40:Src/adc.c     **** /* Includes ------------------------------------------------------------------*/
  41:Src/adc.c     **** #include "adc.h"
  42:Src/adc.c     **** 
  43:Src/adc.c     **** #include "gpio.h"
  44:Src/adc.c     **** #include "dma.h"
  45:Src/adc.c     **** 
  46:Src/adc.c     **** /* USER CODE BEGIN 0 */
  47:Src/adc.c     **** #include "stdint.h"
  48:Src/adc.c     **** //define
  49:Src/adc.c     **** #define OFF_VALUE 0
  50:Src/adc.c     **** #define FRONT_VALUE 1
  51:Src/adc.c     **** #define SIDE_VALUE 2
  52:Src/adc.c     **** #define FINISH_CONVERT 3
  53:Src/adc.c     **** #define IRSENSOR_OFF 4
  54:Src/adc.c     **** 
  55:Src/adc.c     **** #define ADC_CONVERT_DATA_SIZE ((uint32_t)4)
  56:Src/adc.c     **** 
  57:Src/adc.c     **** #define TRUE 1
  58:Src/adc.c     **** #define FALSE 0
  59:Src/adc.c     **** 
  60:Src/adc.c     **** //valuable
  61:Src/adc.c     **** sensor_t sen_l;
  62:Src/adc.c     **** sensor_t sen_fl;
  63:Src/adc.c     **** sensor_t sen_front;
  64:Src/adc.c     **** sensor_t sen_fr;
  65:Src/adc.c     **** sensor_t sen_r;
  66:Src/adc.c     **** 
  67:Src/adc.c     **** uint16_t ADCBuff[ADC_CONVERT_DATA_SIZE];
  68:Src/adc.c     **** uint16_t ADCOffData[ADC_CONVERT_DATA_SIZE];
  69:Src/adc.c     **** uint16_t ADCOntData[ADC_CONVERT_DATA_SIZE];
  70:Src/adc.c     **** int16_t adc_counter;
  71:Src/adc.c     **** /* USER CODE END 0 */
  72:Src/adc.c     **** 
  73:Src/adc.c     **** ADC_HandleTypeDef hadc1;
  74:Src/adc.c     **** ADC_HandleTypeDef hadc2;
  75:Src/adc.c     **** DMA_HandleTypeDef hdma_adc2;
  76:Src/adc.c     **** 
  77:Src/adc.c     **** /* ADC1 init function */
  78:Src/adc.c     **** void MX_ADC1_Init(void)
  79:Src/adc.c     **** {
  28              		.loc 1 79 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 16
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 00B5     		push	{lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 4
  35              		.cfi_offset 14, -4
  36 0002 85B0     		sub	sp, sp, #20
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 3


  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 24
  80:Src/adc.c     ****   ADC_ChannelConfTypeDef sConfig;
  81:Src/adc.c     **** 
  82:Src/adc.c     ****     /**Configure the global features of the ADC (Clock, Resolution, Data Alignment and number of co
  83:Src/adc.c     ****     */
  84:Src/adc.c     ****   hadc1.Instance = ADC1;
  39              		.loc 1 84 0
  40 0004 1548     		ldr	r0, .L7
  41 0006 164B     		ldr	r3, .L7+4
  42 0008 0360     		str	r3, [r0]
  85:Src/adc.c     ****   hadc1.Init.ClockPrescaler = ADC_CLOCK_SYNC_PCLK_DIV2;
  43              		.loc 1 85 0
  44 000a 0023     		movs	r3, #0
  45 000c 4360     		str	r3, [r0, #4]
  86:Src/adc.c     ****   hadc1.Init.Resolution = ADC_RESOLUTION_12B;
  46              		.loc 1 86 0
  47 000e 8360     		str	r3, [r0, #8]
  87:Src/adc.c     ****   hadc1.Init.ScanConvMode = DISABLE;
  48              		.loc 1 87 0
  49 0010 0361     		str	r3, [r0, #16]
  88:Src/adc.c     ****   hadc1.Init.ContinuousConvMode = DISABLE;
  50              		.loc 1 88 0
  51 0012 8361     		str	r3, [r0, #24]
  89:Src/adc.c     ****   hadc1.Init.DiscontinuousConvMode = DISABLE;
  52              		.loc 1 89 0
  53 0014 0362     		str	r3, [r0, #32]
  90:Src/adc.c     ****   hadc1.Init.ExternalTrigConvEdge = ADC_EXTERNALTRIGCONVEDGE_NONE;
  54              		.loc 1 90 0
  55 0016 C362     		str	r3, [r0, #44]
  91:Src/adc.c     ****   hadc1.Init.ExternalTrigConv = ADC_SOFTWARE_START;
  56              		.loc 1 91 0
  57 0018 124A     		ldr	r2, .L7+8
  58 001a 8262     		str	r2, [r0, #40]
  92:Src/adc.c     ****   hadc1.Init.DataAlign = ADC_DATAALIGN_RIGHT;
  59              		.loc 1 92 0
  60 001c C360     		str	r3, [r0, #12]
  93:Src/adc.c     ****   hadc1.Init.NbrOfConversion = 1;
  61              		.loc 1 93 0
  62 001e 0122     		movs	r2, #1
  63 0020 C261     		str	r2, [r0, #28]
  94:Src/adc.c     ****   hadc1.Init.DMAContinuousRequests = DISABLE;
  64              		.loc 1 94 0
  65 0022 0363     		str	r3, [r0, #48]
  95:Src/adc.c     ****   hadc1.Init.EOCSelection = ADC_EOC_SINGLE_CONV;
  66              		.loc 1 95 0
  67 0024 4261     		str	r2, [r0, #20]
  96:Src/adc.c     ****   if (HAL_ADC_Init(&hadc1) != HAL_OK)
  68              		.loc 1 96 0
  69 0026 FFF7FEFF 		bl	HAL_ADC_Init
  70              	.LVL0:
  71 002a 68B9     		cbnz	r0, .L5
  72              	.L2:
  97:Src/adc.c     ****   {
  98:Src/adc.c     ****     _Error_Handler(__FILE__, __LINE__);
  99:Src/adc.c     ****   }
 100:Src/adc.c     **** 
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 4


 101:Src/adc.c     ****     /**Configure for the selected ADC regular channel its corresponding rank in the sequencer and i
 102:Src/adc.c     ****     */
 103:Src/adc.c     ****   sConfig.Channel = ADC_CHANNEL_15;
  73              		.loc 1 103 0
  74 002c 0F23     		movs	r3, #15
  75 002e 0093     		str	r3, [sp]
 104:Src/adc.c     ****   sConfig.Rank = 1;
  76              		.loc 1 104 0
  77 0030 0123     		movs	r3, #1
  78 0032 0193     		str	r3, [sp, #4]
 105:Src/adc.c     ****   sConfig.SamplingTime = ADC_SAMPLETIME_3CYCLES;
  79              		.loc 1 105 0
  80 0034 0023     		movs	r3, #0
  81 0036 0293     		str	r3, [sp, #8]
 106:Src/adc.c     ****   if (HAL_ADC_ConfigChannel(&hadc1, &sConfig) != HAL_OK)
  82              		.loc 1 106 0
  83 0038 6946     		mov	r1, sp
  84 003a 0848     		ldr	r0, .L7
  85 003c FFF7FEFF 		bl	HAL_ADC_ConfigChannel
  86              	.LVL1:
  87 0040 38B9     		cbnz	r0, .L6
  88              	.L1:
 107:Src/adc.c     ****   {
 108:Src/adc.c     ****     _Error_Handler(__FILE__, __LINE__);
 109:Src/adc.c     ****   }
 110:Src/adc.c     **** 
 111:Src/adc.c     **** }
  89              		.loc 1 111 0
  90 0042 05B0     		add	sp, sp, #20
  91              	.LCFI2:
  92              		.cfi_remember_state
  93              		.cfi_def_cfa_offset 4
  94              		@ sp needed
  95 0044 5DF804FB 		ldr	pc, [sp], #4
  96              	.L5:
  97              	.LCFI3:
  98              		.cfi_restore_state
  98:Src/adc.c     ****   }
  99              		.loc 1 98 0
 100 0048 6221     		movs	r1, #98
 101 004a 0748     		ldr	r0, .L7+12
 102 004c FFF7FEFF 		bl	_Error_Handler
 103              	.LVL2:
 104 0050 ECE7     		b	.L2
 105              	.L6:
 108:Src/adc.c     ****   }
 106              		.loc 1 108 0
 107 0052 6C21     		movs	r1, #108
 108 0054 0448     		ldr	r0, .L7+12
 109 0056 FFF7FEFF 		bl	_Error_Handler
 110              	.LVL3:
 111              		.loc 1 111 0
 112 005a F2E7     		b	.L1
 113              	.L8:
 114              		.align	2
 115              	.L7:
 116 005c 00000000 		.word	hadc1
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 5


 117 0060 00200140 		.word	1073815552
 118 0064 0100000F 		.word	251658241
 119 0068 00000000 		.word	.LC0
 120              		.cfi_endproc
 121              	.LFE126:
 123              		.section	.text.MX_ADC2_Init,"ax",%progbits
 124              		.align	1
 125              		.global	MX_ADC2_Init
 126              		.syntax unified
 127              		.thumb
 128              		.thumb_func
 129              		.fpu fpv4-sp-d16
 131              	MX_ADC2_Init:
 132              	.LFB127:
 112:Src/adc.c     **** /* ADC2 init function */
 113:Src/adc.c     **** void MX_ADC2_Init(void)
 114:Src/adc.c     **** {
 133              		.loc 1 114 0
 134              		.cfi_startproc
 135              		@ args = 0, pretend = 0, frame = 16
 136              		@ frame_needed = 0, uses_anonymous_args = 0
 137 0000 00B5     		push	{lr}
 138              	.LCFI4:
 139              		.cfi_def_cfa_offset 4
 140              		.cfi_offset 14, -4
 141 0002 85B0     		sub	sp, sp, #20
 142              	.LCFI5:
 143              		.cfi_def_cfa_offset 24
 115:Src/adc.c     ****   ADC_ChannelConfTypeDef sConfig;
 116:Src/adc.c     **** 
 117:Src/adc.c     ****     /**Configure the global features of the ADC (Clock, Resolution, Data Alignment and number of co
 118:Src/adc.c     ****     */
 119:Src/adc.c     ****   hadc2.Instance = ADC2;
 144              		.loc 1 119 0
 145 0004 2C48     		ldr	r0, .L21
 146 0006 2D4B     		ldr	r3, .L21+4
 147 0008 0360     		str	r3, [r0]
 120:Src/adc.c     ****   hadc2.Init.ClockPrescaler = ADC_CLOCK_SYNC_PCLK_DIV2;
 148              		.loc 1 120 0
 149 000a 0022     		movs	r2, #0
 150 000c 4260     		str	r2, [r0, #4]
 121:Src/adc.c     ****   hadc2.Init.Resolution = ADC_RESOLUTION_10B;
 151              		.loc 1 121 0
 152 000e 4FF08073 		mov	r3, #16777216
 153 0012 8360     		str	r3, [r0, #8]
 122:Src/adc.c     ****   hadc2.Init.ScanConvMode = ENABLE;
 154              		.loc 1 122 0
 155 0014 0123     		movs	r3, #1
 156 0016 0361     		str	r3, [r0, #16]
 123:Src/adc.c     ****   hadc2.Init.ContinuousConvMode = ENABLE;
 157              		.loc 1 123 0
 158 0018 8361     		str	r3, [r0, #24]
 124:Src/adc.c     ****   hadc2.Init.DiscontinuousConvMode = DISABLE;
 159              		.loc 1 124 0
 160 001a 0262     		str	r2, [r0, #32]
 125:Src/adc.c     ****   hadc2.Init.ExternalTrigConvEdge = ADC_EXTERNALTRIGCONVEDGE_NONE;
 161              		.loc 1 125 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 6


 162 001c C262     		str	r2, [r0, #44]
 126:Src/adc.c     ****   hadc2.Init.ExternalTrigConv = ADC_SOFTWARE_START;
 163              		.loc 1 126 0
 164 001e 2849     		ldr	r1, .L21+8
 165 0020 8162     		str	r1, [r0, #40]
 127:Src/adc.c     ****   hadc2.Init.DataAlign = ADC_DATAALIGN_RIGHT;
 166              		.loc 1 127 0
 167 0022 C260     		str	r2, [r0, #12]
 128:Src/adc.c     ****   hadc2.Init.NbrOfConversion = 4;
 168              		.loc 1 128 0
 169 0024 0422     		movs	r2, #4
 170 0026 C261     		str	r2, [r0, #28]
 129:Src/adc.c     ****   hadc2.Init.DMAContinuousRequests = ENABLE;
 171              		.loc 1 129 0
 172 0028 0363     		str	r3, [r0, #48]
 130:Src/adc.c     ****   hadc2.Init.EOCSelection = ADC_EOC_SINGLE_CONV;
 173              		.loc 1 130 0
 174 002a 4361     		str	r3, [r0, #20]
 131:Src/adc.c     ****   if (HAL_ADC_Init(&hadc2) != HAL_OK)
 175              		.loc 1 131 0
 176 002c FFF7FEFF 		bl	HAL_ADC_Init
 177              	.LVL4:
 178 0030 40BB     		cbnz	r0, .L16
 179              	.L10:
 132:Src/adc.c     ****   {
 133:Src/adc.c     ****     _Error_Handler(__FILE__, __LINE__);
 134:Src/adc.c     ****   }
 135:Src/adc.c     **** 
 136:Src/adc.c     ****     /**Configure for the selected ADC regular channel its corresponding rank in the sequencer and i
 137:Src/adc.c     ****     */
 138:Src/adc.c     ****   sConfig.Channel = ADC_CHANNEL_2;
 180              		.loc 1 138 0
 181 0032 0223     		movs	r3, #2
 182 0034 0093     		str	r3, [sp]
 139:Src/adc.c     ****   sConfig.Rank = 1;
 183              		.loc 1 139 0
 184 0036 0123     		movs	r3, #1
 185 0038 0193     		str	r3, [sp, #4]
 140:Src/adc.c     ****   sConfig.SamplingTime = ADC_SAMPLETIME_3CYCLES;
 186              		.loc 1 140 0
 187 003a 0023     		movs	r3, #0
 188 003c 0293     		str	r3, [sp, #8]
 141:Src/adc.c     ****   if (HAL_ADC_ConfigChannel(&hadc2, &sConfig) != HAL_OK)
 189              		.loc 1 141 0
 190 003e 6946     		mov	r1, sp
 191 0040 1D48     		ldr	r0, .L21
 192 0042 FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 193              	.LVL5:
 194 0046 10BB     		cbnz	r0, .L17
 195              	.L11:
 142:Src/adc.c     ****   {
 143:Src/adc.c     ****     _Error_Handler(__FILE__, __LINE__);
 144:Src/adc.c     ****   }
 145:Src/adc.c     **** 
 146:Src/adc.c     ****     /**Configure for the selected ADC regular channel its corresponding rank in the sequencer and i
 147:Src/adc.c     ****     */
 148:Src/adc.c     ****   sConfig.Channel = ADC_CHANNEL_3;
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 7


 196              		.loc 1 148 0
 197 0048 0323     		movs	r3, #3
 198 004a 0093     		str	r3, [sp]
 149:Src/adc.c     ****   sConfig.Rank = 2;
 199              		.loc 1 149 0
 200 004c 0223     		movs	r3, #2
 201 004e 0193     		str	r3, [sp, #4]
 150:Src/adc.c     ****   if (HAL_ADC_ConfigChannel(&hadc2, &sConfig) != HAL_OK)
 202              		.loc 1 150 0
 203 0050 6946     		mov	r1, sp
 204 0052 1948     		ldr	r0, .L21
 205 0054 FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 206              	.LVL6:
 207 0058 F0B9     		cbnz	r0, .L18
 208              	.L12:
 151:Src/adc.c     ****   {
 152:Src/adc.c     ****     _Error_Handler(__FILE__, __LINE__);
 153:Src/adc.c     ****   }
 154:Src/adc.c     **** 
 155:Src/adc.c     ****     /**Configure for the selected ADC regular channel its corresponding rank in the sequencer and i
 156:Src/adc.c     ****     */
 157:Src/adc.c     ****   sConfig.Channel = ADC_CHANNEL_10;
 209              		.loc 1 157 0
 210 005a 0A23     		movs	r3, #10
 211 005c 0093     		str	r3, [sp]
 158:Src/adc.c     ****   sConfig.Rank = 3;
 212              		.loc 1 158 0
 213 005e 0323     		movs	r3, #3
 214 0060 0193     		str	r3, [sp, #4]
 159:Src/adc.c     ****   if (HAL_ADC_ConfigChannel(&hadc2, &sConfig) != HAL_OK)
 215              		.loc 1 159 0
 216 0062 6946     		mov	r1, sp
 217 0064 1448     		ldr	r0, .L21
 218 0066 FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 219              	.LVL7:
 220 006a D0B9     		cbnz	r0, .L19
 221              	.L13:
 160:Src/adc.c     ****   {
 161:Src/adc.c     ****     _Error_Handler(__FILE__, __LINE__);
 162:Src/adc.c     ****   }
 163:Src/adc.c     **** 
 164:Src/adc.c     ****     /**Configure for the selected ADC regular channel its corresponding rank in the sequencer and i
 165:Src/adc.c     ****     */
 166:Src/adc.c     ****   sConfig.Channel = ADC_CHANNEL_11;
 222              		.loc 1 166 0
 223 006c 0B23     		movs	r3, #11
 224 006e 0093     		str	r3, [sp]
 167:Src/adc.c     ****   sConfig.Rank = 4;
 225              		.loc 1 167 0
 226 0070 0423     		movs	r3, #4
 227 0072 0193     		str	r3, [sp, #4]
 168:Src/adc.c     ****   if (HAL_ADC_ConfigChannel(&hadc2, &sConfig) != HAL_OK)
 228              		.loc 1 168 0
 229 0074 6946     		mov	r1, sp
 230 0076 1048     		ldr	r0, .L21
 231 0078 FFF7FEFF 		bl	HAL_ADC_ConfigChannel
 232              	.LVL8:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 8


 233 007c B0B9     		cbnz	r0, .L20
 234              	.L9:
 169:Src/adc.c     ****   {
 170:Src/adc.c     ****     _Error_Handler(__FILE__, __LINE__);
 171:Src/adc.c     ****   }
 172:Src/adc.c     **** 
 173:Src/adc.c     **** }
 235              		.loc 1 173 0
 236 007e 05B0     		add	sp, sp, #20
 237              	.LCFI6:
 238              		.cfi_remember_state
 239              		.cfi_def_cfa_offset 4
 240              		@ sp needed
 241 0080 5DF804FB 		ldr	pc, [sp], #4
 242              	.L16:
 243              	.LCFI7:
 244              		.cfi_restore_state
 133:Src/adc.c     ****   }
 245              		.loc 1 133 0
 246 0084 8521     		movs	r1, #133
 247 0086 0F48     		ldr	r0, .L21+12
 248 0088 FFF7FEFF 		bl	_Error_Handler
 249              	.LVL9:
 250 008c D1E7     		b	.L10
 251              	.L17:
 143:Src/adc.c     ****   }
 252              		.loc 1 143 0
 253 008e 8F21     		movs	r1, #143
 254 0090 0C48     		ldr	r0, .L21+12
 255 0092 FFF7FEFF 		bl	_Error_Handler
 256              	.LVL10:
 257 0096 D7E7     		b	.L11
 258              	.L18:
 152:Src/adc.c     ****   }
 259              		.loc 1 152 0
 260 0098 9821     		movs	r1, #152
 261 009a 0A48     		ldr	r0, .L21+12
 262 009c FFF7FEFF 		bl	_Error_Handler
 263              	.LVL11:
 264 00a0 DBE7     		b	.L12
 265              	.L19:
 161:Src/adc.c     ****   }
 266              		.loc 1 161 0
 267 00a2 A121     		movs	r1, #161
 268 00a4 0748     		ldr	r0, .L21+12
 269 00a6 FFF7FEFF 		bl	_Error_Handler
 270              	.LVL12:
 271 00aa DFE7     		b	.L13
 272              	.L20:
 170:Src/adc.c     ****   }
 273              		.loc 1 170 0
 274 00ac AA21     		movs	r1, #170
 275 00ae 0548     		ldr	r0, .L21+12
 276 00b0 FFF7FEFF 		bl	_Error_Handler
 277              	.LVL13:
 278              		.loc 1 173 0
 279 00b4 E3E7     		b	.L9
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 9


 280              	.L22:
 281 00b6 00BF     		.align	2
 282              	.L21:
 283 00b8 00000000 		.word	hadc2
 284 00bc 00210140 		.word	1073815808
 285 00c0 0100000F 		.word	251658241
 286 00c4 00000000 		.word	.LC0
 287              		.cfi_endproc
 288              	.LFE127:
 290              		.section	.text.HAL_ADC_MspInit,"ax",%progbits
 291              		.align	1
 292              		.global	HAL_ADC_MspInit
 293              		.syntax unified
 294              		.thumb
 295              		.thumb_func
 296              		.fpu fpv4-sp-d16
 298              	HAL_ADC_MspInit:
 299              	.LFB128:
 174:Src/adc.c     **** 
 175:Src/adc.c     **** void HAL_ADC_MspInit(ADC_HandleTypeDef* adcHandle)
 176:Src/adc.c     **** {
 300              		.loc 1 176 0
 301              		.cfi_startproc
 302              		@ args = 0, pretend = 0, frame = 32
 303              		@ frame_needed = 0, uses_anonymous_args = 0
 304              	.LVL14:
 305 0000 70B5     		push	{r4, r5, r6, lr}
 306              	.LCFI8:
 307              		.cfi_def_cfa_offset 16
 308              		.cfi_offset 4, -16
 309              		.cfi_offset 5, -12
 310              		.cfi_offset 6, -8
 311              		.cfi_offset 14, -4
 312 0002 88B0     		sub	sp, sp, #32
 313              	.LCFI9:
 314              		.cfi_def_cfa_offset 48
 177:Src/adc.c     **** 
 178:Src/adc.c     ****   GPIO_InitTypeDef GPIO_InitStruct;
 179:Src/adc.c     ****   if(adcHandle->Instance==ADC1)
 315              		.loc 1 179 0
 316 0004 0368     		ldr	r3, [r0]
 317 0006 2E4A     		ldr	r2, .L31
 318 0008 9342     		cmp	r3, r2
 319 000a 05D0     		beq	.L28
 320 000c 0446     		mov	r4, r0
 180:Src/adc.c     ****   {
 181:Src/adc.c     ****   /* USER CODE BEGIN ADC1_MspInit 0 */
 182:Src/adc.c     **** 
 183:Src/adc.c     ****   /* USER CODE END ADC1_MspInit 0 */
 184:Src/adc.c     ****     /* ADC1 clock enable */
 185:Src/adc.c     ****     __HAL_RCC_ADC1_CLK_ENABLE();
 186:Src/adc.c     ****   
 187:Src/adc.c     ****     /**ADC1 GPIO Configuration    
 188:Src/adc.c     ****     PC5     ------> ADC1_IN15 
 189:Src/adc.c     ****     */
 190:Src/adc.c     ****     GPIO_InitStruct.Pin = GPIO_PIN_5;
 191:Src/adc.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_ANALOG;
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 10


 192:Src/adc.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 193:Src/adc.c     ****     HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);
 194:Src/adc.c     **** 
 195:Src/adc.c     ****   /* USER CODE BEGIN ADC1_MspInit 1 */
 196:Src/adc.c     **** 
 197:Src/adc.c     ****   /* USER CODE END ADC1_MspInit 1 */
 198:Src/adc.c     ****   }
 199:Src/adc.c     ****   else if(adcHandle->Instance==ADC2)
 321              		.loc 1 199 0
 322 000e 2D4A     		ldr	r2, .L31+4
 323 0010 9342     		cmp	r3, r2
 324 0012 17D0     		beq	.L29
 325              	.LVL15:
 326              	.L23:
 200:Src/adc.c     ****   {
 201:Src/adc.c     ****   /* USER CODE BEGIN ADC2_MspInit 0 */
 202:Src/adc.c     **** 
 203:Src/adc.c     ****   /* USER CODE END ADC2_MspInit 0 */
 204:Src/adc.c     ****     /* ADC2 clock enable */
 205:Src/adc.c     ****     __HAL_RCC_ADC2_CLK_ENABLE();
 206:Src/adc.c     ****   
 207:Src/adc.c     ****     /**ADC2 GPIO Configuration    
 208:Src/adc.c     ****     PC0     ------> ADC2_IN10
 209:Src/adc.c     ****     PC1     ------> ADC2_IN11
 210:Src/adc.c     ****     PA2     ------> ADC2_IN2
 211:Src/adc.c     ****     PA3     ------> ADC2_IN3 
 212:Src/adc.c     ****     */
 213:Src/adc.c     ****     GPIO_InitStruct.Pin = GPIO_PIN_0|GPIO_PIN_1;
 214:Src/adc.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_ANALOG;
 215:Src/adc.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 216:Src/adc.c     ****     HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);
 217:Src/adc.c     **** 
 218:Src/adc.c     ****     GPIO_InitStruct.Pin = GPIO_PIN_2|GPIO_PIN_3;
 219:Src/adc.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_ANALOG;
 220:Src/adc.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 221:Src/adc.c     ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 222:Src/adc.c     **** 
 223:Src/adc.c     ****     /* ADC2 DMA Init */
 224:Src/adc.c     ****     /* ADC2 Init */
 225:Src/adc.c     ****     hdma_adc2.Instance = DMA2_Stream2;
 226:Src/adc.c     ****     hdma_adc2.Init.Channel = DMA_CHANNEL_1;
 227:Src/adc.c     ****     hdma_adc2.Init.Direction = DMA_PERIPH_TO_MEMORY;
 228:Src/adc.c     ****     hdma_adc2.Init.PeriphInc = DMA_PINC_DISABLE;
 229:Src/adc.c     ****     hdma_adc2.Init.MemInc = DMA_MINC_ENABLE;
 230:Src/adc.c     ****     hdma_adc2.Init.PeriphDataAlignment = DMA_PDATAALIGN_HALFWORD;
 231:Src/adc.c     ****     hdma_adc2.Init.MemDataAlignment = DMA_MDATAALIGN_HALFWORD;
 232:Src/adc.c     ****     hdma_adc2.Init.Mode = DMA_NORMAL;
 233:Src/adc.c     ****     hdma_adc2.Init.Priority = DMA_PRIORITY_LOW;
 234:Src/adc.c     ****     hdma_adc2.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 235:Src/adc.c     ****     if (HAL_DMA_Init(&hdma_adc2) != HAL_OK)
 236:Src/adc.c     ****     {
 237:Src/adc.c     ****       _Error_Handler(__FILE__, __LINE__);
 238:Src/adc.c     ****     }
 239:Src/adc.c     **** 
 240:Src/adc.c     ****     __HAL_LINKDMA(adcHandle,DMA_Handle,hdma_adc2);
 241:Src/adc.c     **** 
 242:Src/adc.c     ****   /* USER CODE BEGIN ADC2_MspInit 1 */
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 11


 243:Src/adc.c     **** 
 244:Src/adc.c     ****   /* USER CODE END ADC2_MspInit 1 */
 245:Src/adc.c     ****   }
 246:Src/adc.c     **** }
 327              		.loc 1 246 0
 328 0014 08B0     		add	sp, sp, #32
 329              	.LCFI10:
 330              		.cfi_remember_state
 331              		.cfi_def_cfa_offset 16
 332              		@ sp needed
 333 0016 70BD     		pop	{r4, r5, r6, pc}
 334              	.LVL16:
 335              	.L28:
 336              	.LCFI11:
 337              		.cfi_restore_state
 338              	.LBB2:
 185:Src/adc.c     ****   
 339              		.loc 1 185 0
 340 0018 0021     		movs	r1, #0
 341 001a 0191     		str	r1, [sp, #4]
 342 001c 2A4B     		ldr	r3, .L31+8
 343 001e 5A6C     		ldr	r2, [r3, #68]
 344 0020 42F48072 		orr	r2, r2, #256
 345 0024 5A64     		str	r2, [r3, #68]
 346 0026 5B6C     		ldr	r3, [r3, #68]
 347 0028 03F48073 		and	r3, r3, #256
 348 002c 0193     		str	r3, [sp, #4]
 349 002e 019B     		ldr	r3, [sp, #4]
 350              	.LBE2:
 190:Src/adc.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_ANALOG;
 351              		.loc 1 190 0
 352 0030 2023     		movs	r3, #32
 353 0032 0393     		str	r3, [sp, #12]
 191:Src/adc.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 354              		.loc 1 191 0
 355 0034 0323     		movs	r3, #3
 356 0036 0493     		str	r3, [sp, #16]
 192:Src/adc.c     ****     HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);
 357              		.loc 1 192 0
 358 0038 0591     		str	r1, [sp, #20]
 193:Src/adc.c     **** 
 359              		.loc 1 193 0
 360 003a 03A9     		add	r1, sp, #12
 361 003c 2348     		ldr	r0, .L31+12
 362              	.LVL17:
 363 003e FFF7FEFF 		bl	HAL_GPIO_Init
 364              	.LVL18:
 365 0042 E7E7     		b	.L23
 366              	.LVL19:
 367              	.L29:
 368              	.LBB3:
 205:Src/adc.c     ****   
 369              		.loc 1 205 0
 370 0044 0025     		movs	r5, #0
 371 0046 0295     		str	r5, [sp, #8]
 372 0048 1F4B     		ldr	r3, .L31+8
 373 004a 5A6C     		ldr	r2, [r3, #68]
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 12


 374 004c 42F40072 		orr	r2, r2, #512
 375 0050 5A64     		str	r2, [r3, #68]
 376 0052 5B6C     		ldr	r3, [r3, #68]
 377 0054 03F40073 		and	r3, r3, #512
 378 0058 0293     		str	r3, [sp, #8]
 379 005a 029B     		ldr	r3, [sp, #8]
 380              	.LBE3:
 213:Src/adc.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_ANALOG;
 381              		.loc 1 213 0
 382 005c 0326     		movs	r6, #3
 383 005e 0396     		str	r6, [sp, #12]
 214:Src/adc.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 384              		.loc 1 214 0
 385 0060 0496     		str	r6, [sp, #16]
 215:Src/adc.c     ****     HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);
 386              		.loc 1 215 0
 387 0062 0595     		str	r5, [sp, #20]
 216:Src/adc.c     **** 
 388              		.loc 1 216 0
 389 0064 03A9     		add	r1, sp, #12
 390 0066 1948     		ldr	r0, .L31+12
 391              	.LVL20:
 392 0068 FFF7FEFF 		bl	HAL_GPIO_Init
 393              	.LVL21:
 218:Src/adc.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_ANALOG;
 394              		.loc 1 218 0
 395 006c 0C23     		movs	r3, #12
 396 006e 0393     		str	r3, [sp, #12]
 219:Src/adc.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 397              		.loc 1 219 0
 398 0070 0496     		str	r6, [sp, #16]
 220:Src/adc.c     ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 399              		.loc 1 220 0
 400 0072 0595     		str	r5, [sp, #20]
 221:Src/adc.c     **** 
 401              		.loc 1 221 0
 402 0074 0DEB0301 		add	r1, sp, r3
 403 0078 1548     		ldr	r0, .L31+16
 404 007a FFF7FEFF 		bl	HAL_GPIO_Init
 405              	.LVL22:
 225:Src/adc.c     ****     hdma_adc2.Init.Channel = DMA_CHANNEL_1;
 406              		.loc 1 225 0
 407 007e 1548     		ldr	r0, .L31+20
 408 0080 154B     		ldr	r3, .L31+24
 409 0082 0360     		str	r3, [r0]
 226:Src/adc.c     ****     hdma_adc2.Init.Direction = DMA_PERIPH_TO_MEMORY;
 410              		.loc 1 226 0
 411 0084 4FF00073 		mov	r3, #33554432
 412 0088 4360     		str	r3, [r0, #4]
 227:Src/adc.c     ****     hdma_adc2.Init.PeriphInc = DMA_PINC_DISABLE;
 413              		.loc 1 227 0
 414 008a 8560     		str	r5, [r0, #8]
 228:Src/adc.c     ****     hdma_adc2.Init.MemInc = DMA_MINC_ENABLE;
 415              		.loc 1 228 0
 416 008c C560     		str	r5, [r0, #12]
 229:Src/adc.c     ****     hdma_adc2.Init.PeriphDataAlignment = DMA_PDATAALIGN_HALFWORD;
 417              		.loc 1 229 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 13


 418 008e 4FF48063 		mov	r3, #1024
 419 0092 0361     		str	r3, [r0, #16]
 230:Src/adc.c     ****     hdma_adc2.Init.MemDataAlignment = DMA_MDATAALIGN_HALFWORD;
 420              		.loc 1 230 0
 421 0094 4FF40063 		mov	r3, #2048
 422 0098 4361     		str	r3, [r0, #20]
 231:Src/adc.c     ****     hdma_adc2.Init.Mode = DMA_NORMAL;
 423              		.loc 1 231 0
 424 009a 4FF40053 		mov	r3, #8192
 425 009e 8361     		str	r3, [r0, #24]
 232:Src/adc.c     ****     hdma_adc2.Init.Priority = DMA_PRIORITY_LOW;
 426              		.loc 1 232 0
 427 00a0 C561     		str	r5, [r0, #28]
 233:Src/adc.c     ****     hdma_adc2.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 428              		.loc 1 233 0
 429 00a2 0562     		str	r5, [r0, #32]
 234:Src/adc.c     ****     if (HAL_DMA_Init(&hdma_adc2) != HAL_OK)
 430              		.loc 1 234 0
 431 00a4 4562     		str	r5, [r0, #36]
 235:Src/adc.c     ****     {
 432              		.loc 1 235 0
 433 00a6 FFF7FEFF 		bl	HAL_DMA_Init
 434              	.LVL23:
 435 00aa 18B9     		cbnz	r0, .L30
 436              	.L26:
 240:Src/adc.c     **** 
 437              		.loc 1 240 0
 438 00ac 094B     		ldr	r3, .L31+20
 439 00ae A363     		str	r3, [r4, #56]
 440 00b0 9C63     		str	r4, [r3, #56]
 441              		.loc 1 246 0
 442 00b2 AFE7     		b	.L23
 443              	.L30:
 237:Src/adc.c     ****     }
 444              		.loc 1 237 0
 445 00b4 ED21     		movs	r1, #237
 446 00b6 0948     		ldr	r0, .L31+28
 447 00b8 FFF7FEFF 		bl	_Error_Handler
 448              	.LVL24:
 449 00bc F6E7     		b	.L26
 450              	.L32:
 451 00be 00BF     		.align	2
 452              	.L31:
 453 00c0 00200140 		.word	1073815552
 454 00c4 00210140 		.word	1073815808
 455 00c8 00380240 		.word	1073887232
 456 00cc 00080240 		.word	1073874944
 457 00d0 00000240 		.word	1073872896
 458 00d4 00000000 		.word	hdma_adc2
 459 00d8 40640240 		.word	1073898560
 460 00dc 00000000 		.word	.LC0
 461              		.cfi_endproc
 462              	.LFE128:
 464              		.section	.text.HAL_ADC_MspDeInit,"ax",%progbits
 465              		.align	1
 466              		.global	HAL_ADC_MspDeInit
 467              		.syntax unified
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 14


 468              		.thumb
 469              		.thumb_func
 470              		.fpu fpv4-sp-d16
 472              	HAL_ADC_MspDeInit:
 473              	.LFB129:
 247:Src/adc.c     **** 
 248:Src/adc.c     **** void HAL_ADC_MspDeInit(ADC_HandleTypeDef* adcHandle)
 249:Src/adc.c     **** {
 474              		.loc 1 249 0
 475              		.cfi_startproc
 476              		@ args = 0, pretend = 0, frame = 0
 477              		@ frame_needed = 0, uses_anonymous_args = 0
 478              	.LVL25:
 479 0000 10B5     		push	{r4, lr}
 480              	.LCFI12:
 481              		.cfi_def_cfa_offset 8
 482              		.cfi_offset 4, -8
 483              		.cfi_offset 14, -4
 250:Src/adc.c     **** 
 251:Src/adc.c     ****   if(adcHandle->Instance==ADC1)
 484              		.loc 1 251 0
 485 0002 0368     		ldr	r3, [r0]
 486 0004 114A     		ldr	r2, .L39
 487 0006 9342     		cmp	r3, r2
 488 0008 04D0     		beq	.L37
 489 000a 0446     		mov	r4, r0
 252:Src/adc.c     ****   {
 253:Src/adc.c     ****   /* USER CODE BEGIN ADC1_MspDeInit 0 */
 254:Src/adc.c     **** 
 255:Src/adc.c     ****   /* USER CODE END ADC1_MspDeInit 0 */
 256:Src/adc.c     ****     /* Peripheral clock disable */
 257:Src/adc.c     ****     __HAL_RCC_ADC1_CLK_DISABLE();
 258:Src/adc.c     ****   
 259:Src/adc.c     ****     /**ADC1 GPIO Configuration    
 260:Src/adc.c     ****     PC5     ------> ADC1_IN15 
 261:Src/adc.c     ****     */
 262:Src/adc.c     ****     HAL_GPIO_DeInit(GPIOC, GPIO_PIN_5);
 263:Src/adc.c     **** 
 264:Src/adc.c     ****   /* USER CODE BEGIN ADC1_MspDeInit 1 */
 265:Src/adc.c     **** 
 266:Src/adc.c     ****   /* USER CODE END ADC1_MspDeInit 1 */
 267:Src/adc.c     ****   }
 268:Src/adc.c     ****   else if(adcHandle->Instance==ADC2)
 490              		.loc 1 268 0
 491 000c 104A     		ldr	r2, .L39+4
 492 000e 9342     		cmp	r3, r2
 493 0010 0BD0     		beq	.L38
 494              	.LVL26:
 495              	.L33:
 269:Src/adc.c     ****   {
 270:Src/adc.c     ****   /* USER CODE BEGIN ADC2_MspDeInit 0 */
 271:Src/adc.c     **** 
 272:Src/adc.c     ****   /* USER CODE END ADC2_MspDeInit 0 */
 273:Src/adc.c     ****     /* Peripheral clock disable */
 274:Src/adc.c     ****     __HAL_RCC_ADC2_CLK_DISABLE();
 275:Src/adc.c     ****   
 276:Src/adc.c     ****     /**ADC2 GPIO Configuration    
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 15


 277:Src/adc.c     ****     PC0     ------> ADC2_IN10
 278:Src/adc.c     ****     PC1     ------> ADC2_IN11
 279:Src/adc.c     ****     PA2     ------> ADC2_IN2
 280:Src/adc.c     ****     PA3     ------> ADC2_IN3 
 281:Src/adc.c     ****     */
 282:Src/adc.c     ****     HAL_GPIO_DeInit(GPIOC, GPIO_PIN_0|GPIO_PIN_1);
 283:Src/adc.c     **** 
 284:Src/adc.c     ****     HAL_GPIO_DeInit(GPIOA, GPIO_PIN_2|GPIO_PIN_3);
 285:Src/adc.c     **** 
 286:Src/adc.c     ****     /* ADC2 DMA DeInit */
 287:Src/adc.c     ****     HAL_DMA_DeInit(adcHandle->DMA_Handle);
 288:Src/adc.c     ****   /* USER CODE BEGIN ADC2_MspDeInit 1 */
 289:Src/adc.c     **** 
 290:Src/adc.c     ****   /* USER CODE END ADC2_MspDeInit 1 */
 291:Src/adc.c     ****   }
 292:Src/adc.c     **** } 
 496              		.loc 1 292 0
 497 0012 10BD     		pop	{r4, pc}
 498              	.LVL27:
 499              	.L37:
 257:Src/adc.c     ****   
 500              		.loc 1 257 0
 501 0014 02F58C32 		add	r2, r2, #71680
 502 0018 536C     		ldr	r3, [r2, #68]
 503 001a 23F48073 		bic	r3, r3, #256
 504 001e 5364     		str	r3, [r2, #68]
 262:Src/adc.c     **** 
 505              		.loc 1 262 0
 506 0020 2021     		movs	r1, #32
 507 0022 0C48     		ldr	r0, .L39+8
 508              	.LVL28:
 509 0024 FFF7FEFF 		bl	HAL_GPIO_DeInit
 510              	.LVL29:
 511 0028 F3E7     		b	.L33
 512              	.LVL30:
 513              	.L38:
 274:Src/adc.c     ****   
 514              		.loc 1 274 0
 515 002a 0B4A     		ldr	r2, .L39+12
 516 002c 536C     		ldr	r3, [r2, #68]
 517 002e 23F40073 		bic	r3, r3, #512
 518 0032 5364     		str	r3, [r2, #68]
 282:Src/adc.c     **** 
 519              		.loc 1 282 0
 520 0034 0321     		movs	r1, #3
 521 0036 0748     		ldr	r0, .L39+8
 522              	.LVL31:
 523 0038 FFF7FEFF 		bl	HAL_GPIO_DeInit
 524              	.LVL32:
 284:Src/adc.c     **** 
 525              		.loc 1 284 0
 526 003c 0C21     		movs	r1, #12
 527 003e 0748     		ldr	r0, .L39+16
 528 0040 FFF7FEFF 		bl	HAL_GPIO_DeInit
 529              	.LVL33:
 287:Src/adc.c     ****   /* USER CODE BEGIN ADC2_MspDeInit 1 */
 530              		.loc 1 287 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 16


 531 0044 A06B     		ldr	r0, [r4, #56]
 532 0046 FFF7FEFF 		bl	HAL_DMA_DeInit
 533              	.LVL34:
 534              		.loc 1 292 0
 535 004a E2E7     		b	.L33
 536              	.L40:
 537              		.align	2
 538              	.L39:
 539 004c 00200140 		.word	1073815552
 540 0050 00210140 		.word	1073815808
 541 0054 00080240 		.word	1073874944
 542 0058 00380240 		.word	1073887232
 543 005c 00000240 		.word	1073872896
 544              		.cfi_endproc
 545              	.LFE129:
 547              		.section	.text.Adc_SetSensorValue,"ax",%progbits
 548              		.align	1
 549              		.global	Adc_SetSensorValue
 550              		.syntax unified
 551              		.thumb
 552              		.thumb_func
 553              		.fpu fpv4-sp-d16
 555              	Adc_SetSensorValue:
 556              	.LFB130:
 293:Src/adc.c     **** 
 294:Src/adc.c     **** /* USER CODE BEGIN 1 */
 295:Src/adc.c     **** void Adc_SetSensorValue(void)
 296:Src/adc.c     **** {
 557              		.loc 1 296 0
 558              		.cfi_startproc
 559              		@ args = 0, pretend = 0, frame = 0
 560              		@ frame_needed = 0, uses_anonymous_args = 0
 561              		@ link register save eliminated.
 297:Src/adc.c     ****   sen_l.reference = 108;
 562              		.loc 1 297 0
 563 0000 0A4B     		ldr	r3, .L42
 564 0002 6C22     		movs	r2, #108
 565 0004 9A80     		strh	r2, [r3, #4]	@ movhi
 298:Src/adc.c     ****   sen_l.threshold = 95;
 566              		.loc 1 298 0
 567 0006 5F22     		movs	r2, #95
 568 0008 DA80     		strh	r2, [r3, #6]	@ movhi
 299:Src/adc.c     **** 
 300:Src/adc.c     ****   sen_fl.reference = 191;
 569              		.loc 1 300 0
 570 000a 094B     		ldr	r3, .L42+4
 571 000c BF22     		movs	r2, #191
 572 000e 9A80     		strh	r2, [r3, #4]	@ movhi
 301:Src/adc.c     **** 
 302:Src/adc.c     ****   sen_front.reference = 195;
 573              		.loc 1 302 0
 574 0010 084B     		ldr	r3, .L42+8
 575 0012 C322     		movs	r2, #195
 576 0014 9A80     		strh	r2, [r3, #4]	@ movhi
 303:Src/adc.c     ****   sen_front.threshold = 109;
 577              		.loc 1 303 0
 578 0016 6D22     		movs	r2, #109
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 17


 579 0018 DA80     		strh	r2, [r3, #6]	@ movhi
 304:Src/adc.c     **** 
 305:Src/adc.c     ****   sen_fr.reference = 201;
 580              		.loc 1 305 0
 581 001a 074B     		ldr	r3, .L42+12
 582 001c C922     		movs	r2, #201
 583 001e 9A80     		strh	r2, [r3, #4]	@ movhi
 306:Src/adc.c     **** 
 307:Src/adc.c     ****   sen_r.reference = 160;
 584              		.loc 1 307 0
 585 0020 064B     		ldr	r3, .L42+16
 586 0022 A022     		movs	r2, #160
 587 0024 9A80     		strh	r2, [r3, #4]	@ movhi
 308:Src/adc.c     ****   sen_r.threshold = 133;
 588              		.loc 1 308 0
 589 0026 8522     		movs	r2, #133
 590 0028 DA80     		strh	r2, [r3, #6]	@ movhi
 309:Src/adc.c     **** }
 591              		.loc 1 309 0
 592 002a 7047     		bx	lr
 593              	.L43:
 594              		.align	2
 595              	.L42:
 596 002c 00000000 		.word	sen_l
 597 0030 00000000 		.word	sen_fl
 598 0034 00000000 		.word	sen_front
 599 0038 00000000 		.word	sen_fr
 600 003c 00000000 		.word	sen_r
 601              		.cfi_endproc
 602              	.LFE130:
 604              		.section	.text.update_sensor_data,"ax",%progbits
 605              		.align	1
 606              		.global	update_sensor_data
 607              		.syntax unified
 608              		.thumb
 609              		.thumb_func
 610              		.fpu fpv4-sp-d16
 612              	update_sensor_data:
 613              	.LFB131:
 310:Src/adc.c     **** 
 311:Src/adc.c     **** void update_sensor_data(void)
 312:Src/adc.c     **** {
 614              		.loc 1 312 0
 615              		.cfi_startproc
 616              		@ args = 0, pretend = 0, frame = 0
 617              		@ frame_needed = 0, uses_anonymous_args = 0
 618              		@ link register save eliminated.
 313:Src/adc.c     **** 
 314:Src/adc.c     ****   sen_front.now = (sen_fl.now + sen_fr.now) / 2;
 619              		.loc 1 314 0
 620 0000 1A4B     		ldr	r3, .L52
 621 0002 B3F90030 		ldrsh	r3, [r3]
 622 0006 1A4A     		ldr	r2, .L52+4
 623 0008 B2F90020 		ldrsh	r2, [r2]
 624 000c 1344     		add	r3, r3, r2
 625 000e 03EBD373 		add	r3, r3, r3, lsr #31
 626 0012 43F34F03 		sbfx	r3, r3, #1, #16
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 18


 627 0016 174A     		ldr	r2, .L52+8
 628 0018 1380     		strh	r3, [r2]	@ movhi
 315:Src/adc.c     **** 
 316:Src/adc.c     ****   if (sen_front.now < sen_front.threshold)
 629              		.loc 1 316 0
 630 001a B2F90620 		ldrsh	r2, [r2, #6]
 631 001e 9342     		cmp	r3, r2
 632 0020 17DA     		bge	.L45
 317:Src/adc.c     ****   {
 318:Src/adc.c     ****     sen_front.is_wall = FALSE;
 633              		.loc 1 318 0
 634 0022 144B     		ldr	r3, .L52+8
 635 0024 0022     		movs	r2, #0
 636 0026 1A73     		strb	r2, [r3, #12]
 637              	.L46:
 319:Src/adc.c     ****   }
 320:Src/adc.c     ****   else
 321:Src/adc.c     ****   {
 322:Src/adc.c     ****     sen_front.is_wall = TRUE;
 323:Src/adc.c     ****   }
 324:Src/adc.c     **** 
 325:Src/adc.c     ****   if (sen_l.now < sen_l.threshold)
 638              		.loc 1 325 0
 639 0028 134B     		ldr	r3, .L52+12
 640 002a B3F90020 		ldrsh	r2, [r3]
 641 002e B3F90630 		ldrsh	r3, [r3, #6]
 642 0032 9A42     		cmp	r2, r3
 643 0034 11DA     		bge	.L47
 326:Src/adc.c     ****   {
 327:Src/adc.c     ****     sen_l.is_wall = FALSE;
 644              		.loc 1 327 0
 645 0036 104B     		ldr	r3, .L52+12
 646 0038 0022     		movs	r2, #0
 647 003a 1A73     		strb	r2, [r3, #12]
 648              	.L48:
 328:Src/adc.c     ****   }
 329:Src/adc.c     ****   else
 330:Src/adc.c     ****   {
 331:Src/adc.c     ****     sen_l.is_wall = TRUE;
 332:Src/adc.c     ****   }
 333:Src/adc.c     **** 
 334:Src/adc.c     ****   if (sen_r.now < sen_r.threshold)
 649              		.loc 1 334 0
 650 003c 0F4B     		ldr	r3, .L52+16
 651 003e B3F90020 		ldrsh	r2, [r3]
 652 0042 B3F90630 		ldrsh	r3, [r3, #6]
 653 0046 9A42     		cmp	r2, r3
 654 0048 0BDB     		blt	.L51
 335:Src/adc.c     ****   {
 336:Src/adc.c     ****     sen_r.is_wall = FALSE;
 337:Src/adc.c     ****   }
 338:Src/adc.c     ****   else
 339:Src/adc.c     ****   {
 340:Src/adc.c     ****     sen_r.is_wall = TRUE;
 655              		.loc 1 340 0
 656 004a 0C4B     		ldr	r3, .L52+16
 657 004c 0122     		movs	r2, #1
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 19


 658 004e 1A73     		strb	r2, [r3, #12]
 341:Src/adc.c     ****   }
 342:Src/adc.c     **** }
 659              		.loc 1 342 0
 660 0050 7047     		bx	lr
 661              	.L45:
 322:Src/adc.c     ****   }
 662              		.loc 1 322 0
 663 0052 084B     		ldr	r3, .L52+8
 664 0054 0122     		movs	r2, #1
 665 0056 1A73     		strb	r2, [r3, #12]
 666 0058 E6E7     		b	.L46
 667              	.L47:
 331:Src/adc.c     ****   }
 668              		.loc 1 331 0
 669 005a 074B     		ldr	r3, .L52+12
 670 005c 0122     		movs	r2, #1
 671 005e 1A73     		strb	r2, [r3, #12]
 672 0060 ECE7     		b	.L48
 673              	.L51:
 336:Src/adc.c     ****   }
 674              		.loc 1 336 0
 675 0062 064B     		ldr	r3, .L52+16
 676 0064 0022     		movs	r2, #0
 677 0066 1A73     		strb	r2, [r3, #12]
 678 0068 7047     		bx	lr
 679              	.L53:
 680 006a 00BF     		.align	2
 681              	.L52:
 682 006c 00000000 		.word	sen_fl
 683 0070 00000000 		.word	sen_fr
 684 0074 00000000 		.word	sen_front
 685 0078 00000000 		.word	sen_l
 686 007c 00000000 		.word	sen_r
 687              		.cfi_endproc
 688              	.LFE131:
 690              		.section	.text.Adc_IrSensorStart,"ax",%progbits
 691              		.align	1
 692              		.global	Adc_IrSensorStart
 693              		.syntax unified
 694              		.thumb
 695              		.thumb_func
 696              		.fpu fpv4-sp-d16
 698              	Adc_IrSensorStart:
 699              	.LFB132:
 343:Src/adc.c     **** 
 344:Src/adc.c     **** void Adc_IrSensorStart(void)
 345:Src/adc.c     **** {
 700              		.loc 1 345 0
 701              		.cfi_startproc
 702              		@ args = 0, pretend = 0, frame = 0
 703              		@ frame_needed = 0, uses_anonymous_args = 0
 704 0000 08B5     		push	{r3, lr}
 705              	.LCFI13:
 706              		.cfi_def_cfa_offset 8
 707              		.cfi_offset 3, -8
 708              		.cfi_offset 14, -4
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 20


 346:Src/adc.c     ****   adc_counter = 0;
 709              		.loc 1 346 0
 710 0002 044B     		ldr	r3, .L56
 711 0004 0022     		movs	r2, #0
 712 0006 1A80     		strh	r2, [r3]	@ movhi
 347:Src/adc.c     ****   HAL_ADC_Start_DMA(&hadc2, (uint32_t *)ADCBuff, ADC_CONVERT_DATA_SIZE);
 713              		.loc 1 347 0
 714 0008 0422     		movs	r2, #4
 715 000a 0349     		ldr	r1, .L56+4
 716 000c 0348     		ldr	r0, .L56+8
 717 000e FFF7FEFF 		bl	HAL_ADC_Start_DMA
 718              	.LVL35:
 348:Src/adc.c     **** }
 719              		.loc 1 348 0
 720 0012 08BD     		pop	{r3, pc}
 721              	.L57:
 722              		.align	2
 723              	.L56:
 724 0014 00000000 		.word	adc_counter
 725 0018 00000000 		.word	ADCBuff
 726 001c 00000000 		.word	hadc2
 727              		.cfi_endproc
 728              	.LFE132:
 730              		.section	.text.Adc_IrSensorFinish,"ax",%progbits
 731              		.align	1
 732              		.global	Adc_IrSensorFinish
 733              		.syntax unified
 734              		.thumb
 735              		.thumb_func
 736              		.fpu fpv4-sp-d16
 738              	Adc_IrSensorFinish:
 739              	.LFB133:
 349:Src/adc.c     **** 
 350:Src/adc.c     **** void Adc_IrSensorFinish(void)
 351:Src/adc.c     **** {
 740              		.loc 1 351 0
 741              		.cfi_startproc
 742              		@ args = 0, pretend = 0, frame = 0
 743              		@ frame_needed = 0, uses_anonymous_args = 0
 744 0000 10B5     		push	{r4, lr}
 745              	.LCFI14:
 746              		.cfi_def_cfa_offset 8
 747              		.cfi_offset 4, -8
 748              		.cfi_offset 14, -4
 352:Src/adc.c     ****   adc_counter = IRSENSOR_OFF;
 749              		.loc 1 352 0
 750 0002 074B     		ldr	r3, .L60
 751 0004 0422     		movs	r2, #4
 752 0006 1A80     		strh	r2, [r3]	@ movhi
 353:Src/adc.c     ****   HAL_GPIO_WritePin(ir_front_GPIO_Port, ir_front_Pin, GPIO_PIN_RESET);
 753              		.loc 1 353 0
 754 0008 064C     		ldr	r4, .L60+4
 755 000a 0022     		movs	r2, #0
 756 000c 0221     		movs	r1, #2
 757 000e 2046     		mov	r0, r4
 758 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
 759              	.LVL36:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 21


 354:Src/adc.c     ****   HAL_GPIO_WritePin(ir_side_GPIO_Port, ir_side_Pin, GPIO_PIN_RESET);
 760              		.loc 1 354 0
 761 0014 0022     		movs	r2, #0
 762 0016 0121     		movs	r1, #1
 763 0018 2046     		mov	r0, r4
 764 001a FFF7FEFF 		bl	HAL_GPIO_WritePin
 765              	.LVL37:
 355:Src/adc.c     **** }
 766              		.loc 1 355 0
 767 001e 10BD     		pop	{r4, pc}
 768              	.L61:
 769              		.align	2
 770              	.L60:
 771 0020 00000000 		.word	adc_counter
 772 0024 00000240 		.word	1073872896
 773              		.cfi_endproc
 774              	.LFE133:
 776              		.section	.text.Adc_CheckConvert,"ax",%progbits
 777              		.align	1
 778              		.global	Adc_CheckConvert
 779              		.syntax unified
 780              		.thumb
 781              		.thumb_func
 782              		.fpu fpv4-sp-d16
 784              	Adc_CheckConvert:
 785              	.LFB134:
 356:Src/adc.c     **** 
 357:Src/adc.c     **** void Adc_CheckConvert(void)
 358:Src/adc.c     **** {
 786              		.loc 1 358 0
 787              		.cfi_startproc
 788              		@ args = 0, pretend = 0, frame = 0
 789              		@ frame_needed = 0, uses_anonymous_args = 0
 790 0000 08B5     		push	{r3, lr}
 791              	.LCFI15:
 792              		.cfi_def_cfa_offset 8
 793              		.cfi_offset 3, -8
 794              		.cfi_offset 14, -4
 359:Src/adc.c     ****   if (adc_counter == FINISH_CONVERT)
 795              		.loc 1 359 0
 796 0002 104B     		ldr	r3, .L66
 797 0004 B3F90030 		ldrsh	r3, [r3]
 798 0008 032B     		cmp	r3, #3
 799 000a 00D0     		beq	.L65
 800              	.L62:
 360:Src/adc.c     ****   {
 361:Src/adc.c     ****     update_sensor_data();
 362:Src/adc.c     ****     adc_counter = 0;
 363:Src/adc.c     ****     HAL_ADC_Start_DMA(&hadc2, (uint32_t *)ADCBuff, ADC_CONVERT_DATA_SIZE);
 364:Src/adc.c     **** 
 365:Src/adc.c     ****     sen_l.diff_1ms = sen_l.now - sen_l.befor_1ms;
 366:Src/adc.c     ****     sen_l.befor_1ms = sen_l.now;
 367:Src/adc.c     **** 
 368:Src/adc.c     ****     sen_r.diff_1ms = sen_r.now - sen_r.befor_1ms;
 369:Src/adc.c     ****     sen_r.befor_1ms = sen_r.now;
 370:Src/adc.c     ****   }
 371:Src/adc.c     **** }
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 22


 801              		.loc 1 371 0
 802 000c 08BD     		pop	{r3, pc}
 803              	.L65:
 361:Src/adc.c     ****     adc_counter = 0;
 804              		.loc 1 361 0
 805 000e FFF7FEFF 		bl	update_sensor_data
 806              	.LVL38:
 362:Src/adc.c     ****     HAL_ADC_Start_DMA(&hadc2, (uint32_t *)ADCBuff, ADC_CONVERT_DATA_SIZE);
 807              		.loc 1 362 0
 808 0012 0C4B     		ldr	r3, .L66
 809 0014 0022     		movs	r2, #0
 810 0016 1A80     		strh	r2, [r3]	@ movhi
 363:Src/adc.c     **** 
 811              		.loc 1 363 0
 812 0018 0422     		movs	r2, #4
 813 001a 0B49     		ldr	r1, .L66+4
 814 001c 0B48     		ldr	r0, .L66+8
 815 001e FFF7FEFF 		bl	HAL_ADC_Start_DMA
 816              	.LVL39:
 365:Src/adc.c     ****     sen_l.befor_1ms = sen_l.now;
 817              		.loc 1 365 0
 818 0022 0B4B     		ldr	r3, .L66+12
 819 0024 B3F90010 		ldrsh	r1, [r3]
 820 0028 8AB2     		uxth	r2, r1
 821 002a 5888     		ldrh	r0, [r3, #2]
 822 002c 121A     		subs	r2, r2, r0
 823 002e 5A81     		strh	r2, [r3, #10]	@ movhi
 366:Src/adc.c     **** 
 824              		.loc 1 366 0
 825 0030 5980     		strh	r1, [r3, #2]	@ movhi
 368:Src/adc.c     ****     sen_r.befor_1ms = sen_r.now;
 826              		.loc 1 368 0
 827 0032 084B     		ldr	r3, .L66+16
 828 0034 B3F90010 		ldrsh	r1, [r3]
 829 0038 8AB2     		uxth	r2, r1
 830 003a 5888     		ldrh	r0, [r3, #2]
 831 003c 121A     		subs	r2, r2, r0
 832 003e 5A81     		strh	r2, [r3, #10]	@ movhi
 369:Src/adc.c     ****   }
 833              		.loc 1 369 0
 834 0040 5980     		strh	r1, [r3, #2]	@ movhi
 835              		.loc 1 371 0
 836 0042 E3E7     		b	.L62
 837              	.L67:
 838              		.align	2
 839              	.L66:
 840 0044 00000000 		.word	adc_counter
 841 0048 00000000 		.word	ADCBuff
 842 004c 00000000 		.word	hadc2
 843 0050 00000000 		.word	sen_l
 844 0054 00000000 		.word	sen_r
 845              		.cfi_endproc
 846              	.LFE134:
 848              		.section	.text.Adc_GetSensor,"ax",%progbits
 849              		.align	1
 850              		.global	Adc_GetSensor
 851              		.syntax unified
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 23


 852              		.thumb
 853              		.thumb_func
 854              		.fpu fpv4-sp-d16
 856              	Adc_GetSensor:
 857              	.LFB135:
 372:Src/adc.c     **** 
 373:Src/adc.c     **** // DMA ?
 374:Src/adc.c     **** void Adc_GetSensor(void)
 375:Src/adc.c     **** {
 858              		.loc 1 375 0
 859              		.cfi_startproc
 860              		@ args = 0, pretend = 0, frame = 8
 861              		@ frame_needed = 0, uses_anonymous_args = 0
 862 0000 10B5     		push	{r4, lr}
 863              	.LCFI16:
 864              		.cfi_def_cfa_offset 8
 865              		.cfi_offset 4, -8
 866              		.cfi_offset 14, -4
 867 0002 82B0     		sub	sp, sp, #8
 868              	.LCFI17:
 869              		.cfi_def_cfa_offset 16
 376:Src/adc.c     ****   volatile unsigned char i;
 377:Src/adc.c     ****   switch (adc_counter)
 870              		.loc 1 377 0
 871 0004 494B     		ldr	r3, .L81
 872 0006 B3F90030 		ldrsh	r3, [r3]
 873 000a 012B     		cmp	r3, #1
 874 000c 2ED0     		beq	.L70
 875 000e 022B     		cmp	r3, #2
 876 0010 61D0     		beq	.L71
 877 0012 0BB1     		cbz	r3, .L80
 878              	.L68:
 378:Src/adc.c     ****   {
 379:Src/adc.c     ****   case OFF_VALUE:
 380:Src/adc.c     ****     HAL_ADC_Stop_DMA(&hadc2);
 381:Src/adc.c     ****     ADCOffData[0] = ADCBuff[0];
 382:Src/adc.c     ****     ADCOffData[1] = ADCBuff[1];
 383:Src/adc.c     ****     ADCOffData[2] = ADCBuff[2];
 384:Src/adc.c     ****     ADCOffData[3] = ADCBuff[3];
 385:Src/adc.c     **** 
 386:Src/adc.c     ****     HAL_GPIO_WritePin(ir_front_GPIO_Port, ir_front_Pin, GPIO_PIN_SET);
 387:Src/adc.c     **** 
 388:Src/adc.c     ****     for (i = 0; i < 200; i++)
 389:Src/adc.c     ****     {
 390:Src/adc.c     ****     }
 391:Src/adc.c     **** 
 392:Src/adc.c     ****     adc_counter = FRONT_VALUE;
 393:Src/adc.c     **** 
 394:Src/adc.c     ****     HAL_ADC_Start_DMA(&hadc2, (uint32_t *)ADCBuff, ADC_CONVERT_DATA_SIZE);
 395:Src/adc.c     ****     break;
 396:Src/adc.c     **** 
 397:Src/adc.c     ****   case FRONT_VALUE:
 398:Src/adc.c     ****     HAL_ADC_Stop_DMA(&hadc2);
 399:Src/adc.c     ****     HAL_GPIO_WritePin(ir_front_GPIO_Port, ir_front_Pin, GPIO_PIN_RESET);
 400:Src/adc.c     **** 
 401:Src/adc.c     ****     ADCOntData[1] = ADCBuff[1];
 402:Src/adc.c     ****     ADCOntData[2] = ADCBuff[2];
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 24


 403:Src/adc.c     **** 
 404:Src/adc.c     ****     //sen_l.diff = sen_l.now - (ADCOntData[2] - ADCOffData[2]);
 405:Src/adc.c     ****     sen_fl.now = ADCOntData[1] - ADCOffData[1];
 406:Src/adc.c     **** 
 407:Src/adc.c     ****     //sen_fl.diff = sen_fl.now - (ADCOntData[3] - ADCOffData[3]);
 408:Src/adc.c     ****     sen_fr.now = ADCOntData[2] - ADCOffData[2];
 409:Src/adc.c     **** 
 410:Src/adc.c     ****     HAL_GPIO_WritePin(ir_side_GPIO_Port, ir_side_Pin, GPIO_PIN_SET);
 411:Src/adc.c     **** 
 412:Src/adc.c     ****     for (i = 0; i < 200; i++)
 413:Src/adc.c     ****     {
 414:Src/adc.c     ****     }
 415:Src/adc.c     **** 
 416:Src/adc.c     ****     adc_counter = SIDE_VALUE;
 417:Src/adc.c     **** 
 418:Src/adc.c     ****     HAL_ADC_Start_DMA(&hadc2, (uint32_t *)ADCBuff, ADC_CONVERT_DATA_SIZE);
 419:Src/adc.c     ****     break;
 420:Src/adc.c     **** 
 421:Src/adc.c     ****   case SIDE_VALUE:
 422:Src/adc.c     ****     HAL_ADC_Stop_DMA(&hadc2);
 423:Src/adc.c     ****     HAL_GPIO_WritePin(ir_side_GPIO_Port, ir_side_Pin, GPIO_PIN_RESET);
 424:Src/adc.c     **** 
 425:Src/adc.c     ****     ADCOntData[0] = ADCBuff[0];
 426:Src/adc.c     ****     ADCOntData[3] = ADCBuff[3];
 427:Src/adc.c     **** 
 428:Src/adc.c     ****     //sen_fr.diff = sen_fr.now - (ADCOntData[0] - ADCOffData[0]);
 429:Src/adc.c     ****     sen_l.now = ADCOntData[0] - ADCOffData[0];
 430:Src/adc.c     **** 
 431:Src/adc.c     ****     //sen_r.diff = sen_r.now - (ADCOntData[1] - ADCOffData[1]);
 432:Src/adc.c     ****     sen_r.now = ADCOntData[3] - ADCOffData[3];
 433:Src/adc.c     **** 
 434:Src/adc.c     ****     for (i = 0; i < 200; i++)
 435:Src/adc.c     ****     {
 436:Src/adc.c     ****     }
 437:Src/adc.c     **** 
 438:Src/adc.c     ****     adc_counter = FINISH_CONVERT;
 439:Src/adc.c     ****     break;
 440:Src/adc.c     **** 
 441:Src/adc.c     ****   default:
 442:Src/adc.c     ****     break;
 443:Src/adc.c     ****   }
 444:Src/adc.c     **** }
 879              		.loc 1 444 0
 880 0014 02B0     		add	sp, sp, #8
 881              	.LCFI18:
 882              		.cfi_remember_state
 883              		.cfi_def_cfa_offset 8
 884              		@ sp needed
 885 0016 10BD     		pop	{r4, pc}
 886              	.L80:
 887              	.LCFI19:
 888              		.cfi_restore_state
 380:Src/adc.c     ****     ADCOffData[0] = ADCBuff[0];
 889              		.loc 1 380 0
 890 0018 4548     		ldr	r0, .L81+4
 891 001a FFF7FEFF 		bl	HAL_ADC_Stop_DMA
 892              	.LVL40:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 25


 381:Src/adc.c     ****     ADCOffData[1] = ADCBuff[1];
 893              		.loc 1 381 0
 894 001e 454A     		ldr	r2, .L81+8
 895 0020 1188     		ldrh	r1, [r2]
 896 0022 454B     		ldr	r3, .L81+12
 897 0024 1980     		strh	r1, [r3]	@ movhi
 382:Src/adc.c     ****     ADCOffData[2] = ADCBuff[2];
 898              		.loc 1 382 0
 899 0026 5188     		ldrh	r1, [r2, #2]
 900 0028 5980     		strh	r1, [r3, #2]	@ movhi
 383:Src/adc.c     ****     ADCOffData[3] = ADCBuff[3];
 901              		.loc 1 383 0
 902 002a 9188     		ldrh	r1, [r2, #4]
 903 002c 9980     		strh	r1, [r3, #4]	@ movhi
 384:Src/adc.c     **** 
 904              		.loc 1 384 0
 905 002e D288     		ldrh	r2, [r2, #6]
 906 0030 DA80     		strh	r2, [r3, #6]	@ movhi
 386:Src/adc.c     **** 
 907              		.loc 1 386 0
 908 0032 0122     		movs	r2, #1
 909 0034 0221     		movs	r1, #2
 910 0036 4148     		ldr	r0, .L81+16
 911 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
 912              	.LVL41:
 388:Src/adc.c     ****     {
 913              		.loc 1 388 0
 914 003c 0023     		movs	r3, #0
 915 003e 8DF80730 		strb	r3, [sp, #7]
 916 0042 05E0     		b	.L73
 917              	.L74:
 388:Src/adc.c     ****     {
 918              		.loc 1 388 0 is_stmt 0 discriminator 3
 919 0044 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 920 0048 0133     		adds	r3, r3, #1
 921 004a DBB2     		uxtb	r3, r3
 922 004c 8DF80730 		strb	r3, [sp, #7]
 923              	.L73:
 388:Src/adc.c     ****     {
 924              		.loc 1 388 0 discriminator 1
 925 0050 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 926 0054 DBB2     		uxtb	r3, r3
 927 0056 C72B     		cmp	r3, #199
 928 0058 F4D9     		bls	.L74
 392:Src/adc.c     **** 
 929              		.loc 1 392 0 is_stmt 1
 930 005a 344B     		ldr	r3, .L81
 931 005c 0122     		movs	r2, #1
 932 005e 1A80     		strh	r2, [r3]	@ movhi
 394:Src/adc.c     ****     break;
 933              		.loc 1 394 0
 934 0060 0422     		movs	r2, #4
 935 0062 3449     		ldr	r1, .L81+8
 936 0064 3248     		ldr	r0, .L81+4
 937 0066 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 938              	.LVL42:
 395:Src/adc.c     **** 
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 26


 939              		.loc 1 395 0
 940 006a D3E7     		b	.L68
 941              	.L70:
 398:Src/adc.c     ****     HAL_GPIO_WritePin(ir_front_GPIO_Port, ir_front_Pin, GPIO_PIN_RESET);
 942              		.loc 1 398 0
 943 006c 3048     		ldr	r0, .L81+4
 944 006e FFF7FEFF 		bl	HAL_ADC_Stop_DMA
 945              	.LVL43:
 399:Src/adc.c     **** 
 946              		.loc 1 399 0
 947 0072 324C     		ldr	r4, .L81+16
 948 0074 0022     		movs	r2, #0
 949 0076 0221     		movs	r1, #2
 950 0078 2046     		mov	r0, r4
 951 007a FFF7FEFF 		bl	HAL_GPIO_WritePin
 952              	.LVL44:
 401:Src/adc.c     ****     ADCOntData[2] = ADCBuff[2];
 953              		.loc 1 401 0
 954 007e 2D4B     		ldr	r3, .L81+8
 955 0080 5A88     		ldrh	r2, [r3, #2]
 956 0082 2F49     		ldr	r1, .L81+20
 957 0084 4A80     		strh	r2, [r1, #2]	@ movhi
 402:Src/adc.c     **** 
 958              		.loc 1 402 0
 959 0086 9B88     		ldrh	r3, [r3, #4]
 960 0088 8B80     		strh	r3, [r1, #4]	@ movhi
 405:Src/adc.c     **** 
 961              		.loc 1 405 0
 962 008a 2B49     		ldr	r1, .L81+12
 963 008c 4888     		ldrh	r0, [r1, #2]
 964 008e 121A     		subs	r2, r2, r0
 965 0090 2C48     		ldr	r0, .L81+24
 966 0092 0280     		strh	r2, [r0]	@ movhi
 408:Src/adc.c     **** 
 967              		.loc 1 408 0
 968 0094 8A88     		ldrh	r2, [r1, #4]
 969 0096 9B1A     		subs	r3, r3, r2
 970 0098 2B4A     		ldr	r2, .L81+28
 971 009a 1380     		strh	r3, [r2]	@ movhi
 410:Src/adc.c     **** 
 972              		.loc 1 410 0
 973 009c 0122     		movs	r2, #1
 974 009e 1146     		mov	r1, r2
 975 00a0 2046     		mov	r0, r4
 976 00a2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 977              	.LVL45:
 412:Src/adc.c     ****     {
 978              		.loc 1 412 0
 979 00a6 0023     		movs	r3, #0
 980 00a8 8DF80730 		strb	r3, [sp, #7]
 981 00ac 05E0     		b	.L75
 982              	.L76:
 412:Src/adc.c     ****     {
 983              		.loc 1 412 0 is_stmt 0 discriminator 3
 984 00ae 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 985 00b2 0133     		adds	r3, r3, #1
 986 00b4 DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 27


 987 00b6 8DF80730 		strb	r3, [sp, #7]
 988              	.L75:
 412:Src/adc.c     ****     {
 989              		.loc 1 412 0 discriminator 1
 990 00ba 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 991 00be DBB2     		uxtb	r3, r3
 992 00c0 C72B     		cmp	r3, #199
 993 00c2 F4D9     		bls	.L76
 416:Src/adc.c     **** 
 994              		.loc 1 416 0 is_stmt 1
 995 00c4 194B     		ldr	r3, .L81
 996 00c6 0222     		movs	r2, #2
 997 00c8 1A80     		strh	r2, [r3]	@ movhi
 418:Src/adc.c     ****     break;
 998              		.loc 1 418 0
 999 00ca 0422     		movs	r2, #4
 1000 00cc 1949     		ldr	r1, .L81+8
 1001 00ce 1848     		ldr	r0, .L81+4
 1002 00d0 FFF7FEFF 		bl	HAL_ADC_Start_DMA
 1003              	.LVL46:
 419:Src/adc.c     **** 
 1004              		.loc 1 419 0
 1005 00d4 9EE7     		b	.L68
 1006              	.L71:
 422:Src/adc.c     ****     HAL_GPIO_WritePin(ir_side_GPIO_Port, ir_side_Pin, GPIO_PIN_RESET);
 1007              		.loc 1 422 0
 1008 00d6 1648     		ldr	r0, .L81+4
 1009 00d8 FFF7FEFF 		bl	HAL_ADC_Stop_DMA
 1010              	.LVL47:
 423:Src/adc.c     **** 
 1011              		.loc 1 423 0
 1012 00dc 0022     		movs	r2, #0
 1013 00de 0121     		movs	r1, #1
 1014 00e0 1648     		ldr	r0, .L81+16
 1015 00e2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1016              	.LVL48:
 425:Src/adc.c     ****     ADCOntData[3] = ADCBuff[3];
 1017              		.loc 1 425 0
 1018 00e6 134B     		ldr	r3, .L81+8
 1019 00e8 1A88     		ldrh	r2, [r3]
 1020 00ea 1549     		ldr	r1, .L81+20
 1021 00ec 0A80     		strh	r2, [r1]	@ movhi
 426:Src/adc.c     **** 
 1022              		.loc 1 426 0
 1023 00ee DB88     		ldrh	r3, [r3, #6]
 1024 00f0 CB80     		strh	r3, [r1, #6]	@ movhi
 429:Src/adc.c     **** 
 1025              		.loc 1 429 0
 1026 00f2 1149     		ldr	r1, .L81+12
 1027 00f4 0888     		ldrh	r0, [r1]
 1028 00f6 121A     		subs	r2, r2, r0
 1029 00f8 1448     		ldr	r0, .L81+32
 1030 00fa 0280     		strh	r2, [r0]	@ movhi
 432:Src/adc.c     **** 
 1031              		.loc 1 432 0
 1032 00fc CA88     		ldrh	r2, [r1, #6]
 1033 00fe 9B1A     		subs	r3, r3, r2
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 28


 1034 0100 134A     		ldr	r2, .L81+36
 1035 0102 1380     		strh	r3, [r2]	@ movhi
 434:Src/adc.c     ****     {
 1036              		.loc 1 434 0
 1037 0104 0023     		movs	r3, #0
 1038 0106 8DF80730 		strb	r3, [sp, #7]
 1039 010a 05E0     		b	.L77
 1040              	.L78:
 434:Src/adc.c     ****     {
 1041              		.loc 1 434 0 is_stmt 0 discriminator 3
 1042 010c 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 1043 0110 0133     		adds	r3, r3, #1
 1044 0112 DBB2     		uxtb	r3, r3
 1045 0114 8DF80730 		strb	r3, [sp, #7]
 1046              	.L77:
 434:Src/adc.c     ****     {
 1047              		.loc 1 434 0 discriminator 1
 1048 0118 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 1049 011c DBB2     		uxtb	r3, r3
 1050 011e C72B     		cmp	r3, #199
 1051 0120 F4D9     		bls	.L78
 438:Src/adc.c     ****     break;
 1052              		.loc 1 438 0 is_stmt 1
 1053 0122 024B     		ldr	r3, .L81
 1054 0124 0322     		movs	r2, #3
 1055 0126 1A80     		strh	r2, [r3]	@ movhi
 1056              		.loc 1 444 0
 1057 0128 74E7     		b	.L68
 1058              	.L82:
 1059 012a 00BF     		.align	2
 1060              	.L81:
 1061 012c 00000000 		.word	adc_counter
 1062 0130 00000000 		.word	hadc2
 1063 0134 00000000 		.word	ADCBuff
 1064 0138 00000000 		.word	ADCOffData
 1065 013c 00000240 		.word	1073872896
 1066 0140 00000000 		.word	ADCOntData
 1067 0144 00000000 		.word	sen_fl
 1068 0148 00000000 		.word	sen_fr
 1069 014c 00000000 		.word	sen_l
 1070 0150 00000000 		.word	sen_r
 1071              		.cfi_endproc
 1072              	.LFE135:
 1074              		.section	.text.Adc_GetBatt,"ax",%progbits
 1075              		.align	1
 1076              		.global	Adc_GetBatt
 1077              		.syntax unified
 1078              		.thumb
 1079              		.thumb_func
 1080              		.fpu fpv4-sp-d16
 1082              	Adc_GetBatt:
 1083              	.LFB136:
 445:Src/adc.c     **** 
 446:Src/adc.c     **** float Adc_GetBatt(void)
 447:Src/adc.c     **** {
 1084              		.loc 1 447 0
 1085              		.cfi_startproc
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 29


 1086              		@ args = 0, pretend = 0, frame = 0
 1087              		@ frame_needed = 0, uses_anonymous_args = 0
 1088 0000 38B5     		push	{r3, r4, r5, lr}
 1089              	.LCFI20:
 1090              		.cfi_def_cfa_offset 16
 1091              		.cfi_offset 3, -16
 1092              		.cfi_offset 4, -12
 1093              		.cfi_offset 5, -8
 1094              		.cfi_offset 14, -4
 1095 0002 2DED028B 		vpush.64	{d8}
 1096              	.LCFI21:
 1097              		.cfi_def_cfa_offset 24
 1098              		.cfi_offset 80, -24
 1099              		.cfi_offset 81, -20
 1100              	.LVL49:
 1101              	.LBB4:
 448:Src/adc.c     ****   float batt = 0;
 449:Src/adc.c     ****   for (int i = 0; i < 10; i++)
 1102              		.loc 1 449 0
 1103 0006 0024     		movs	r4, #0
 1104              	.LBE4:
 448:Src/adc.c     ****   float batt = 0;
 1105              		.loc 1 448 0
 1106 0008 9FED2E8A 		vldr.32	s16, .L102
 1107              	.LBB5:
 1108              		.loc 1 449 0
 1109 000c 16E0     		b	.L84
 1110              	.LVL50:
 1111              	.L86:
 450:Src/adc.c     ****   {
 451:Src/adc.c     ****     HAL_ADC_Start(&hadc1); // ad convert start
 1112              		.loc 1 451 0
 1113 000e 2E48     		ldr	r0, .L102+4
 1114 0010 FFF7FEFF 		bl	HAL_ADC_Start
 1115              	.LVL51:
 1116              	.L85:
 452:Src/adc.c     ****     while (HAL_ADC_PollForConversion(&hadc1, 50) != HAL_OK)
 1117              		.loc 1 452 0 discriminator 1
 1118 0014 3221     		movs	r1, #50
 1119 0016 2C48     		ldr	r0, .L102+4
 1120 0018 FFF7FEFF 		bl	HAL_ADC_PollForConversion
 1121              	.LVL52:
 1122 001c 0028     		cmp	r0, #0
 1123 001e F9D1     		bne	.L85
 453:Src/adc.c     ****     {
 454:Src/adc.c     ****     } // trans
 455:Src/adc.c     ****     batt += HAL_ADC_GetValue(&hadc1);
 1124              		.loc 1 455 0 discriminator 2
 1125 0020 294D     		ldr	r5, .L102+4
 1126 0022 2846     		mov	r0, r5
 1127 0024 FFF7FEFF 		bl	HAL_ADC_GetValue
 1128              	.LVL53:
 1129 0028 07EE900A 		vmov	s15, r0	@ int
 1130 002c F8EE677A 		vcvt.f32.u32	s15, s15
 1131 0030 38EE278A 		vadd.f32	s16, s16, s15
 1132              	.LVL54:
 456:Src/adc.c     ****     HAL_ADC_Stop(&hadc1);
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 30


 1133              		.loc 1 456 0 discriminator 2
 1134 0034 2846     		mov	r0, r5
 1135 0036 FFF7FEFF 		bl	HAL_ADC_Stop
 1136              	.LVL55:
 449:Src/adc.c     ****   {
 1137              		.loc 1 449 0 discriminator 2
 1138 003a 0134     		adds	r4, r4, #1
 1139              	.LVL56:
 1140              	.L84:
 449:Src/adc.c     ****   {
 1141              		.loc 1 449 0 is_stmt 0 discriminator 1
 1142 003c 092C     		cmp	r4, #9
 1143 003e E6DD     		ble	.L86
 1144              	.LBE5:
 457:Src/adc.c     ****   }
 458:Src/adc.c     ****   batt = batt / 10.0f / 4095.0f * 3.2f * 3.3f;
 1145              		.loc 1 458 0 is_stmt 1
 1146 0040 F2EE047A 		vmov.f32	s15, #1.0e+1
 1147 0044 88EE277A 		vdiv.f32	s14, s16, s15
 1148 0048 DFED207A 		vldr.32	s15, .L102+8
 1149 004c 87EE278A 		vdiv.f32	s16, s14, s15
 1150              	.LVL57:
 1151 0050 DFED1F7A 		vldr.32	s15, .L102+12
 1152 0054 28EE278A 		vmul.f32	s16, s16, s15
 1153 0058 DFED1E7A 		vldr.32	s15, .L102+16
 1154 005c 28EE278A 		vmul.f32	s16, s16, s15
 1155              	.LVL58:
 459:Src/adc.c     ****   if (batt > 8.0f)
 1156              		.loc 1 459 0
 1157 0060 F2EE007A 		vmov.f32	s15, #8.0e+0
 1158 0064 B4EEE78A 		vcmpe.f32	s16, s15
 1159 0068 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1160 006c 0ADC     		bgt	.L100
 460:Src/adc.c     ****   {
 461:Src/adc.c     ****     Gpio_FullColor(BLUE);
 462:Src/adc.c     ****   }
 463:Src/adc.c     ****   else if (batt > 7.5)
 1161              		.loc 1 463 0
 1162 006e F1EE0E7A 		vmov.f32	s15, #7.5e+0
 1163 0072 B4EEE78A 		vcmpe.f32	s16, s15
 1164 0076 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1165 007a 0BDD     		ble	.L98
 464:Src/adc.c     ****   {
 465:Src/adc.c     ****     Gpio_FullColor(YELLOW);
 1166              		.loc 1 465 0
 1167 007c 0120     		movs	r0, #1
 1168 007e FFF7FEFF 		bl	Gpio_FullColor
 1169              	.LVL59:
 1170 0082 02E0     		b	.L83
 1171              	.L100:
 461:Src/adc.c     ****   }
 1172              		.loc 1 461 0
 1173 0084 0620     		movs	r0, #6
 1174 0086 FFF7FEFF 		bl	Gpio_FullColor
 1175              	.LVL60:
 1176              	.L83:
 466:Src/adc.c     ****   }
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 31


 467:Src/adc.c     ****   else if (batt > 7.0)
 468:Src/adc.c     ****   {
 469:Src/adc.c     ****     Gpio_FullColor(RED);
 470:Src/adc.c     ****   }
 471:Src/adc.c     ****   else
 472:Src/adc.c     ****   {
 473:Src/adc.c     ****     while (1)
 474:Src/adc.c     ****     {
 475:Src/adc.c     ****       Gpio_FullColor(RED);
 476:Src/adc.c     ****       HAL_Delay(200);
 477:Src/adc.c     ****       Gpio_FullColor(DARK);
 478:Src/adc.c     ****       HAL_Delay(200);
 479:Src/adc.c     ****     }
 480:Src/adc.c     ****   }
 481:Src/adc.c     ****   return batt;
 482:Src/adc.c     **** }
 1177              		.loc 1 482 0
 1178 008a B0EE480A 		vmov.f32	s0, s16
 1179 008e BDEC028B 		vldm	sp!, {d8}
 1180              	.LCFI22:
 1181              		.cfi_remember_state
 1182              		.cfi_restore 80
 1183              		.cfi_restore 81
 1184              		.cfi_def_cfa_offset 16
 1185              	.LVL61:
 1186 0092 38BD     		pop	{r3, r4, r5, pc}
 1187              	.LVL62:
 1188              	.L98:
 1189              	.LCFI23:
 1190              		.cfi_restore_state
 467:Src/adc.c     ****   {
 1191              		.loc 1 467 0
 1192 0094 F1EE0C7A 		vmov.f32	s15, #7.0e+0
 1193 0098 B4EEE78A 		vcmpe.f32	s16, s15
 1194 009c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1195 00a0 0CDC     		bgt	.L101
 1196              	.L92:
 475:Src/adc.c     ****       HAL_Delay(200);
 1197              		.loc 1 475 0 discriminator 1
 1198 00a2 0320     		movs	r0, #3
 1199 00a4 FFF7FEFF 		bl	Gpio_FullColor
 1200              	.LVL63:
 476:Src/adc.c     ****       Gpio_FullColor(DARK);
 1201              		.loc 1 476 0 discriminator 1
 1202 00a8 C820     		movs	r0, #200
 1203 00aa FFF7FEFF 		bl	HAL_Delay
 1204              	.LVL64:
 477:Src/adc.c     ****       HAL_Delay(200);
 1205              		.loc 1 477 0 discriminator 1
 1206 00ae 0720     		movs	r0, #7
 1207 00b0 FFF7FEFF 		bl	Gpio_FullColor
 1208              	.LVL65:
 478:Src/adc.c     ****     }
 1209              		.loc 1 478 0 discriminator 1
 1210 00b4 C820     		movs	r0, #200
 1211 00b6 FFF7FEFF 		bl	HAL_Delay
 1212              	.LVL66:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 32


 1213 00ba F2E7     		b	.L92
 1214              	.L101:
 469:Src/adc.c     ****   }
 1215              		.loc 1 469 0
 1216 00bc 0320     		movs	r0, #3
 1217 00be FFF7FEFF 		bl	Gpio_FullColor
 1218              	.LVL67:
 1219 00c2 E2E7     		b	.L83
 1220              	.L103:
 1221              		.align	2
 1222              	.L102:
 1223 00c4 00000000 		.word	0
 1224 00c8 00000000 		.word	hadc1
 1225 00cc 00F07F45 		.word	1166012416
 1226 00d0 CDCC4C40 		.word	1078774989
 1227 00d4 33335340 		.word	1079194419
 1228              		.cfi_endproc
 1229              	.LFE136:
 1231              		.comm	hdma_adc2,96,4
 1232              		.comm	hadc2,72,4
 1233              		.comm	hadc1,72,4
 1234              		.comm	adc_counter,2,2
 1235              		.comm	ADCOntData,8,4
 1236              		.comm	ADCOffData,8,4
 1237              		.comm	ADCBuff,8,4
 1238              		.comm	sen_r,14,4
 1239              		.comm	sen_fr,14,4
 1240              		.comm	sen_front,14,4
 1241              		.comm	sen_fl,14,4
 1242              		.comm	sen_l,14,4
 1243              		.section	.rodata.MX_ADC1_Init.str1.4,"aMS",%progbits,1
 1244              		.align	2
 1245              	.LC0:
 1246 0000 5372632F 		.ascii	"Src/adc.c\000"
 1246      6164632E 
 1246      6300
 1247              		.text
 1248              	.Letext0:
 1249              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1250              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1251              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 1252              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 1253              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 1254              		.file 7 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1255              		.file 8 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1256              		.file 9 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\lib\\gcc\\arm-none-eabi
 1257              		.file 10 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 1258              		.file 11 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 1259              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1260              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1261              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1262              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_adc.h"
 1263              		.file 16 "Inc/adc.h"
 1264              		.file 17 "Inc/gpio.h"
 1265              		.file 18 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1266              		.file 19 "Inc/dma.h"
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 33


DEFINED SYMBOLS
                            *ABS*:00000000 adc.c
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:18     .text.MX_ADC1_Init:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:25     .text.MX_ADC1_Init:00000000 MX_ADC1_Init
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:116    .text.MX_ADC1_Init:0000005c $d
                            *COM*:00000048 hadc1
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:124    .text.MX_ADC2_Init:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:131    .text.MX_ADC2_Init:00000000 MX_ADC2_Init
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:283    .text.MX_ADC2_Init:000000b8 $d
                            *COM*:00000048 hadc2
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:291    .text.HAL_ADC_MspInit:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:298    .text.HAL_ADC_MspInit:00000000 HAL_ADC_MspInit
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:453    .text.HAL_ADC_MspInit:000000c0 $d
                            *COM*:00000060 hdma_adc2
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:465    .text.HAL_ADC_MspDeInit:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:472    .text.HAL_ADC_MspDeInit:00000000 HAL_ADC_MspDeInit
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:539    .text.HAL_ADC_MspDeInit:0000004c $d
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:548    .text.Adc_SetSensorValue:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:555    .text.Adc_SetSensorValue:00000000 Adc_SetSensorValue
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:596    .text.Adc_SetSensorValue:0000002c $d
                            *COM*:0000000e sen_l
                            *COM*:0000000e sen_fl
                            *COM*:0000000e sen_front
                            *COM*:0000000e sen_fr
                            *COM*:0000000e sen_r
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:605    .text.update_sensor_data:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:612    .text.update_sensor_data:00000000 update_sensor_data
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:682    .text.update_sensor_data:0000006c $d
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:691    .text.Adc_IrSensorStart:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:698    .text.Adc_IrSensorStart:00000000 Adc_IrSensorStart
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:724    .text.Adc_IrSensorStart:00000014 $d
                            *COM*:00000002 adc_counter
                            *COM*:00000008 ADCBuff
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:731    .text.Adc_IrSensorFinish:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:738    .text.Adc_IrSensorFinish:00000000 Adc_IrSensorFinish
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:771    .text.Adc_IrSensorFinish:00000020 $d
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:777    .text.Adc_CheckConvert:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:784    .text.Adc_CheckConvert:00000000 Adc_CheckConvert
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:840    .text.Adc_CheckConvert:00000044 $d
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:849    .text.Adc_GetSensor:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:856    .text.Adc_GetSensor:00000000 Adc_GetSensor
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:1061   .text.Adc_GetSensor:0000012c $d
                            *COM*:00000008 ADCOffData
                            *COM*:00000008 ADCOntData
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:1075   .text.Adc_GetBatt:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:1082   .text.Adc_GetBatt:00000000 Adc_GetBatt
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:1223   .text.Adc_GetBatt:000000c4 $d
C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s:1244   .rodata.MX_ADC1_Init.str1.4:00000000 $d

UNDEFINED SYMBOLS
HAL_ADC_Init
HAL_ADC_ConfigChannel
_Error_Handler
HAL_GPIO_Init
HAL_DMA_Init
HAL_GPIO_DeInit
HAL_DMA_DeInit
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc79aQqk.s 			page 34


HAL_ADC_Start_DMA
HAL_GPIO_WritePin
HAL_ADC_Stop_DMA
HAL_ADC_Start
HAL_ADC_PollForConversion
HAL_ADC_GetValue
HAL_ADC_Stop
Gpio_FullColor
HAL_Delay
