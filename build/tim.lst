ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"tim.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.MX_TIM1_Init,"ax",%progbits
  18              		.align	1
  19              		.global	MX_TIM1_Init
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	MX_TIM1_Init:
  26              	.LFB159:
  27              		.file 1 "Src/tim.c"
   1:Src/tim.c     **** /**
   2:Src/tim.c     ****   ******************************************************************************
   3:Src/tim.c     ****   * File Name          : TIM.c
   4:Src/tim.c     ****   * Description        : This file provides code for the configuration
   5:Src/tim.c     ****   *                      of the TIM instances.
   6:Src/tim.c     ****   ******************************************************************************
   7:Src/tim.c     ****   ** This notice applies to any and all portions of this file
   8:Src/tim.c     ****   * that are not between comment pairs USER CODE BEGIN and
   9:Src/tim.c     ****   * USER CODE END. Other portions of this file, whether 
  10:Src/tim.c     ****   * inserted by the user or by software development tools
  11:Src/tim.c     ****   * are owned by their respective copyright owners.
  12:Src/tim.c     ****   *
  13:Src/tim.c     ****   * COPYRIGHT(c) 2019 STMicroelectronics
  14:Src/tim.c     ****   *
  15:Src/tim.c     ****   * Redistribution and use in source and binary forms, with or without modification,
  16:Src/tim.c     ****   * are permitted provided that the following conditions are met:
  17:Src/tim.c     ****   *   1. Redistributions of source code must retain the above copyright notice,
  18:Src/tim.c     ****   *      this list of conditions and the following disclaimer.
  19:Src/tim.c     ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  20:Src/tim.c     ****   *      this list of conditions and the following disclaimer in the documentation
  21:Src/tim.c     ****   *      and/or other materials provided with the distribution.
  22:Src/tim.c     ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  23:Src/tim.c     ****   *      may be used to endorse or promote products derived from this software
  24:Src/tim.c     ****   *      without specific prior written permission.
  25:Src/tim.c     ****   *
  26:Src/tim.c     ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  27:Src/tim.c     ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  28:Src/tim.c     ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  29:Src/tim.c     ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  30:Src/tim.c     ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  31:Src/tim.c     ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 2


  32:Src/tim.c     ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  33:Src/tim.c     ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  34:Src/tim.c     ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  35:Src/tim.c     ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  36:Src/tim.c     ****   *
  37:Src/tim.c     ****   ******************************************************************************
  38:Src/tim.c     ****   */
  39:Src/tim.c     **** 
  40:Src/tim.c     **** /* Includes ------------------------------------------------------------------*/
  41:Src/tim.c     **** #include "tim.h"
  42:Src/tim.c     **** 
  43:Src/tim.c     **** #include "gpio.h"
  44:Src/tim.c     **** 
  45:Src/tim.c     **** /* USER CODE BEGIN 0 */
  46:Src/tim.c     **** 
  47:Src/tim.c     **** //Includes
  48:Src/tim.c     **** #include "stdint.h"
  49:Src/tim.c     **** #include "arm_math.h"
  50:Src/tim.c     **** //defines
  51:Src/tim.c     **** #define ENC_CUL_ROT 1024.0f //512 * 2
  52:Src/tim.c     **** //#define TIRE_RADIUS 12.45f  //[mm] 24.58mm
  53:Src/tim.c     **** #define GEAR_RATE 3.5f
  54:Src/tim.c     **** //variables
  55:Src/tim.c     **** TIM_MasterConfigTypeDef sMasterConfig;
  56:Src/tim.c     **** TIM_OC_InitTypeDef sConfigOC;
  57:Src/tim.c     **** enc_t enc;
  58:Src/tim.c     **** float radius = 12.45f;
  59:Src/tim.c     **** 
  60:Src/tim.c     **** /* USER CODE END 0 */
  61:Src/tim.c     **** 
  62:Src/tim.c     **** TIM_HandleTypeDef htim1;
  63:Src/tim.c     **** TIM_HandleTypeDef htim2;
  64:Src/tim.c     **** TIM_HandleTypeDef htim3;
  65:Src/tim.c     **** TIM_HandleTypeDef htim8;
  66:Src/tim.c     **** 
  67:Src/tim.c     **** /* TIM1 init function */
  68:Src/tim.c     **** void MX_TIM1_Init(void)
  69:Src/tim.c     **** {
  28              		.loc 1 69 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 48
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 00B5     		push	{lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 4
  35              		.cfi_offset 14, -4
  36 0002 8DB0     		sub	sp, sp, #52
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 56
  70:Src/tim.c     ****   TIM_Encoder_InitTypeDef sConfig;
  71:Src/tim.c     ****   TIM_MasterConfigTypeDef sMasterConfig;
  72:Src/tim.c     **** 
  73:Src/tim.c     ****   htim1.Instance = TIM1;
  39              		.loc 1 73 0
  40 0004 1648     		ldr	r0, .L7
  41 0006 174B     		ldr	r3, .L7+4
  42 0008 0360     		str	r3, [r0]
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 3


  74:Src/tim.c     ****   htim1.Init.Prescaler = 0;
  43              		.loc 1 74 0
  44 000a 0023     		movs	r3, #0
  45 000c 4360     		str	r3, [r0, #4]
  75:Src/tim.c     ****   htim1.Init.CounterMode = TIM_COUNTERMODE_UP;
  46              		.loc 1 75 0
  47 000e 8360     		str	r3, [r0, #8]
  76:Src/tim.c     ****   htim1.Init.Period = 65535;
  48              		.loc 1 76 0
  49 0010 4FF6FF72 		movw	r2, #65535
  50 0014 C260     		str	r2, [r0, #12]
  77:Src/tim.c     ****   htim1.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
  51              		.loc 1 77 0
  52 0016 0361     		str	r3, [r0, #16]
  78:Src/tim.c     ****   htim1.Init.RepetitionCounter = 0;
  53              		.loc 1 78 0
  54 0018 4361     		str	r3, [r0, #20]
  79:Src/tim.c     ****   sConfig.EncoderMode = TIM_ENCODERMODE_TI1;
  55              		.loc 1 79 0
  56 001a 0122     		movs	r2, #1
  57 001c 0392     		str	r2, [sp, #12]
  80:Src/tim.c     ****   sConfig.IC1Polarity = TIM_ICPOLARITY_RISING;
  58              		.loc 1 80 0
  59 001e 0493     		str	r3, [sp, #16]
  81:Src/tim.c     ****   sConfig.IC1Selection = TIM_ICSELECTION_DIRECTTI;
  60              		.loc 1 81 0
  61 0020 0592     		str	r2, [sp, #20]
  82:Src/tim.c     ****   sConfig.IC1Prescaler = TIM_ICPSC_DIV1;
  62              		.loc 1 82 0
  63 0022 0693     		str	r3, [sp, #24]
  83:Src/tim.c     ****   sConfig.IC1Filter = 0;
  64              		.loc 1 83 0
  65 0024 0793     		str	r3, [sp, #28]
  84:Src/tim.c     ****   sConfig.IC2Polarity = TIM_ICPOLARITY_RISING;
  66              		.loc 1 84 0
  67 0026 0893     		str	r3, [sp, #32]
  85:Src/tim.c     ****   sConfig.IC2Selection = TIM_ICSELECTION_DIRECTTI;
  68              		.loc 1 85 0
  69 0028 0992     		str	r2, [sp, #36]
  86:Src/tim.c     ****   sConfig.IC2Prescaler = TIM_ICPSC_DIV1;
  70              		.loc 1 86 0
  71 002a 0A93     		str	r3, [sp, #40]
  87:Src/tim.c     ****   sConfig.IC2Filter = 0;
  72              		.loc 1 87 0
  73 002c 0B93     		str	r3, [sp, #44]
  88:Src/tim.c     ****   if (HAL_TIM_Encoder_Init(&htim1, &sConfig) != HAL_OK)
  74              		.loc 1 88 0
  75 002e 03A9     		add	r1, sp, #12
  76 0030 FFF7FEFF 		bl	HAL_TIM_Encoder_Init
  77              	.LVL0:
  78 0034 50B9     		cbnz	r0, .L5
  79              	.L2:
  89:Src/tim.c     ****   {
  90:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
  91:Src/tim.c     ****   }
  92:Src/tim.c     **** 
  93:Src/tim.c     ****   sMasterConfig.MasterOutputTrigger = TIM_TRGO_RESET;
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 4


  80              		.loc 1 93 0
  81 0036 0023     		movs	r3, #0
  82 0038 0193     		str	r3, [sp, #4]
  94:Src/tim.c     ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
  83              		.loc 1 94 0
  84 003a 0293     		str	r3, [sp, #8]
  95:Src/tim.c     ****   if (HAL_TIMEx_MasterConfigSynchronization(&htim1, &sMasterConfig) != HAL_OK)
  85              		.loc 1 95 0
  86 003c 01A9     		add	r1, sp, #4
  87 003e 0848     		ldr	r0, .L7
  88 0040 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
  89              	.LVL1:
  90 0044 38B9     		cbnz	r0, .L6
  91              	.L1:
  96:Src/tim.c     ****   {
  97:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
  98:Src/tim.c     ****   }
  99:Src/tim.c     **** }
  92              		.loc 1 99 0
  93 0046 0DB0     		add	sp, sp, #52
  94              	.LCFI2:
  95              		.cfi_remember_state
  96              		.cfi_def_cfa_offset 4
  97              		@ sp needed
  98 0048 5DF804FB 		ldr	pc, [sp], #4
  99              	.L5:
 100              	.LCFI3:
 101              		.cfi_restore_state
  90:Src/tim.c     ****   }
 102              		.loc 1 90 0
 103 004c 5A21     		movs	r1, #90
 104 004e 0648     		ldr	r0, .L7+8
 105 0050 FFF7FEFF 		bl	_Error_Handler
 106              	.LVL2:
 107 0054 EFE7     		b	.L2
 108              	.L6:
  97:Src/tim.c     ****   }
 109              		.loc 1 97 0
 110 0056 6121     		movs	r1, #97
 111 0058 0348     		ldr	r0, .L7+8
 112 005a FFF7FEFF 		bl	_Error_Handler
 113              	.LVL3:
 114              		.loc 1 99 0
 115 005e F2E7     		b	.L1
 116              	.L8:
 117              		.align	2
 118              	.L7:
 119 0060 00000000 		.word	htim1
 120 0064 00000140 		.word	1073807360
 121 0068 00000000 		.word	.LC0
 122              		.cfi_endproc
 123              	.LFE159:
 125              		.section	.text.MX_TIM8_Init,"ax",%progbits
 126              		.align	1
 127              		.global	MX_TIM8_Init
 128              		.syntax unified
 129              		.thumb
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 5


 130              		.thumb_func
 131              		.fpu fpv4-sp-d16
 133              	MX_TIM8_Init:
 134              	.LFB162:
 100:Src/tim.c     **** /* TIM2 init function */
 101:Src/tim.c     **** void MX_TIM2_Init(void)
 102:Src/tim.c     **** {
 103:Src/tim.c     ****   TIM_MasterConfigTypeDef sMasterConfig;
 104:Src/tim.c     ****   TIM_OC_InitTypeDef sConfigOC;
 105:Src/tim.c     **** 
 106:Src/tim.c     ****   htim2.Instance = TIM2;
 107:Src/tim.c     ****   htim2.Init.Prescaler = 0;
 108:Src/tim.c     ****   htim2.Init.CounterMode = TIM_COUNTERMODE_UP;
 109:Src/tim.c     ****   htim2.Init.Period = 799;
 110:Src/tim.c     ****   htim2.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 111:Src/tim.c     ****   if (HAL_TIM_PWM_Init(&htim2) != HAL_OK)
 112:Src/tim.c     ****   {
 113:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
 114:Src/tim.c     ****   }
 115:Src/tim.c     **** 
 116:Src/tim.c     ****   sMasterConfig.MasterOutputTrigger = TIM_TRGO_RESET;
 117:Src/tim.c     ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 118:Src/tim.c     ****   if (HAL_TIMEx_MasterConfigSynchronization(&htim2, &sMasterConfig) != HAL_OK)
 119:Src/tim.c     ****   {
 120:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
 121:Src/tim.c     ****   }
 122:Src/tim.c     **** 
 123:Src/tim.c     ****   sConfigOC.OCMode = TIM_OCMODE_PWM1;
 124:Src/tim.c     ****   sConfigOC.Pulse = 0;
 125:Src/tim.c     ****   sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
 126:Src/tim.c     ****   sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
 127:Src/tim.c     ****   if (HAL_TIM_PWM_ConfigChannel(&htim2, &sConfigOC, TIM_CHANNEL_1) != HAL_OK)
 128:Src/tim.c     ****   {
 129:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
 130:Src/tim.c     ****   }
 131:Src/tim.c     **** 
 132:Src/tim.c     ****   if (HAL_TIM_PWM_ConfigChannel(&htim2, &sConfigOC, TIM_CHANNEL_2) != HAL_OK)
 133:Src/tim.c     ****   {
 134:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
 135:Src/tim.c     ****   }
 136:Src/tim.c     **** 
 137:Src/tim.c     ****   HAL_TIM_MspPostInit(&htim2);
 138:Src/tim.c     **** }
 139:Src/tim.c     **** /* TIM3 init function */
 140:Src/tim.c     **** void MX_TIM3_Init(void)
 141:Src/tim.c     **** {
 142:Src/tim.c     ****   TIM_MasterConfigTypeDef sMasterConfig;
 143:Src/tim.c     ****   TIM_OC_InitTypeDef sConfigOC;
 144:Src/tim.c     **** 
 145:Src/tim.c     ****   htim3.Instance = TIM3;
 146:Src/tim.c     ****   htim3.Init.Prescaler = 0;
 147:Src/tim.c     ****   htim3.Init.CounterMode = TIM_COUNTERMODE_UP;
 148:Src/tim.c     ****   htim3.Init.Period = 0;
 149:Src/tim.c     ****   htim3.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 150:Src/tim.c     ****   if (HAL_TIM_PWM_Init(&htim3) != HAL_OK)
 151:Src/tim.c     ****   {
 152:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 6


 153:Src/tim.c     ****   }
 154:Src/tim.c     **** 
 155:Src/tim.c     ****   sMasterConfig.MasterOutputTrigger = TIM_TRGO_RESET;
 156:Src/tim.c     ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 157:Src/tim.c     ****   if (HAL_TIMEx_MasterConfigSynchronization(&htim3, &sMasterConfig) != HAL_OK)
 158:Src/tim.c     ****   {
 159:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
 160:Src/tim.c     ****   }
 161:Src/tim.c     **** 
 162:Src/tim.c     ****   sConfigOC.OCMode = TIM_OCMODE_PWM1;
 163:Src/tim.c     ****   sConfigOC.Pulse = 0;
 164:Src/tim.c     ****   sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
 165:Src/tim.c     ****   sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
 166:Src/tim.c     ****   if (HAL_TIM_PWM_ConfigChannel(&htim3, &sConfigOC, TIM_CHANNEL_1) != HAL_OK)
 167:Src/tim.c     ****   {
 168:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
 169:Src/tim.c     ****   }
 170:Src/tim.c     **** 
 171:Src/tim.c     ****   if (HAL_TIM_PWM_ConfigChannel(&htim3, &sConfigOC, TIM_CHANNEL_2) != HAL_OK)
 172:Src/tim.c     ****   {
 173:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
 174:Src/tim.c     ****   }
 175:Src/tim.c     **** 
 176:Src/tim.c     ****   HAL_TIM_MspPostInit(&htim3);
 177:Src/tim.c     **** }
 178:Src/tim.c     **** /* TIM8 init function */
 179:Src/tim.c     **** void MX_TIM8_Init(void)
 180:Src/tim.c     **** {
 135              		.loc 1 180 0
 136              		.cfi_startproc
 137              		@ args = 0, pretend = 0, frame = 48
 138              		@ frame_needed = 0, uses_anonymous_args = 0
 139 0000 00B5     		push	{lr}
 140              	.LCFI4:
 141              		.cfi_def_cfa_offset 4
 142              		.cfi_offset 14, -4
 143 0002 8DB0     		sub	sp, sp, #52
 144              	.LCFI5:
 145              		.cfi_def_cfa_offset 56
 181:Src/tim.c     ****   TIM_Encoder_InitTypeDef sConfig;
 182:Src/tim.c     ****   TIM_MasterConfigTypeDef sMasterConfig;
 183:Src/tim.c     **** 
 184:Src/tim.c     ****   htim8.Instance = TIM8;
 146              		.loc 1 184 0
 147 0004 1648     		ldr	r0, .L15
 148 0006 174B     		ldr	r3, .L15+4
 149 0008 0360     		str	r3, [r0]
 185:Src/tim.c     ****   htim8.Init.Prescaler = 0;
 150              		.loc 1 185 0
 151 000a 0023     		movs	r3, #0
 152 000c 4360     		str	r3, [r0, #4]
 186:Src/tim.c     ****   htim8.Init.CounterMode = TIM_COUNTERMODE_UP;
 153              		.loc 1 186 0
 154 000e 8360     		str	r3, [r0, #8]
 187:Src/tim.c     ****   htim8.Init.Period = 65535;
 155              		.loc 1 187 0
 156 0010 4FF6FF72 		movw	r2, #65535
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 7


 157 0014 C260     		str	r2, [r0, #12]
 188:Src/tim.c     ****   htim8.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 158              		.loc 1 188 0
 159 0016 0361     		str	r3, [r0, #16]
 189:Src/tim.c     ****   htim8.Init.RepetitionCounter = 0;
 160              		.loc 1 189 0
 161 0018 4361     		str	r3, [r0, #20]
 190:Src/tim.c     ****   sConfig.EncoderMode = TIM_ENCODERMODE_TI1;
 162              		.loc 1 190 0
 163 001a 0122     		movs	r2, #1
 164 001c 0392     		str	r2, [sp, #12]
 191:Src/tim.c     ****   sConfig.IC1Polarity = TIM_ICPOLARITY_RISING;
 165              		.loc 1 191 0
 166 001e 0493     		str	r3, [sp, #16]
 192:Src/tim.c     ****   sConfig.IC1Selection = TIM_ICSELECTION_DIRECTTI;
 167              		.loc 1 192 0
 168 0020 0592     		str	r2, [sp, #20]
 193:Src/tim.c     ****   sConfig.IC1Prescaler = TIM_ICPSC_DIV1;
 169              		.loc 1 193 0
 170 0022 0693     		str	r3, [sp, #24]
 194:Src/tim.c     ****   sConfig.IC1Filter = 0;
 171              		.loc 1 194 0
 172 0024 0793     		str	r3, [sp, #28]
 195:Src/tim.c     ****   sConfig.IC2Polarity = TIM_ICPOLARITY_RISING;
 173              		.loc 1 195 0
 174 0026 0893     		str	r3, [sp, #32]
 196:Src/tim.c     ****   sConfig.IC2Selection = TIM_ICSELECTION_DIRECTTI;
 175              		.loc 1 196 0
 176 0028 0992     		str	r2, [sp, #36]
 197:Src/tim.c     ****   sConfig.IC2Prescaler = TIM_ICPSC_DIV1;
 177              		.loc 1 197 0
 178 002a 0A93     		str	r3, [sp, #40]
 198:Src/tim.c     ****   sConfig.IC2Filter = 0;
 179              		.loc 1 198 0
 180 002c 0B93     		str	r3, [sp, #44]
 199:Src/tim.c     ****   if (HAL_TIM_Encoder_Init(&htim8, &sConfig) != HAL_OK)
 181              		.loc 1 199 0
 182 002e 03A9     		add	r1, sp, #12
 183 0030 FFF7FEFF 		bl	HAL_TIM_Encoder_Init
 184              	.LVL4:
 185 0034 50B9     		cbnz	r0, .L13
 186              	.L10:
 200:Src/tim.c     ****   {
 201:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
 202:Src/tim.c     ****   }
 203:Src/tim.c     **** 
 204:Src/tim.c     ****   sMasterConfig.MasterOutputTrigger = TIM_TRGO_RESET;
 187              		.loc 1 204 0
 188 0036 0023     		movs	r3, #0
 189 0038 0193     		str	r3, [sp, #4]
 205:Src/tim.c     ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 190              		.loc 1 205 0
 191 003a 0293     		str	r3, [sp, #8]
 206:Src/tim.c     ****   if (HAL_TIMEx_MasterConfigSynchronization(&htim8, &sMasterConfig) != HAL_OK)
 192              		.loc 1 206 0
 193 003c 01A9     		add	r1, sp, #4
 194 003e 0848     		ldr	r0, .L15
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 8


 195 0040 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 196              	.LVL5:
 197 0044 38B9     		cbnz	r0, .L14
 198              	.L9:
 207:Src/tim.c     ****   {
 208:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
 209:Src/tim.c     ****   }
 210:Src/tim.c     **** }
 199              		.loc 1 210 0
 200 0046 0DB0     		add	sp, sp, #52
 201              	.LCFI6:
 202              		.cfi_remember_state
 203              		.cfi_def_cfa_offset 4
 204              		@ sp needed
 205 0048 5DF804FB 		ldr	pc, [sp], #4
 206              	.L13:
 207              	.LCFI7:
 208              		.cfi_restore_state
 201:Src/tim.c     ****   }
 209              		.loc 1 201 0
 210 004c C921     		movs	r1, #201
 211 004e 0648     		ldr	r0, .L15+8
 212 0050 FFF7FEFF 		bl	_Error_Handler
 213              	.LVL6:
 214 0054 EFE7     		b	.L10
 215              	.L14:
 208:Src/tim.c     ****   }
 216              		.loc 1 208 0
 217 0056 D021     		movs	r1, #208
 218 0058 0348     		ldr	r0, .L15+8
 219 005a FFF7FEFF 		bl	_Error_Handler
 220              	.LVL7:
 221              		.loc 1 210 0
 222 005e F2E7     		b	.L9
 223              	.L16:
 224              		.align	2
 225              	.L15:
 226 0060 00000000 		.word	htim8
 227 0064 00040140 		.word	1073808384
 228 0068 00000000 		.word	.LC0
 229              		.cfi_endproc
 230              	.LFE162:
 232              		.section	.text.HAL_TIM_Encoder_MspInit,"ax",%progbits
 233              		.align	1
 234              		.global	HAL_TIM_Encoder_MspInit
 235              		.syntax unified
 236              		.thumb
 237              		.thumb_func
 238              		.fpu fpv4-sp-d16
 240              	HAL_TIM_Encoder_MspInit:
 241              	.LFB163:
 211:Src/tim.c     **** 
 212:Src/tim.c     **** void HAL_TIM_Encoder_MspInit(TIM_HandleTypeDef *tim_encoderHandle)
 213:Src/tim.c     **** {
 242              		.loc 1 213 0
 243              		.cfi_startproc
 244              		@ args = 0, pretend = 0, frame = 32
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 9


 245              		@ frame_needed = 0, uses_anonymous_args = 0
 246              	.LVL8:
 247 0000 00B5     		push	{lr}
 248              	.LCFI8:
 249              		.cfi_def_cfa_offset 4
 250              		.cfi_offset 14, -4
 251 0002 89B0     		sub	sp, sp, #36
 252              	.LCFI9:
 253              		.cfi_def_cfa_offset 40
 214:Src/tim.c     **** 
 215:Src/tim.c     ****   GPIO_InitTypeDef GPIO_InitStruct;
 216:Src/tim.c     ****   if (tim_encoderHandle->Instance == TIM1)
 254              		.loc 1 216 0
 255 0004 0368     		ldr	r3, [r0]
 256 0006 1F4A     		ldr	r2, .L23
 257 0008 9342     		cmp	r3, r2
 258 000a 05D0     		beq	.L21
 217:Src/tim.c     ****   {
 218:Src/tim.c     ****     /* USER CODE BEGIN TIM1_MspInit 0 */
 219:Src/tim.c     **** 
 220:Src/tim.c     ****     /* USER CODE END TIM1_MspInit 0 */
 221:Src/tim.c     ****     /* TIM1 clock enable */
 222:Src/tim.c     ****     __HAL_RCC_TIM1_CLK_ENABLE();
 223:Src/tim.c     **** 
 224:Src/tim.c     ****     /**TIM1 GPIO Configuration    
 225:Src/tim.c     ****     PA8     ------> TIM1_CH1
 226:Src/tim.c     ****     PA9     ------> TIM1_CH2 
 227:Src/tim.c     ****     */
 228:Src/tim.c     ****     GPIO_InitStruct.Pin = GPIO_PIN_8 | GPIO_PIN_9;
 229:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 230:Src/tim.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 231:Src/tim.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 232:Src/tim.c     ****     GPIO_InitStruct.Alternate = GPIO_AF1_TIM1;
 233:Src/tim.c     ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 234:Src/tim.c     **** 
 235:Src/tim.c     ****     /* USER CODE BEGIN TIM1_MspInit 1 */
 236:Src/tim.c     **** 
 237:Src/tim.c     ****     /* USER CODE END TIM1_MspInit 1 */
 238:Src/tim.c     ****   }
 239:Src/tim.c     ****   else if (tim_encoderHandle->Instance == TIM8)
 259              		.loc 1 239 0
 260 000c 1E4A     		ldr	r2, .L23+4
 261 000e 9342     		cmp	r3, r2
 262 0010 1DD0     		beq	.L22
 263              	.LVL9:
 264              	.L17:
 240:Src/tim.c     ****   {
 241:Src/tim.c     ****     /* USER CODE BEGIN TIM8_MspInit 0 */
 242:Src/tim.c     **** 
 243:Src/tim.c     ****     /* USER CODE END TIM8_MspInit 0 */
 244:Src/tim.c     ****     /* TIM8 clock enable */
 245:Src/tim.c     ****     __HAL_RCC_TIM8_CLK_ENABLE();
 246:Src/tim.c     **** 
 247:Src/tim.c     ****     /**TIM8 GPIO Configuration    
 248:Src/tim.c     ****     PC6     ------> TIM8_CH1
 249:Src/tim.c     ****     PC7     ------> TIM8_CH2 
 250:Src/tim.c     ****     */
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 10


 251:Src/tim.c     ****     GPIO_InitStruct.Pin = GPIO_PIN_6 | GPIO_PIN_7;
 252:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 253:Src/tim.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 254:Src/tim.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 255:Src/tim.c     ****     GPIO_InitStruct.Alternate = GPIO_AF3_TIM8;
 256:Src/tim.c     ****     HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);
 257:Src/tim.c     **** 
 258:Src/tim.c     ****     /* USER CODE BEGIN TIM8_MspInit 1 */
 259:Src/tim.c     **** 
 260:Src/tim.c     ****     /* USER CODE END TIM8_MspInit 1 */
 261:Src/tim.c     ****   }
 262:Src/tim.c     **** }
 265              		.loc 1 262 0
 266 0012 09B0     		add	sp, sp, #36
 267              	.LCFI10:
 268              		.cfi_remember_state
 269              		.cfi_def_cfa_offset 4
 270              		@ sp needed
 271 0014 5DF804FB 		ldr	pc, [sp], #4
 272              	.LVL10:
 273              	.L21:
 274              	.LCFI11:
 275              		.cfi_restore_state
 276              	.LBB2:
 222:Src/tim.c     **** 
 277              		.loc 1 222 0
 278 0018 0023     		movs	r3, #0
 279 001a 0193     		str	r3, [sp, #4]
 280 001c 02F59C32 		add	r2, r2, #79872
 281 0020 516C     		ldr	r1, [r2, #68]
 282 0022 41F00101 		orr	r1, r1, #1
 283 0026 5164     		str	r1, [r2, #68]
 284 0028 526C     		ldr	r2, [r2, #68]
 285 002a 02F00102 		and	r2, r2, #1
 286 002e 0192     		str	r2, [sp, #4]
 287 0030 019A     		ldr	r2, [sp, #4]
 288              	.LBE2:
 228:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 289              		.loc 1 228 0
 290 0032 4FF44072 		mov	r2, #768
 291 0036 0392     		str	r2, [sp, #12]
 229:Src/tim.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 292              		.loc 1 229 0
 293 0038 0222     		movs	r2, #2
 294 003a 0492     		str	r2, [sp, #16]
 230:Src/tim.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 295              		.loc 1 230 0
 296 003c 0593     		str	r3, [sp, #20]
 231:Src/tim.c     ****     GPIO_InitStruct.Alternate = GPIO_AF1_TIM1;
 297              		.loc 1 231 0
 298 003e 0693     		str	r3, [sp, #24]
 232:Src/tim.c     ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 299              		.loc 1 232 0
 300 0040 0123     		movs	r3, #1
 301 0042 0793     		str	r3, [sp, #28]
 233:Src/tim.c     **** 
 302              		.loc 1 233 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 11


 303 0044 03A9     		add	r1, sp, #12
 304 0046 1148     		ldr	r0, .L23+8
 305              	.LVL11:
 306 0048 FFF7FEFF 		bl	HAL_GPIO_Init
 307              	.LVL12:
 308 004c E1E7     		b	.L17
 309              	.LVL13:
 310              	.L22:
 311              	.LBB3:
 245:Src/tim.c     **** 
 312              		.loc 1 245 0
 313 004e 0023     		movs	r3, #0
 314 0050 0293     		str	r3, [sp, #8]
 315 0052 02F59A32 		add	r2, r2, #78848
 316 0056 516C     		ldr	r1, [r2, #68]
 317 0058 41F00201 		orr	r1, r1, #2
 318 005c 5164     		str	r1, [r2, #68]
 319 005e 526C     		ldr	r2, [r2, #68]
 320 0060 02F00202 		and	r2, r2, #2
 321 0064 0292     		str	r2, [sp, #8]
 322 0066 029A     		ldr	r2, [sp, #8]
 323              	.LBE3:
 251:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 324              		.loc 1 251 0
 325 0068 C022     		movs	r2, #192
 326 006a 0392     		str	r2, [sp, #12]
 252:Src/tim.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 327              		.loc 1 252 0
 328 006c 0222     		movs	r2, #2
 329 006e 0492     		str	r2, [sp, #16]
 253:Src/tim.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 330              		.loc 1 253 0
 331 0070 0593     		str	r3, [sp, #20]
 254:Src/tim.c     ****     GPIO_InitStruct.Alternate = GPIO_AF3_TIM8;
 332              		.loc 1 254 0
 333 0072 0693     		str	r3, [sp, #24]
 255:Src/tim.c     ****     HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);
 334              		.loc 1 255 0
 335 0074 0323     		movs	r3, #3
 336 0076 0793     		str	r3, [sp, #28]
 256:Src/tim.c     **** 
 337              		.loc 1 256 0
 338 0078 03A9     		add	r1, sp, #12
 339 007a 0548     		ldr	r0, .L23+12
 340              	.LVL14:
 341 007c FFF7FEFF 		bl	HAL_GPIO_Init
 342              	.LVL15:
 343              		.loc 1 262 0
 344 0080 C7E7     		b	.L17
 345              	.L24:
 346 0082 00BF     		.align	2
 347              	.L23:
 348 0084 00000140 		.word	1073807360
 349 0088 00040140 		.word	1073808384
 350 008c 00000240 		.word	1073872896
 351 0090 00080240 		.word	1073874944
 352              		.cfi_endproc
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 12


 353              	.LFE163:
 355              		.section	.text.HAL_TIM_PWM_MspInit,"ax",%progbits
 356              		.align	1
 357              		.global	HAL_TIM_PWM_MspInit
 358              		.syntax unified
 359              		.thumb
 360              		.thumb_func
 361              		.fpu fpv4-sp-d16
 363              	HAL_TIM_PWM_MspInit:
 364              	.LFB164:
 263:Src/tim.c     **** 
 264:Src/tim.c     **** void HAL_TIM_PWM_MspInit(TIM_HandleTypeDef *tim_pwmHandle)
 265:Src/tim.c     **** {
 365              		.loc 1 265 0
 366              		.cfi_startproc
 367              		@ args = 0, pretend = 0, frame = 8
 368              		@ frame_needed = 0, uses_anonymous_args = 0
 369              		@ link register save eliminated.
 370              	.LVL16:
 371 0000 82B0     		sub	sp, sp, #8
 372              	.LCFI12:
 373              		.cfi_def_cfa_offset 8
 266:Src/tim.c     **** 
 267:Src/tim.c     ****   if (tim_pwmHandle->Instance == TIM2)
 374              		.loc 1 267 0
 375 0002 0368     		ldr	r3, [r0]
 376 0004 B3F1804F 		cmp	r3, #1073741824
 377 0008 04D0     		beq	.L29
 268:Src/tim.c     ****   {
 269:Src/tim.c     ****     /* USER CODE BEGIN TIM2_MspInit 0 */
 270:Src/tim.c     **** 
 271:Src/tim.c     ****     /* USER CODE END TIM2_MspInit 0 */
 272:Src/tim.c     ****     /* TIM2 clock enable */
 273:Src/tim.c     ****     __HAL_RCC_TIM2_CLK_ENABLE();
 274:Src/tim.c     ****     /* USER CODE BEGIN TIM2_MspInit 1 */
 275:Src/tim.c     **** 
 276:Src/tim.c     ****     /* USER CODE END TIM2_MspInit 1 */
 277:Src/tim.c     ****   }
 278:Src/tim.c     ****   else if (tim_pwmHandle->Instance == TIM3)
 378              		.loc 1 278 0
 379 000a 0F4A     		ldr	r2, .L31
 380 000c 9342     		cmp	r3, r2
 381 000e 0ED0     		beq	.L30
 382              	.L25:
 279:Src/tim.c     ****   {
 280:Src/tim.c     ****     /* USER CODE BEGIN TIM3_MspInit 0 */
 281:Src/tim.c     **** 
 282:Src/tim.c     ****     /* USER CODE END TIM3_MspInit 0 */
 283:Src/tim.c     ****     /* TIM3 clock enable */
 284:Src/tim.c     ****     __HAL_RCC_TIM3_CLK_ENABLE();
 285:Src/tim.c     ****     /* USER CODE BEGIN TIM3_MspInit 1 */
 286:Src/tim.c     **** 
 287:Src/tim.c     ****     /* USER CODE END TIM3_MspInit 1 */
 288:Src/tim.c     ****   }
 289:Src/tim.c     **** }
 383              		.loc 1 289 0
 384 0010 02B0     		add	sp, sp, #8
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 13


 385              	.LCFI13:
 386              		.cfi_remember_state
 387              		.cfi_def_cfa_offset 0
 388              		@ sp needed
 389 0012 7047     		bx	lr
 390              	.L29:
 391              	.LCFI14:
 392              		.cfi_restore_state
 393              	.LBB4:
 273:Src/tim.c     ****     /* USER CODE BEGIN TIM2_MspInit 1 */
 394              		.loc 1 273 0
 395 0014 0023     		movs	r3, #0
 396 0016 0093     		str	r3, [sp]
 397 0018 0C4B     		ldr	r3, .L31+4
 398 001a 1A6C     		ldr	r2, [r3, #64]
 399 001c 42F00102 		orr	r2, r2, #1
 400 0020 1A64     		str	r2, [r3, #64]
 401 0022 1B6C     		ldr	r3, [r3, #64]
 402 0024 03F00103 		and	r3, r3, #1
 403 0028 0093     		str	r3, [sp]
 404 002a 009B     		ldr	r3, [sp]
 405              	.LBE4:
 406 002c F0E7     		b	.L25
 407              	.L30:
 408              	.LBB5:
 284:Src/tim.c     ****     /* USER CODE BEGIN TIM3_MspInit 1 */
 409              		.loc 1 284 0
 410 002e 0023     		movs	r3, #0
 411 0030 0193     		str	r3, [sp, #4]
 412 0032 064B     		ldr	r3, .L31+4
 413 0034 1A6C     		ldr	r2, [r3, #64]
 414 0036 42F00202 		orr	r2, r2, #2
 415 003a 1A64     		str	r2, [r3, #64]
 416 003c 1B6C     		ldr	r3, [r3, #64]
 417 003e 03F00203 		and	r3, r3, #2
 418 0042 0193     		str	r3, [sp, #4]
 419 0044 019B     		ldr	r3, [sp, #4]
 420              	.LBE5:
 421              		.loc 1 289 0
 422 0046 E3E7     		b	.L25
 423              	.L32:
 424              		.align	2
 425              	.L31:
 426 0048 00040040 		.word	1073742848
 427 004c 00380240 		.word	1073887232
 428              		.cfi_endproc
 429              	.LFE164:
 431              		.section	.text.HAL_TIM_MspPostInit,"ax",%progbits
 432              		.align	1
 433              		.global	HAL_TIM_MspPostInit
 434              		.syntax unified
 435              		.thumb
 436              		.thumb_func
 437              		.fpu fpv4-sp-d16
 439              	HAL_TIM_MspPostInit:
 440              	.LFB165:
 290:Src/tim.c     **** void HAL_TIM_MspPostInit(TIM_HandleTypeDef *timHandle)
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 14


 291:Src/tim.c     **** {
 441              		.loc 1 291 0
 442              		.cfi_startproc
 443              		@ args = 0, pretend = 0, frame = 24
 444              		@ frame_needed = 0, uses_anonymous_args = 0
 445              	.LVL17:
 446 0000 70B5     		push	{r4, r5, r6, lr}
 447              	.LCFI15:
 448              		.cfi_def_cfa_offset 16
 449              		.cfi_offset 4, -16
 450              		.cfi_offset 5, -12
 451              		.cfi_offset 6, -8
 452              		.cfi_offset 14, -4
 453 0002 86B0     		sub	sp, sp, #24
 454              	.LCFI16:
 455              		.cfi_def_cfa_offset 40
 292:Src/tim.c     **** 
 293:Src/tim.c     ****   GPIO_InitTypeDef GPIO_InitStruct;
 294:Src/tim.c     ****   if (timHandle->Instance == TIM2)
 456              		.loc 1 294 0
 457 0004 0368     		ldr	r3, [r0]
 458 0006 B3F1804F 		cmp	r3, #1073741824
 459 000a 04D0     		beq	.L37
 295:Src/tim.c     ****   {
 296:Src/tim.c     ****     /* USER CODE BEGIN TIM2_MspPostInit 0 */
 297:Src/tim.c     **** 
 298:Src/tim.c     ****     /* USER CODE END TIM2_MspPostInit 0 */
 299:Src/tim.c     ****     /**TIM2 GPIO Configuration    
 300:Src/tim.c     ****     PA15     ------> TIM2_CH1
 301:Src/tim.c     ****     PB3     ------> TIM2_CH2 
 302:Src/tim.c     ****     */
 303:Src/tim.c     ****     GPIO_InitStruct.Pin = GPIO_PIN_15;
 304:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 305:Src/tim.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 306:Src/tim.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 307:Src/tim.c     ****     GPIO_InitStruct.Alternate = GPIO_AF1_TIM2;
 308:Src/tim.c     ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 309:Src/tim.c     **** 
 310:Src/tim.c     ****     GPIO_InitStruct.Pin = GPIO_PIN_3;
 311:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 312:Src/tim.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 313:Src/tim.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 314:Src/tim.c     ****     GPIO_InitStruct.Alternate = GPIO_AF1_TIM2;
 315:Src/tim.c     ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 316:Src/tim.c     **** 
 317:Src/tim.c     ****     /* USER CODE BEGIN TIM2_MspPostInit 1 */
 318:Src/tim.c     **** 
 319:Src/tim.c     ****     /* USER CODE END TIM2_MspPostInit 1 */
 320:Src/tim.c     ****   }
 321:Src/tim.c     ****   else if (timHandle->Instance == TIM3)
 460              		.loc 1 321 0
 461 000c 154A     		ldr	r2, .L39
 462 000e 9342     		cmp	r3, r2
 463 0010 1AD0     		beq	.L38
 464              	.LVL18:
 465              	.L33:
 322:Src/tim.c     ****   {
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 15


 323:Src/tim.c     ****     /* USER CODE BEGIN TIM3_MspPostInit 0 */
 324:Src/tim.c     **** 
 325:Src/tim.c     ****     /* USER CODE END TIM3_MspPostInit 0 */
 326:Src/tim.c     **** 
 327:Src/tim.c     ****     /**TIM3 GPIO Configuration    
 328:Src/tim.c     ****     PB4     ------> TIM3_CH1
 329:Src/tim.c     ****     PB5     ------> TIM3_CH2 
 330:Src/tim.c     ****     */
 331:Src/tim.c     ****     GPIO_InitStruct.Pin = GPIO_PIN_4 | GPIO_PIN_5;
 332:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 333:Src/tim.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 334:Src/tim.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 335:Src/tim.c     ****     GPIO_InitStruct.Alternate = GPIO_AF2_TIM3;
 336:Src/tim.c     ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 337:Src/tim.c     **** 
 338:Src/tim.c     ****     /* USER CODE BEGIN TIM3_MspPostInit 1 */
 339:Src/tim.c     **** 
 340:Src/tim.c     ****     /* USER CODE END TIM3_MspPostInit 1 */
 341:Src/tim.c     ****   }
 342:Src/tim.c     **** }
 466              		.loc 1 342 0
 467 0012 06B0     		add	sp, sp, #24
 468              	.LCFI17:
 469              		.cfi_remember_state
 470              		.cfi_def_cfa_offset 16
 471              		@ sp needed
 472 0014 70BD     		pop	{r4, r5, r6, pc}
 473              	.LVL19:
 474              	.L37:
 475              	.LCFI18:
 476              		.cfi_restore_state
 303:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 477              		.loc 1 303 0
 478 0016 4FF40043 		mov	r3, #32768
 479 001a 0193     		str	r3, [sp, #4]
 304:Src/tim.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 480              		.loc 1 304 0
 481 001c 0226     		movs	r6, #2
 482 001e 0296     		str	r6, [sp, #8]
 305:Src/tim.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 483              		.loc 1 305 0
 484 0020 0024     		movs	r4, #0
 485 0022 0394     		str	r4, [sp, #12]
 306:Src/tim.c     ****     GPIO_InitStruct.Alternate = GPIO_AF1_TIM2;
 486              		.loc 1 306 0
 487 0024 0494     		str	r4, [sp, #16]
 307:Src/tim.c     ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 488              		.loc 1 307 0
 489 0026 0125     		movs	r5, #1
 490 0028 0595     		str	r5, [sp, #20]
 308:Src/tim.c     **** 
 491              		.loc 1 308 0
 492 002a 01A9     		add	r1, sp, #4
 493 002c 0E48     		ldr	r0, .L39+4
 494              	.LVL20:
 495 002e FFF7FEFF 		bl	HAL_GPIO_Init
 496              	.LVL21:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 16


 310:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 497              		.loc 1 310 0
 498 0032 0823     		movs	r3, #8
 499 0034 0193     		str	r3, [sp, #4]
 311:Src/tim.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 500              		.loc 1 311 0
 501 0036 0296     		str	r6, [sp, #8]
 312:Src/tim.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 502              		.loc 1 312 0
 503 0038 0394     		str	r4, [sp, #12]
 313:Src/tim.c     ****     GPIO_InitStruct.Alternate = GPIO_AF1_TIM2;
 504              		.loc 1 313 0
 505 003a 0494     		str	r4, [sp, #16]
 314:Src/tim.c     ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 506              		.loc 1 314 0
 507 003c 0595     		str	r5, [sp, #20]
 315:Src/tim.c     **** 
 508              		.loc 1 315 0
 509 003e 01A9     		add	r1, sp, #4
 510 0040 0A48     		ldr	r0, .L39+8
 511 0042 FFF7FEFF 		bl	HAL_GPIO_Init
 512              	.LVL22:
 513 0046 E4E7     		b	.L33
 514              	.LVL23:
 515              	.L38:
 331:Src/tim.c     ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 516              		.loc 1 331 0
 517 0048 3023     		movs	r3, #48
 518 004a 0193     		str	r3, [sp, #4]
 332:Src/tim.c     ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 519              		.loc 1 332 0
 520 004c 0223     		movs	r3, #2
 521 004e 0293     		str	r3, [sp, #8]
 333:Src/tim.c     ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
 522              		.loc 1 333 0
 523 0050 0022     		movs	r2, #0
 524 0052 0392     		str	r2, [sp, #12]
 334:Src/tim.c     ****     GPIO_InitStruct.Alternate = GPIO_AF2_TIM3;
 525              		.loc 1 334 0
 526 0054 0492     		str	r2, [sp, #16]
 335:Src/tim.c     ****     HAL_GPIO_Init(GPIOB, &GPIO_InitStruct);
 527              		.loc 1 335 0
 528 0056 0593     		str	r3, [sp, #20]
 336:Src/tim.c     **** 
 529              		.loc 1 336 0
 530 0058 01A9     		add	r1, sp, #4
 531 005a 0448     		ldr	r0, .L39+8
 532              	.LVL24:
 533 005c FFF7FEFF 		bl	HAL_GPIO_Init
 534              	.LVL25:
 535              		.loc 1 342 0
 536 0060 D7E7     		b	.L33
 537              	.L40:
 538 0062 00BF     		.align	2
 539              	.L39:
 540 0064 00040040 		.word	1073742848
 541 0068 00000240 		.word	1073872896
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 17


 542 006c 00040240 		.word	1073873920
 543              		.cfi_endproc
 544              	.LFE165:
 546              		.section	.text.MX_TIM2_Init,"ax",%progbits
 547              		.align	1
 548              		.global	MX_TIM2_Init
 549              		.syntax unified
 550              		.thumb
 551              		.thumb_func
 552              		.fpu fpv4-sp-d16
 554              	MX_TIM2_Init:
 555              	.LFB160:
 102:Src/tim.c     ****   TIM_MasterConfigTypeDef sMasterConfig;
 556              		.loc 1 102 0
 557              		.cfi_startproc
 558              		@ args = 0, pretend = 0, frame = 40
 559              		@ frame_needed = 0, uses_anonymous_args = 0
 560 0000 00B5     		push	{lr}
 561              	.LCFI19:
 562              		.cfi_def_cfa_offset 4
 563              		.cfi_offset 14, -4
 564 0002 8BB0     		sub	sp, sp, #44
 565              	.LCFI20:
 566              		.cfi_def_cfa_offset 48
 106:Src/tim.c     ****   htim2.Init.Prescaler = 0;
 567              		.loc 1 106 0
 568 0004 2048     		ldr	r0, .L51
 569 0006 4FF08043 		mov	r3, #1073741824
 570 000a 0360     		str	r3, [r0]
 107:Src/tim.c     ****   htim2.Init.CounterMode = TIM_COUNTERMODE_UP;
 571              		.loc 1 107 0
 572 000c 0023     		movs	r3, #0
 573 000e 4360     		str	r3, [r0, #4]
 108:Src/tim.c     ****   htim2.Init.Period = 799;
 574              		.loc 1 108 0
 575 0010 8360     		str	r3, [r0, #8]
 109:Src/tim.c     ****   htim2.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 576              		.loc 1 109 0
 577 0012 40F21F32 		movw	r2, #799
 578 0016 C260     		str	r2, [r0, #12]
 110:Src/tim.c     ****   if (HAL_TIM_PWM_Init(&htim2) != HAL_OK)
 579              		.loc 1 110 0
 580 0018 0361     		str	r3, [r0, #16]
 111:Src/tim.c     ****   {
 581              		.loc 1 111 0
 582 001a FFF7FEFF 		bl	HAL_TIM_PWM_Init
 583              	.LVL26:
 584 001e F8B9     		cbnz	r0, .L47
 585              	.L42:
 116:Src/tim.c     ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 586              		.loc 1 116 0
 587 0020 0023     		movs	r3, #0
 588 0022 0893     		str	r3, [sp, #32]
 117:Src/tim.c     ****   if (HAL_TIMEx_MasterConfigSynchronization(&htim2, &sMasterConfig) != HAL_OK)
 589              		.loc 1 117 0
 590 0024 0993     		str	r3, [sp, #36]
 118:Src/tim.c     ****   {
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 18


 591              		.loc 1 118 0
 592 0026 08A9     		add	r1, sp, #32
 593 0028 1748     		ldr	r0, .L51
 594 002a FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 595              	.LVL27:
 596 002e E0B9     		cbnz	r0, .L48
 597              	.L43:
 123:Src/tim.c     ****   sConfigOC.Pulse = 0;
 598              		.loc 1 123 0
 599 0030 6023     		movs	r3, #96
 600 0032 0193     		str	r3, [sp, #4]
 124:Src/tim.c     ****   sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
 601              		.loc 1 124 0
 602 0034 0022     		movs	r2, #0
 603 0036 0292     		str	r2, [sp, #8]
 125:Src/tim.c     ****   sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
 604              		.loc 1 125 0
 605 0038 0392     		str	r2, [sp, #12]
 126:Src/tim.c     ****   if (HAL_TIM_PWM_ConfigChannel(&htim2, &sConfigOC, TIM_CHANNEL_1) != HAL_OK)
 606              		.loc 1 126 0
 607 003a 0592     		str	r2, [sp, #20]
 127:Src/tim.c     ****   {
 608              		.loc 1 127 0
 609 003c 01A9     		add	r1, sp, #4
 610 003e 1248     		ldr	r0, .L51
 611 0040 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 612              	.LVL28:
 613 0044 B0B9     		cbnz	r0, .L49
 614              	.L44:
 132:Src/tim.c     ****   {
 615              		.loc 1 132 0
 616 0046 0422     		movs	r2, #4
 617 0048 0DEB0201 		add	r1, sp, r2
 618 004c 0E48     		ldr	r0, .L51
 619 004e FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 620              	.LVL29:
 621 0052 A0B9     		cbnz	r0, .L50
 622              	.L45:
 137:Src/tim.c     **** }
 623              		.loc 1 137 0
 624 0054 0C48     		ldr	r0, .L51
 625 0056 FFF7FEFF 		bl	HAL_TIM_MspPostInit
 626              	.LVL30:
 138:Src/tim.c     **** /* TIM3 init function */
 627              		.loc 1 138 0
 628 005a 0BB0     		add	sp, sp, #44
 629              	.LCFI21:
 630              		.cfi_remember_state
 631              		.cfi_def_cfa_offset 4
 632              		@ sp needed
 633 005c 5DF804FB 		ldr	pc, [sp], #4
 634              	.L47:
 635              	.LCFI22:
 636              		.cfi_restore_state
 113:Src/tim.c     ****   }
 637              		.loc 1 113 0
 638 0060 7121     		movs	r1, #113
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 19


 639 0062 0A48     		ldr	r0, .L51+4
 640 0064 FFF7FEFF 		bl	_Error_Handler
 641              	.LVL31:
 642 0068 DAE7     		b	.L42
 643              	.L48:
 120:Src/tim.c     ****   }
 644              		.loc 1 120 0
 645 006a 7821     		movs	r1, #120
 646 006c 0748     		ldr	r0, .L51+4
 647 006e FFF7FEFF 		bl	_Error_Handler
 648              	.LVL32:
 649 0072 DDE7     		b	.L43
 650              	.L49:
 129:Src/tim.c     ****   }
 651              		.loc 1 129 0
 652 0074 8121     		movs	r1, #129
 653 0076 0548     		ldr	r0, .L51+4
 654 0078 FFF7FEFF 		bl	_Error_Handler
 655              	.LVL33:
 656 007c E3E7     		b	.L44
 657              	.L50:
 134:Src/tim.c     ****   }
 658              		.loc 1 134 0
 659 007e 8621     		movs	r1, #134
 660 0080 0248     		ldr	r0, .L51+4
 661 0082 FFF7FEFF 		bl	_Error_Handler
 662              	.LVL34:
 663 0086 E5E7     		b	.L45
 664              	.L52:
 665              		.align	2
 666              	.L51:
 667 0088 00000000 		.word	htim2
 668 008c 00000000 		.word	.LC0
 669              		.cfi_endproc
 670              	.LFE160:
 672              		.section	.text.MX_TIM3_Init,"ax",%progbits
 673              		.align	1
 674              		.global	MX_TIM3_Init
 675              		.syntax unified
 676              		.thumb
 677              		.thumb_func
 678              		.fpu fpv4-sp-d16
 680              	MX_TIM3_Init:
 681              	.LFB161:
 141:Src/tim.c     ****   TIM_MasterConfigTypeDef sMasterConfig;
 682              		.loc 1 141 0
 683              		.cfi_startproc
 684              		@ args = 0, pretend = 0, frame = 40
 685              		@ frame_needed = 0, uses_anonymous_args = 0
 686 0000 00B5     		push	{lr}
 687              	.LCFI23:
 688              		.cfi_def_cfa_offset 4
 689              		.cfi_offset 14, -4
 690 0002 8BB0     		sub	sp, sp, #44
 691              	.LCFI24:
 692              		.cfi_def_cfa_offset 48
 145:Src/tim.c     ****   htim3.Init.Prescaler = 0;
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 20


 693              		.loc 1 145 0
 694 0004 1F48     		ldr	r0, .L63
 695 0006 204B     		ldr	r3, .L63+4
 696 0008 0360     		str	r3, [r0]
 146:Src/tim.c     ****   htim3.Init.CounterMode = TIM_COUNTERMODE_UP;
 697              		.loc 1 146 0
 698 000a 0023     		movs	r3, #0
 699 000c 4360     		str	r3, [r0, #4]
 147:Src/tim.c     ****   htim3.Init.Period = 0;
 700              		.loc 1 147 0
 701 000e 8360     		str	r3, [r0, #8]
 148:Src/tim.c     ****   htim3.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 702              		.loc 1 148 0
 703 0010 C360     		str	r3, [r0, #12]
 149:Src/tim.c     ****   if (HAL_TIM_PWM_Init(&htim3) != HAL_OK)
 704              		.loc 1 149 0
 705 0012 0361     		str	r3, [r0, #16]
 150:Src/tim.c     ****   {
 706              		.loc 1 150 0
 707 0014 FFF7FEFF 		bl	HAL_TIM_PWM_Init
 708              	.LVL35:
 709 0018 F8B9     		cbnz	r0, .L59
 710              	.L54:
 155:Src/tim.c     ****   sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 711              		.loc 1 155 0
 712 001a 0023     		movs	r3, #0
 713 001c 0893     		str	r3, [sp, #32]
 156:Src/tim.c     ****   if (HAL_TIMEx_MasterConfigSynchronization(&htim3, &sMasterConfig) != HAL_OK)
 714              		.loc 1 156 0
 715 001e 0993     		str	r3, [sp, #36]
 157:Src/tim.c     ****   {
 716              		.loc 1 157 0
 717 0020 08A9     		add	r1, sp, #32
 718 0022 1848     		ldr	r0, .L63
 719 0024 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 720              	.LVL36:
 721 0028 E0B9     		cbnz	r0, .L60
 722              	.L55:
 162:Src/tim.c     ****   sConfigOC.Pulse = 0;
 723              		.loc 1 162 0
 724 002a 6023     		movs	r3, #96
 725 002c 0193     		str	r3, [sp, #4]
 163:Src/tim.c     ****   sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
 726              		.loc 1 163 0
 727 002e 0022     		movs	r2, #0
 728 0030 0292     		str	r2, [sp, #8]
 164:Src/tim.c     ****   sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
 729              		.loc 1 164 0
 730 0032 0392     		str	r2, [sp, #12]
 165:Src/tim.c     ****   if (HAL_TIM_PWM_ConfigChannel(&htim3, &sConfigOC, TIM_CHANNEL_1) != HAL_OK)
 731              		.loc 1 165 0
 732 0034 0592     		str	r2, [sp, #20]
 166:Src/tim.c     ****   {
 733              		.loc 1 166 0
 734 0036 01A9     		add	r1, sp, #4
 735 0038 1248     		ldr	r0, .L63
 736 003a FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 21


 737              	.LVL37:
 738 003e B0B9     		cbnz	r0, .L61
 739              	.L56:
 171:Src/tim.c     ****   {
 740              		.loc 1 171 0
 741 0040 0422     		movs	r2, #4
 742 0042 0DEB0201 		add	r1, sp, r2
 743 0046 0F48     		ldr	r0, .L63
 744 0048 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 745              	.LVL38:
 746 004c A0B9     		cbnz	r0, .L62
 747              	.L57:
 176:Src/tim.c     **** }
 748              		.loc 1 176 0
 749 004e 0D48     		ldr	r0, .L63
 750 0050 FFF7FEFF 		bl	HAL_TIM_MspPostInit
 751              	.LVL39:
 177:Src/tim.c     **** /* TIM8 init function */
 752              		.loc 1 177 0
 753 0054 0BB0     		add	sp, sp, #44
 754              	.LCFI25:
 755              		.cfi_remember_state
 756              		.cfi_def_cfa_offset 4
 757              		@ sp needed
 758 0056 5DF804FB 		ldr	pc, [sp], #4
 759              	.L59:
 760              	.LCFI26:
 761              		.cfi_restore_state
 152:Src/tim.c     ****   }
 762              		.loc 1 152 0
 763 005a 9821     		movs	r1, #152
 764 005c 0B48     		ldr	r0, .L63+8
 765 005e FFF7FEFF 		bl	_Error_Handler
 766              	.LVL40:
 767 0062 DAE7     		b	.L54
 768              	.L60:
 159:Src/tim.c     ****   }
 769              		.loc 1 159 0
 770 0064 9F21     		movs	r1, #159
 771 0066 0948     		ldr	r0, .L63+8
 772 0068 FFF7FEFF 		bl	_Error_Handler
 773              	.LVL41:
 774 006c DDE7     		b	.L55
 775              	.L61:
 168:Src/tim.c     ****   }
 776              		.loc 1 168 0
 777 006e A821     		movs	r1, #168
 778 0070 0648     		ldr	r0, .L63+8
 779 0072 FFF7FEFF 		bl	_Error_Handler
 780              	.LVL42:
 781 0076 E3E7     		b	.L56
 782              	.L62:
 173:Src/tim.c     ****   }
 783              		.loc 1 173 0
 784 0078 AD21     		movs	r1, #173
 785 007a 0448     		ldr	r0, .L63+8
 786 007c FFF7FEFF 		bl	_Error_Handler
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 22


 787              	.LVL43:
 788 0080 E5E7     		b	.L57
 789              	.L64:
 790 0082 00BF     		.align	2
 791              	.L63:
 792 0084 00000000 		.word	htim3
 793 0088 00040040 		.word	1073742848
 794 008c 00000000 		.word	.LC0
 795              		.cfi_endproc
 796              	.LFE161:
 798              		.section	.text.HAL_TIM_Encoder_MspDeInit,"ax",%progbits
 799              		.align	1
 800              		.global	HAL_TIM_Encoder_MspDeInit
 801              		.syntax unified
 802              		.thumb
 803              		.thumb_func
 804              		.fpu fpv4-sp-d16
 806              	HAL_TIM_Encoder_MspDeInit:
 807              	.LFB166:
 343:Src/tim.c     **** 
 344:Src/tim.c     **** void HAL_TIM_Encoder_MspDeInit(TIM_HandleTypeDef *tim_encoderHandle)
 345:Src/tim.c     **** {
 808              		.loc 1 345 0
 809              		.cfi_startproc
 810              		@ args = 0, pretend = 0, frame = 0
 811              		@ frame_needed = 0, uses_anonymous_args = 0
 812              	.LVL44:
 813 0000 08B5     		push	{r3, lr}
 814              	.LCFI27:
 815              		.cfi_def_cfa_offset 8
 816              		.cfi_offset 3, -8
 817              		.cfi_offset 14, -4
 346:Src/tim.c     **** 
 347:Src/tim.c     ****   if (tim_encoderHandle->Instance == TIM1)
 818              		.loc 1 347 0
 819 0002 0368     		ldr	r3, [r0]
 820 0004 0E4A     		ldr	r2, .L71
 821 0006 9342     		cmp	r3, r2
 822 0008 03D0     		beq	.L69
 348:Src/tim.c     ****   {
 349:Src/tim.c     ****     /* USER CODE BEGIN TIM1_MspDeInit 0 */
 350:Src/tim.c     **** 
 351:Src/tim.c     ****     /* USER CODE END TIM1_MspDeInit 0 */
 352:Src/tim.c     ****     /* Peripheral clock disable */
 353:Src/tim.c     ****     __HAL_RCC_TIM1_CLK_DISABLE();
 354:Src/tim.c     **** 
 355:Src/tim.c     ****     /**TIM1 GPIO Configuration    
 356:Src/tim.c     ****     PA8     ------> TIM1_CH1
 357:Src/tim.c     ****     PA9     ------> TIM1_CH2 
 358:Src/tim.c     ****     */
 359:Src/tim.c     ****     HAL_GPIO_DeInit(GPIOA, GPIO_PIN_8 | GPIO_PIN_9);
 360:Src/tim.c     **** 
 361:Src/tim.c     ****     /* USER CODE BEGIN TIM1_MspDeInit 1 */
 362:Src/tim.c     **** 
 363:Src/tim.c     ****     /* USER CODE END TIM1_MspDeInit 1 */
 364:Src/tim.c     ****   }
 365:Src/tim.c     ****   else if (tim_encoderHandle->Instance == TIM8)
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 23


 823              		.loc 1 365 0
 824 000a 0E4A     		ldr	r2, .L71+4
 825 000c 9342     		cmp	r3, r2
 826 000e 0CD0     		beq	.L70
 827              	.LVL45:
 828              	.L65:
 366:Src/tim.c     ****   {
 367:Src/tim.c     ****     /* USER CODE BEGIN TIM8_MspDeInit 0 */
 368:Src/tim.c     **** 
 369:Src/tim.c     ****     /* USER CODE END TIM8_MspDeInit 0 */
 370:Src/tim.c     ****     /* Peripheral clock disable */
 371:Src/tim.c     ****     __HAL_RCC_TIM8_CLK_DISABLE();
 372:Src/tim.c     **** 
 373:Src/tim.c     ****     /**TIM8 GPIO Configuration    
 374:Src/tim.c     ****     PC6     ------> TIM8_CH1
 375:Src/tim.c     ****     PC7     ------> TIM8_CH2 
 376:Src/tim.c     ****     */
 377:Src/tim.c     ****     HAL_GPIO_DeInit(GPIOC, GPIO_PIN_6 | GPIO_PIN_7);
 378:Src/tim.c     **** 
 379:Src/tim.c     ****     /* USER CODE BEGIN TIM8_MspDeInit 1 */
 380:Src/tim.c     **** 
 381:Src/tim.c     ****     /* USER CODE END TIM8_MspDeInit 1 */
 382:Src/tim.c     ****   }
 383:Src/tim.c     **** }
 829              		.loc 1 383 0
 830 0010 08BD     		pop	{r3, pc}
 831              	.LVL46:
 832              	.L69:
 353:Src/tim.c     **** 
 833              		.loc 1 353 0
 834 0012 02F59C32 		add	r2, r2, #79872
 835 0016 536C     		ldr	r3, [r2, #68]
 836 0018 23F00103 		bic	r3, r3, #1
 837 001c 5364     		str	r3, [r2, #68]
 359:Src/tim.c     **** 
 838              		.loc 1 359 0
 839 001e 4FF44071 		mov	r1, #768
 840 0022 0948     		ldr	r0, .L71+8
 841              	.LVL47:
 842 0024 FFF7FEFF 		bl	HAL_GPIO_DeInit
 843              	.LVL48:
 844 0028 F2E7     		b	.L65
 845              	.LVL49:
 846              	.L70:
 371:Src/tim.c     **** 
 847              		.loc 1 371 0
 848 002a 02F59A32 		add	r2, r2, #78848
 849 002e 536C     		ldr	r3, [r2, #68]
 850 0030 23F00203 		bic	r3, r3, #2
 851 0034 5364     		str	r3, [r2, #68]
 377:Src/tim.c     **** 
 852              		.loc 1 377 0
 853 0036 C021     		movs	r1, #192
 854 0038 0448     		ldr	r0, .L71+12
 855              	.LVL50:
 856 003a FFF7FEFF 		bl	HAL_GPIO_DeInit
 857              	.LVL51:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 24


 858              		.loc 1 383 0
 859 003e E7E7     		b	.L65
 860              	.L72:
 861              		.align	2
 862              	.L71:
 863 0040 00000140 		.word	1073807360
 864 0044 00040140 		.word	1073808384
 865 0048 00000240 		.word	1073872896
 866 004c 00080240 		.word	1073874944
 867              		.cfi_endproc
 868              	.LFE166:
 870              		.section	.text.HAL_TIM_PWM_MspDeInit,"ax",%progbits
 871              		.align	1
 872              		.global	HAL_TIM_PWM_MspDeInit
 873              		.syntax unified
 874              		.thumb
 875              		.thumb_func
 876              		.fpu fpv4-sp-d16
 878              	HAL_TIM_PWM_MspDeInit:
 879              	.LFB167:
 384:Src/tim.c     **** 
 385:Src/tim.c     **** void HAL_TIM_PWM_MspDeInit(TIM_HandleTypeDef *tim_pwmHandle)
 386:Src/tim.c     **** {
 880              		.loc 1 386 0
 881              		.cfi_startproc
 882              		@ args = 0, pretend = 0, frame = 0
 883              		@ frame_needed = 0, uses_anonymous_args = 0
 884              		@ link register save eliminated.
 885              	.LVL52:
 387:Src/tim.c     **** 
 388:Src/tim.c     ****   if (tim_pwmHandle->Instance == TIM2)
 886              		.loc 1 388 0
 887 0000 0368     		ldr	r3, [r0]
 888 0002 B3F1804F 		cmp	r3, #1073741824
 889 0006 03D0     		beq	.L76
 389:Src/tim.c     ****   {
 390:Src/tim.c     ****     /* USER CODE BEGIN TIM2_MspDeInit 0 */
 391:Src/tim.c     **** 
 392:Src/tim.c     ****     /* USER CODE END TIM2_MspDeInit 0 */
 393:Src/tim.c     ****     /* Peripheral clock disable */
 394:Src/tim.c     ****     __HAL_RCC_TIM2_CLK_DISABLE();
 395:Src/tim.c     ****     /* USER CODE BEGIN TIM2_MspDeInit 1 */
 396:Src/tim.c     **** 
 397:Src/tim.c     ****     /* USER CODE END TIM2_MspDeInit 1 */
 398:Src/tim.c     ****   }
 399:Src/tim.c     ****   else if (tim_pwmHandle->Instance == TIM3)
 890              		.loc 1 399 0
 891 0008 084A     		ldr	r2, .L78
 892 000a 9342     		cmp	r3, r2
 893 000c 06D0     		beq	.L77
 894              	.L73:
 400:Src/tim.c     ****   {
 401:Src/tim.c     ****     /* USER CODE BEGIN TIM3_MspDeInit 0 */
 402:Src/tim.c     **** 
 403:Src/tim.c     ****     /* USER CODE END TIM3_MspDeInit 0 */
 404:Src/tim.c     ****     /* Peripheral clock disable */
 405:Src/tim.c     ****     __HAL_RCC_TIM3_CLK_DISABLE();
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 25


 406:Src/tim.c     ****     /* USER CODE BEGIN TIM3_MspDeInit 1 */
 407:Src/tim.c     **** 
 408:Src/tim.c     ****     /* USER CODE END TIM3_MspDeInit 1 */
 409:Src/tim.c     ****   }
 410:Src/tim.c     **** }
 895              		.loc 1 410 0
 896 000e 7047     		bx	lr
 897              	.L76:
 394:Src/tim.c     ****     /* USER CODE BEGIN TIM2_MspDeInit 1 */
 898              		.loc 1 394 0
 899 0010 074A     		ldr	r2, .L78+4
 900 0012 136C     		ldr	r3, [r2, #64]
 901 0014 23F00103 		bic	r3, r3, #1
 902 0018 1364     		str	r3, [r2, #64]
 903 001a 7047     		bx	lr
 904              	.L77:
 405:Src/tim.c     ****     /* USER CODE BEGIN TIM3_MspDeInit 1 */
 905              		.loc 1 405 0
 906 001c 02F50D32 		add	r2, r2, #144384
 907 0020 136C     		ldr	r3, [r2, #64]
 908 0022 23F00203 		bic	r3, r3, #2
 909 0026 1364     		str	r3, [r2, #64]
 910              		.loc 1 410 0
 911 0028 F1E7     		b	.L73
 912              	.L79:
 913 002a 00BF     		.align	2
 914              	.L78:
 915 002c 00040040 		.word	1073742848
 916 0030 00380240 		.word	1073887232
 917              		.cfi_endproc
 918              	.LFE167:
 920              		.section	.text.Tim_BuzzerPwm,"ax",%progbits
 921              		.align	1
 922              		.global	Tim_BuzzerPwm
 923              		.syntax unified
 924              		.thumb
 925              		.thumb_func
 926              		.fpu fpv4-sp-d16
 928              	Tim_BuzzerPwm:
 929              	.LFB168:
 411:Src/tim.c     **** 
 412:Src/tim.c     **** /* USER CODE BEGIN 1 */
 413:Src/tim.c     **** 
 414:Src/tim.c     **** /****************************************************************************************
 415:Src/tim.c     ****  * outline  : out put pwm of buzzer
 416:Src/tim.c     ****  * argument : hz(frequency),vol(volume 0~Period)
 417:Src/tim.c     ****  * return   : void
 418:Src/tim.c     **** ********************************************************************************************/
 419:Src/tim.c     **** void Tim_BuzzerPwm(int hz, int vol)
 420:Src/tim.c     **** {
 930              		.loc 1 420 0
 931              		.cfi_startproc
 932              		@ args = 0, pretend = 0, frame = 0
 933              		@ frame_needed = 0, uses_anonymous_args = 0
 934              	.LVL53:
 935 0000 10B5     		push	{r4, lr}
 936              	.LCFI28:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 26


 937              		.cfi_def_cfa_offset 8
 938              		.cfi_offset 4, -8
 939              		.cfi_offset 14, -4
 940 0002 0C46     		mov	r4, r1
 421:Src/tim.c     ****   htim3.Instance = TIM3;
 941              		.loc 1 421 0
 942 0004 1A4B     		ldr	r3, .L88
 943 0006 1B4A     		ldr	r2, .L88+4
 944 0008 1A60     		str	r2, [r3]
 422:Src/tim.c     ****   htim3.Init.Prescaler = hz;
 945              		.loc 1 422 0
 946 000a 5860     		str	r0, [r3, #4]
 423:Src/tim.c     ****   htim3.Init.CounterMode = TIM_COUNTERMODE_UP;
 947              		.loc 1 423 0
 948 000c 0022     		movs	r2, #0
 949 000e 9A60     		str	r2, [r3, #8]
 424:Src/tim.c     ****   htim3.Init.Period = 1999;
 950              		.loc 1 424 0
 951 0010 40F2CF71 		movw	r1, #1999
 952              	.LVL54:
 953 0014 D960     		str	r1, [r3, #12]
 425:Src/tim.c     ****   htim3.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 954              		.loc 1 425 0
 955 0016 1A61     		str	r2, [r3, #16]
 426:Src/tim.c     ****   htim3.Init.RepetitionCounter = 0;
 956              		.loc 1 426 0
 957 0018 5A61     		str	r2, [r3, #20]
 427:Src/tim.c     ****   if (HAL_TIM_PWM_Init(&htim3) != HAL_OK)
 958              		.loc 1 427 0
 959 001a 1846     		mov	r0, r3
 960              	.LVL55:
 961 001c FFF7FEFF 		bl	HAL_TIM_PWM_Init
 962              	.LVL56:
 963 0020 A0B9     		cbnz	r0, .L85
 964              	.L81:
 428:Src/tim.c     ****   {
 429:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
 430:Src/tim.c     ****   }
 431:Src/tim.c     **** 
 432:Src/tim.c     ****   sConfigOC.OCMode = TIM_OCMODE_PWM1;
 965              		.loc 1 432 0
 966 0022 1549     		ldr	r1, .L88+8
 967 0024 6023     		movs	r3, #96
 968 0026 0B60     		str	r3, [r1]
 433:Src/tim.c     ****   sConfigOC.Pulse = vol;
 969              		.loc 1 433 0
 970 0028 4C60     		str	r4, [r1, #4]
 434:Src/tim.c     ****   sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
 971              		.loc 1 434 0
 972 002a 0023     		movs	r3, #0
 973 002c 8B60     		str	r3, [r1, #8]
 435:Src/tim.c     ****   sConfigOC.OCNPolarity = TIM_OCNPOLARITY_HIGH;
 974              		.loc 1 435 0
 975 002e CB60     		str	r3, [r1, #12]
 436:Src/tim.c     ****   sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
 976              		.loc 1 436 0
 977 0030 0B61     		str	r3, [r1, #16]
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 27


 437:Src/tim.c     ****   sConfigOC.OCIdleState = TIM_OCIDLESTATE_RESET;
 978              		.loc 1 437 0
 979 0032 4B61     		str	r3, [r1, #20]
 438:Src/tim.c     ****   sConfigOC.OCNIdleState = TIM_OCNIDLESTATE_RESET;
 980              		.loc 1 438 0
 981 0034 8B61     		str	r3, [r1, #24]
 439:Src/tim.c     ****   if (HAL_TIM_PWM_ConfigChannel(&htim3, &sConfigOC, TIM_CHANNEL_2) != HAL_OK)
 982              		.loc 1 439 0
 983 0036 0422     		movs	r2, #4
 984 0038 0D48     		ldr	r0, .L88
 985 003a FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 986              	.LVL57:
 987 003e 58B9     		cbnz	r0, .L86
 988              	.L82:
 440:Src/tim.c     ****   {
 441:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
 442:Src/tim.c     ****   }
 443:Src/tim.c     **** 
 444:Src/tim.c     ****   if (HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_2) != HAL_OK)
 989              		.loc 1 444 0
 990 0040 0421     		movs	r1, #4
 991 0042 0B48     		ldr	r0, .L88
 992 0044 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 993              	.LVL58:
 994 0048 60B9     		cbnz	r0, .L87
 995              	.L80:
 445:Src/tim.c     ****   {
 446:Src/tim.c     ****     Error_Handler();
 447:Src/tim.c     ****   }
 448:Src/tim.c     **** }
 996              		.loc 1 448 0
 997 004a 10BD     		pop	{r4, pc}
 998              	.LVL59:
 999              	.L85:
 429:Src/tim.c     ****   }
 1000              		.loc 1 429 0
 1001 004c 40F2AD11 		movw	r1, #429
 1002 0050 0A48     		ldr	r0, .L88+12
 1003 0052 FFF7FEFF 		bl	_Error_Handler
 1004              	.LVL60:
 1005 0056 E4E7     		b	.L81
 1006              	.L86:
 441:Src/tim.c     ****   }
 1007              		.loc 1 441 0
 1008 0058 40F2B911 		movw	r1, #441
 1009 005c 0748     		ldr	r0, .L88+12
 1010 005e FFF7FEFF 		bl	_Error_Handler
 1011              	.LVL61:
 1012 0062 EDE7     		b	.L82
 1013              	.L87:
 446:Src/tim.c     ****   }
 1014              		.loc 1 446 0
 1015 0064 4FF4DF71 		mov	r1, #446
 1016 0068 0448     		ldr	r0, .L88+12
 1017 006a FFF7FEFF 		bl	_Error_Handler
 1018              	.LVL62:
 1019              		.loc 1 448 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 28


 1020 006e ECE7     		b	.L80
 1021              	.L89:
 1022              		.align	2
 1023              	.L88:
 1024 0070 00000000 		.word	htim3
 1025 0074 00040040 		.word	1073742848
 1026 0078 00000000 		.word	sConfigOC
 1027 007c 00000000 		.word	.LC0
 1028              		.cfi_endproc
 1029              	.LFE168:
 1031              		.section	.text.Tim_MotorPwm,"ax",%progbits
 1032              		.align	1
 1033              		.global	Tim_MotorPwm
 1034              		.syntax unified
 1035              		.thumb
 1036              		.thumb_func
 1037              		.fpu fpv4-sp-d16
 1039              	Tim_MotorPwm:
 1040              	.LFB169:
 449:Src/tim.c     **** 
 450:Src/tim.c     **** /****************************************************************************************
 451:Src/tim.c     ****  * outline  : out put pwm of motor
 452:Src/tim.c     ****  * argument : left pwm , reft pwm (-Period~Period,max 800)
 453:Src/tim.c     ****  * return   : void
 454:Src/tim.c     **** ********************************************************************************************/
 455:Src/tim.c     **** void Tim_MotorPwm(int16_t left_pwm, int16_t right_pwm)
 456:Src/tim.c     **** {
 1041              		.loc 1 456 0
 1042              		.cfi_startproc
 1043              		@ args = 0, pretend = 0, frame = 0
 1044              		@ frame_needed = 0, uses_anonymous_args = 0
 1045              	.LVL63:
 1046 0000 70B5     		push	{r4, r5, r6, lr}
 1047              	.LCFI29:
 1048              		.cfi_def_cfa_offset 16
 1049              		.cfi_offset 4, -16
 1050              		.cfi_offset 5, -12
 1051              		.cfi_offset 6, -8
 1052              		.cfi_offset 14, -4
 1053 0002 0C46     		mov	r4, r1
 457:Src/tim.c     **** 
 458:Src/tim.c     ****   sConfigOC.OCMode = TIM_OCMODE_PWM1;
 1054              		.loc 1 458 0
 1055 0004 554B     		ldr	r3, .L110
 1056 0006 6022     		movs	r2, #96
 1057 0008 1A60     		str	r2, [r3]
 459:Src/tim.c     ****   sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
 1058              		.loc 1 459 0
 1059 000a 0022     		movs	r2, #0
 1060 000c 9A60     		str	r2, [r3, #8]
 460:Src/tim.c     ****   sConfigOC.OCNPolarity = TIM_OCNPOLARITY_HIGH;
 1061              		.loc 1 460 0
 1062 000e DA60     		str	r2, [r3, #12]
 461:Src/tim.c     ****   sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
 1063              		.loc 1 461 0
 1064 0010 1A61     		str	r2, [r3, #16]
 462:Src/tim.c     ****   sConfigOC.OCIdleState = TIM_OCIDLESTATE_RESET;
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 29


 1065              		.loc 1 462 0
 1066 0012 5A61     		str	r2, [r3, #20]
 463:Src/tim.c     ****   sConfigOC.OCNIdleState = TIM_OCNIDLESTATE_RESET;
 1067              		.loc 1 463 0
 1068 0014 9A61     		str	r2, [r3, #24]
 464:Src/tim.c     **** 
 465:Src/tim.c     ****   //max and min
 466:Src/tim.c     ****   if (left_pwm > 799)
 1069              		.loc 1 466 0
 1070 0016 B0F5487F 		cmp	r0, #800
 1071 001a 04DA     		bge	.L99
 467:Src/tim.c     ****   {
 468:Src/tim.c     ****     left_pwm = 799;
 469:Src/tim.c     ****   }
 470:Src/tim.c     ****   if (left_pwm < -799)
 1072              		.loc 1 470 0
 1073 001c 10F5487F 		cmn	r0, #800
 1074 0020 03DC     		bgt	.L91
 471:Src/tim.c     ****   {
 472:Src/tim.c     ****     left_pwm = -799;
 1075              		.loc 1 472 0
 1076 0022 4F48     		ldr	r0, .L110+4
 1077              	.LVL64:
 1078 0024 01E0     		b	.L91
 1079              	.LVL65:
 1080              	.L99:
 468:Src/tim.c     ****   }
 1081              		.loc 1 468 0
 1082 0026 40F21F30 		movw	r0, #799
 1083              	.LVL66:
 1084              	.L91:
 473:Src/tim.c     ****   }
 474:Src/tim.c     **** 
 475:Src/tim.c     ****   if (right_pwm > 799)
 1085              		.loc 1 475 0
 1086 002a B4F5487F 		cmp	r4, #800
 1087 002e 04DA     		bge	.L101
 1088              	.LVL67:
 476:Src/tim.c     ****   {
 477:Src/tim.c     ****     right_pwm = 799;
 478:Src/tim.c     ****   }
 479:Src/tim.c     ****   if (right_pwm < -799)
 1089              		.loc 1 479 0
 1090 0030 14F5487F 		cmn	r4, #800
 1091 0034 03DC     		bgt	.L92
 480:Src/tim.c     ****   {
 481:Src/tim.c     ****     right_pwm = -799;
 1092              		.loc 1 481 0
 1093 0036 4A4C     		ldr	r4, .L110+4
 1094              	.LVL68:
 1095 0038 01E0     		b	.L92
 1096              	.LVL69:
 1097              	.L101:
 477:Src/tim.c     ****   }
 1098              		.loc 1 477 0
 1099 003a 40F21F34 		movw	r4, #799
 1100              	.LVL70:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 30


 1101              	.L92:
 482:Src/tim.c     ****   }
 483:Src/tim.c     **** 
 484:Src/tim.c     ****   //set left_pwm
 485:Src/tim.c     ****   if (left_pwm < 0)
 1102              		.loc 1 485 0
 1103 003e 0028     		cmp	r0, #0
 1104 0040 3ADB     		blt	.L104
 486:Src/tim.c     ****   {
 487:Src/tim.c     ****     sConfigOC.Pulse = -1 * left_pwm;
 488:Src/tim.c     ****     HAL_GPIO_WritePin(left_in1_GPIO_Port, left_in1_Pin, GPIO_PIN_RESET);
 489:Src/tim.c     ****     HAL_GPIO_WritePin(left_in2_GPIO_Port, left_in2_Pin, GPIO_PIN_SET);
 490:Src/tim.c     ****     if (HAL_TIM_PWM_ConfigChannel(&htim2, &sConfigOC, TIM_CHANNEL_1) != HAL_OK)
 491:Src/tim.c     ****     {
 492:Src/tim.c     ****       _Error_Handler(__FILE__, __LINE__);
 493:Src/tim.c     ****     }
 494:Src/tim.c     ****   }
 495:Src/tim.c     ****   else if (left_pwm >= 0)
 496:Src/tim.c     ****   {
 497:Src/tim.c     ****     sConfigOC.Pulse = left_pwm;
 1105              		.loc 1 497 0
 1106 0042 464D     		ldr	r5, .L110
 1107 0044 6860     		str	r0, [r5, #4]
 498:Src/tim.c     ****     HAL_GPIO_WritePin(left_in1_GPIO_Port, left_in1_Pin, GPIO_PIN_SET);
 1108              		.loc 1 498 0
 1109 0046 474E     		ldr	r6, .L110+8
 1110 0048 0122     		movs	r2, #1
 1111 004a 4FF40041 		mov	r1, #32768
 1112 004e 3046     		mov	r0, r6
 1113              	.LVL71:
 1114 0050 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1115              	.LVL72:
 499:Src/tim.c     ****     HAL_GPIO_WritePin(left_in2_GPIO_Port, left_in2_Pin, GPIO_PIN_RESET);
 1116              		.loc 1 499 0
 1117 0054 0022     		movs	r2, #0
 1118 0056 4FF48041 		mov	r1, #16384
 1119 005a 3046     		mov	r0, r6
 1120 005c FFF7FEFF 		bl	HAL_GPIO_WritePin
 1121              	.LVL73:
 500:Src/tim.c     ****     if (HAL_TIM_PWM_ConfigChannel(&htim2, &sConfigOC, TIM_CHANNEL_1) != HAL_OK)
 1122              		.loc 1 500 0
 1123 0060 0022     		movs	r2, #0
 1124 0062 2946     		mov	r1, r5
 1125 0064 4048     		ldr	r0, .L110+12
 1126 0066 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 1127              	.LVL74:
 1128 006a 0028     		cmp	r0, #0
 1129 006c 41D1     		bne	.L105
 1130              	.L94:
 501:Src/tim.c     ****     {
 502:Src/tim.c     ****       _Error_Handler(__FILE__, __LINE__);
 503:Src/tim.c     ****     }
 504:Src/tim.c     ****   }
 505:Src/tim.c     **** 
 506:Src/tim.c     ****   //set right_pwm
 507:Src/tim.c     ****   if (right_pwm < 0)
 1131              		.loc 1 507 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 31


 1132 006e 002C     		cmp	r4, #0
 1133 0070 45DB     		blt	.L106
 508:Src/tim.c     ****   {
 509:Src/tim.c     ****     sConfigOC.Pulse = -1 * right_pwm;
 510:Src/tim.c     ****     HAL_GPIO_WritePin(right_in1_GPIO_Port, right_in1_Pin, GPIO_PIN_SET);
 511:Src/tim.c     ****     HAL_GPIO_WritePin(right_in2_GPIO_Port, right_in2_Pin, GPIO_PIN_RESET);
 512:Src/tim.c     ****     if (HAL_TIM_PWM_ConfigChannel(&htim2, &sConfigOC, TIM_CHANNEL_2) != HAL_OK)
 513:Src/tim.c     ****     {
 514:Src/tim.c     ****       _Error_Handler(__FILE__, __LINE__);
 515:Src/tim.c     ****     }
 516:Src/tim.c     ****   }
 517:Src/tim.c     ****   else if (right_pwm >= 0)
 518:Src/tim.c     ****   {
 519:Src/tim.c     ****     sConfigOC.Pulse = right_pwm;
 1134              		.loc 1 519 0
 1135 0072 3A4D     		ldr	r5, .L110
 1136 0074 6C60     		str	r4, [r5, #4]
 520:Src/tim.c     ****     HAL_GPIO_WritePin(right_in1_GPIO_Port, right_in1_Pin, GPIO_PIN_RESET);
 1137              		.loc 1 520 0
 1138 0076 3D4C     		ldr	r4, .L110+16
 1139              	.LVL75:
 1140 0078 0022     		movs	r2, #0
 1141 007a 4FF40071 		mov	r1, #512
 1142 007e 2046     		mov	r0, r4
 1143 0080 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1144              	.LVL76:
 521:Src/tim.c     ****     HAL_GPIO_WritePin(right_in2_GPIO_Port, right_in2_Pin, GPIO_PIN_SET);
 1145              		.loc 1 521 0
 1146 0084 0122     		movs	r2, #1
 1147 0086 4FF48071 		mov	r1, #256
 1148 008a 2046     		mov	r0, r4
 1149 008c FFF7FEFF 		bl	HAL_GPIO_WritePin
 1150              	.LVL77:
 522:Src/tim.c     ****     if (HAL_TIM_PWM_ConfigChannel(&htim2, &sConfigOC, TIM_CHANNEL_2) != HAL_OK)
 1151              		.loc 1 522 0
 1152 0090 0422     		movs	r2, #4
 1153 0092 2946     		mov	r1, r5
 1154 0094 3448     		ldr	r0, .L110+12
 1155 0096 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 1156              	.LVL78:
 1157 009a 0028     		cmp	r0, #0
 1158 009c 4CD1     		bne	.L107
 1159              	.L96:
 523:Src/tim.c     ****     {
 524:Src/tim.c     ****       _Error_Handler(__FILE__, __LINE__);
 525:Src/tim.c     ****     }
 526:Src/tim.c     ****   }
 527:Src/tim.c     **** 
 528:Src/tim.c     ****   //start
 529:Src/tim.c     ****   if (HAL_TIM_PWM_Start(&htim2, TIM_CHANNEL_1) != HAL_OK)
 1160              		.loc 1 529 0
 1161 009e 0021     		movs	r1, #0
 1162 00a0 3148     		ldr	r0, .L110+12
 1163 00a2 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1164              	.LVL79:
 1165 00a6 0028     		cmp	r0, #0
 1166 00a8 4CD1     		bne	.L108
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 32


 1167              	.L97:
 530:Src/tim.c     ****   {
 531:Src/tim.c     ****     Error_Handler();
 532:Src/tim.c     ****   }
 533:Src/tim.c     ****   if (HAL_TIM_PWM_Start(&htim2, TIM_CHANNEL_2) != HAL_OK)
 1168              		.loc 1 533 0
 1169 00aa 0421     		movs	r1, #4
 1170 00ac 2E48     		ldr	r0, .L110+12
 1171 00ae FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1172              	.LVL80:
 1173 00b2 0028     		cmp	r0, #0
 1174 00b4 4CD1     		bne	.L109
 1175              	.L90:
 534:Src/tim.c     ****   {
 535:Src/tim.c     ****     Error_Handler();
 536:Src/tim.c     ****   }
 537:Src/tim.c     **** }
 1176              		.loc 1 537 0
 1177 00b6 70BD     		pop	{r4, r5, r6, pc}
 1178              	.LVL81:
 1179              	.L104:
 487:Src/tim.c     ****     HAL_GPIO_WritePin(left_in1_GPIO_Port, left_in1_Pin, GPIO_PIN_RESET);
 1180              		.loc 1 487 0
 1181 00b8 4042     		negs	r0, r0
 1182              	.LVL82:
 1183 00ba 284D     		ldr	r5, .L110
 1184 00bc 6860     		str	r0, [r5, #4]
 488:Src/tim.c     ****     HAL_GPIO_WritePin(left_in2_GPIO_Port, left_in2_Pin, GPIO_PIN_SET);
 1185              		.loc 1 488 0
 1186 00be 294E     		ldr	r6, .L110+8
 1187 00c0 0022     		movs	r2, #0
 1188 00c2 4FF40041 		mov	r1, #32768
 1189 00c6 3046     		mov	r0, r6
 1190 00c8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1191              	.LVL83:
 489:Src/tim.c     ****     if (HAL_TIM_PWM_ConfigChannel(&htim2, &sConfigOC, TIM_CHANNEL_1) != HAL_OK)
 1192              		.loc 1 489 0
 1193 00cc 0122     		movs	r2, #1
 1194 00ce 4FF48041 		mov	r1, #16384
 1195 00d2 3046     		mov	r0, r6
 1196 00d4 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1197              	.LVL84:
 490:Src/tim.c     ****     {
 1198              		.loc 1 490 0
 1199 00d8 0022     		movs	r2, #0
 1200 00da 2946     		mov	r1, r5
 1201 00dc 2248     		ldr	r0, .L110+12
 1202 00de FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 1203              	.LVL85:
 1204 00e2 0028     		cmp	r0, #0
 1205 00e4 C3D0     		beq	.L94
 492:Src/tim.c     ****     }
 1206              		.loc 1 492 0
 1207 00e6 4FF4F671 		mov	r1, #492
 1208 00ea 2148     		ldr	r0, .L110+20
 1209 00ec FFF7FEFF 		bl	_Error_Handler
 1210              	.LVL86:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 33


 1211 00f0 BDE7     		b	.L94
 1212              	.L105:
 502:Src/tim.c     ****     }
 1213              		.loc 1 502 0
 1214 00f2 4FF4FB71 		mov	r1, #502
 1215 00f6 1E48     		ldr	r0, .L110+20
 1216 00f8 FFF7FEFF 		bl	_Error_Handler
 1217              	.LVL87:
 1218 00fc B7E7     		b	.L94
 1219              	.L106:
 509:Src/tim.c     ****     HAL_GPIO_WritePin(right_in1_GPIO_Port, right_in1_Pin, GPIO_PIN_SET);
 1220              		.loc 1 509 0
 1221 00fe 6442     		negs	r4, r4
 1222              	.LVL88:
 1223 0100 164D     		ldr	r5, .L110
 1224 0102 6C60     		str	r4, [r5, #4]
 510:Src/tim.c     ****     HAL_GPIO_WritePin(right_in2_GPIO_Port, right_in2_Pin, GPIO_PIN_RESET);
 1225              		.loc 1 510 0
 1226 0104 194C     		ldr	r4, .L110+16
 1227 0106 0122     		movs	r2, #1
 1228 0108 4FF40071 		mov	r1, #512
 1229 010c 2046     		mov	r0, r4
 1230 010e FFF7FEFF 		bl	HAL_GPIO_WritePin
 1231              	.LVL89:
 511:Src/tim.c     ****     if (HAL_TIM_PWM_ConfigChannel(&htim2, &sConfigOC, TIM_CHANNEL_2) != HAL_OK)
 1232              		.loc 1 511 0
 1233 0112 0022     		movs	r2, #0
 1234 0114 4FF48071 		mov	r1, #256
 1235 0118 2046     		mov	r0, r4
 1236 011a FFF7FEFF 		bl	HAL_GPIO_WritePin
 1237              	.LVL90:
 512:Src/tim.c     ****     {
 1238              		.loc 1 512 0
 1239 011e 0422     		movs	r2, #4
 1240 0120 2946     		mov	r1, r5
 1241 0122 1148     		ldr	r0, .L110+12
 1242 0124 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 1243              	.LVL91:
 1244 0128 0028     		cmp	r0, #0
 1245 012a B8D0     		beq	.L96
 514:Src/tim.c     ****     }
 1246              		.loc 1 514 0
 1247 012c 40F20221 		movw	r1, #514
 1248 0130 0F48     		ldr	r0, .L110+20
 1249 0132 FFF7FEFF 		bl	_Error_Handler
 1250              	.LVL92:
 1251 0136 B2E7     		b	.L96
 1252              	.L107:
 524:Src/tim.c     ****     }
 1253              		.loc 1 524 0
 1254 0138 4FF40371 		mov	r1, #524
 1255 013c 0C48     		ldr	r0, .L110+20
 1256 013e FFF7FEFF 		bl	_Error_Handler
 1257              	.LVL93:
 1258 0142 ACE7     		b	.L96
 1259              	.L108:
 531:Src/tim.c     ****   }
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 34


 1260              		.loc 1 531 0
 1261 0144 40F21321 		movw	r1, #531
 1262 0148 0948     		ldr	r0, .L110+20
 1263 014a FFF7FEFF 		bl	_Error_Handler
 1264              	.LVL94:
 1265 014e ACE7     		b	.L97
 1266              	.L109:
 535:Src/tim.c     ****   }
 1267              		.loc 1 535 0
 1268 0150 40F21721 		movw	r1, #535
 1269 0154 0648     		ldr	r0, .L110+20
 1270 0156 FFF7FEFF 		bl	_Error_Handler
 1271              	.LVL95:
 1272              		.loc 1 537 0
 1273 015a ACE7     		b	.L90
 1274              	.L111:
 1275              		.align	2
 1276              	.L110:
 1277 015c 00000000 		.word	sConfigOC
 1278 0160 E1FCFFFF 		.word	-799
 1279 0164 00040240 		.word	1073873920
 1280 0168 00000000 		.word	htim2
 1281 016c 00080240 		.word	1073874944
 1282 0170 00000000 		.word	.LC0
 1283              		.cfi_endproc
 1284              	.LFE169:
 1286              		.section	.text.Tim_MotorBrake,"ax",%progbits
 1287              		.align	1
 1288              		.global	Tim_MotorBrake
 1289              		.syntax unified
 1290              		.thumb
 1291              		.thumb_func
 1292              		.fpu fpv4-sp-d16
 1294              	Tim_MotorBrake:
 1295              	.LFB170:
 538:Src/tim.c     **** 
 539:Src/tim.c     **** void Tim_MotorBrake(void)
 540:Src/tim.c     **** {
 1296              		.loc 1 540 0
 1297              		.cfi_startproc
 1298              		@ args = 0, pretend = 0, frame = 0
 1299              		@ frame_needed = 0, uses_anonymous_args = 0
 1300 0000 70B5     		push	{r4, r5, r6, lr}
 1301              	.LCFI30:
 1302              		.cfi_def_cfa_offset 16
 1303              		.cfi_offset 4, -16
 1304              		.cfi_offset 5, -12
 1305              		.cfi_offset 6, -8
 1306              		.cfi_offset 14, -4
 541:Src/tim.c     ****   //left
 542:Src/tim.c     ****   sConfigOC.Pulse = 0;
 1307              		.loc 1 542 0
 1308 0002 144D     		ldr	r5, .L114
 1309 0004 0024     		movs	r4, #0
 1310 0006 6C60     		str	r4, [r5, #4]
 543:Src/tim.c     ****   HAL_GPIO_WritePin(left_in1_GPIO_Port, left_in1_Pin, GPIO_PIN_SET);
 1311              		.loc 1 543 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 35


 1312 0008 134E     		ldr	r6, .L114+4
 1313 000a 0122     		movs	r2, #1
 1314 000c 4FF40041 		mov	r1, #32768
 1315 0010 3046     		mov	r0, r6
 1316 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1317              	.LVL96:
 544:Src/tim.c     ****   HAL_GPIO_WritePin(left_in2_GPIO_Port, left_in2_Pin, GPIO_PIN_SET);
 1318              		.loc 1 544 0
 1319 0016 0122     		movs	r2, #1
 1320 0018 4FF48041 		mov	r1, #16384
 1321 001c 3046     		mov	r0, r6
 1322 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 1323              	.LVL97:
 545:Src/tim.c     ****   //right
 546:Src/tim.c     ****   sConfigOC.Pulse = 0;
 1324              		.loc 1 546 0
 1325 0022 6C60     		str	r4, [r5, #4]
 547:Src/tim.c     ****   HAL_GPIO_WritePin(right_in1_GPIO_Port, right_in1_Pin, GPIO_PIN_SET);
 1326              		.loc 1 547 0
 1327 0024 0D4D     		ldr	r5, .L114+8
 1328 0026 0122     		movs	r2, #1
 1329 0028 4FF40071 		mov	r1, #512
 1330 002c 2846     		mov	r0, r5
 1331 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 1332              	.LVL98:
 548:Src/tim.c     ****   HAL_GPIO_WritePin(right_in2_GPIO_Port, right_in2_Pin, GPIO_PIN_SET);
 1333              		.loc 1 548 0
 1334 0032 0122     		movs	r2, #1
 1335 0034 4FF48071 		mov	r1, #256
 1336 0038 2846     		mov	r0, r5
 1337 003a FFF7FEFF 		bl	HAL_GPIO_WritePin
 1338              	.LVL99:
 549:Src/tim.c     **** 
 550:Src/tim.c     ****   HAL_TIM_PWM_Stop(&htim2, TIM_CHANNEL_1);
 1339              		.loc 1 550 0
 1340 003e 084D     		ldr	r5, .L114+12
 1341 0040 2146     		mov	r1, r4
 1342 0042 2846     		mov	r0, r5
 1343 0044 FFF7FEFF 		bl	HAL_TIM_PWM_Stop
 1344              	.LVL100:
 551:Src/tim.c     ****   HAL_TIM_PWM_Stop(&htim2, TIM_CHANNEL_2);
 1345              		.loc 1 551 0
 1346 0048 0421     		movs	r1, #4
 1347 004a 2846     		mov	r0, r5
 1348 004c FFF7FEFF 		bl	HAL_TIM_PWM_Stop
 1349              	.LVL101:
 552:Src/tim.c     **** }
 1350              		.loc 1 552 0
 1351 0050 70BD     		pop	{r4, r5, r6, pc}
 1352              	.L115:
 1353 0052 00BF     		.align	2
 1354              	.L114:
 1355 0054 00000000 		.word	sConfigOC
 1356 0058 00040240 		.word	1073873920
 1357 005c 00080240 		.word	1073874944
 1358 0060 00000000 		.word	htim2
 1359              		.cfi_endproc
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 36


 1360              	.LFE170:
 1362              		.section	.text.Tim_MotorStop,"ax",%progbits
 1363              		.align	1
 1364              		.global	Tim_MotorStop
 1365              		.syntax unified
 1366              		.thumb
 1367              		.thumb_func
 1368              		.fpu fpv4-sp-d16
 1370              	Tim_MotorStop:
 1371              	.LFB171:
 553:Src/tim.c     **** 
 554:Src/tim.c     **** void Tim_MotorStop(void)
 555:Src/tim.c     **** {
 1372              		.loc 1 555 0
 1373              		.cfi_startproc
 1374              		@ args = 0, pretend = 0, frame = 0
 1375              		@ frame_needed = 0, uses_anonymous_args = 0
 1376 0000 70B5     		push	{r4, r5, r6, lr}
 1377              	.LCFI31:
 1378              		.cfi_def_cfa_offset 16
 1379              		.cfi_offset 4, -16
 1380              		.cfi_offset 5, -12
 1381              		.cfi_offset 6, -8
 1382              		.cfi_offset 14, -4
 556:Src/tim.c     ****   //left
 557:Src/tim.c     ****   sConfigOC.Pulse = 0;
 1383              		.loc 1 557 0
 1384 0002 144D     		ldr	r5, .L118
 1385 0004 0024     		movs	r4, #0
 1386 0006 6C60     		str	r4, [r5, #4]
 558:Src/tim.c     ****   HAL_GPIO_WritePin(left_in1_GPIO_Port, left_in1_Pin, GPIO_PIN_RESET);
 1387              		.loc 1 558 0
 1388 0008 134E     		ldr	r6, .L118+4
 1389 000a 2246     		mov	r2, r4
 1390 000c 4FF40041 		mov	r1, #32768
 1391 0010 3046     		mov	r0, r6
 1392 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 1393              	.LVL102:
 559:Src/tim.c     ****   HAL_GPIO_WritePin(left_in2_GPIO_Port, left_in2_Pin, GPIO_PIN_RESET);
 1394              		.loc 1 559 0
 1395 0016 2246     		mov	r2, r4
 1396 0018 4FF48041 		mov	r1, #16384
 1397 001c 3046     		mov	r0, r6
 1398 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 1399              	.LVL103:
 560:Src/tim.c     ****   //right
 561:Src/tim.c     ****   sConfigOC.Pulse = 0;
 1400              		.loc 1 561 0
 1401 0022 6C60     		str	r4, [r5, #4]
 562:Src/tim.c     ****   HAL_GPIO_WritePin(right_in1_GPIO_Port, right_in1_Pin, GPIO_PIN_RESET);
 1402              		.loc 1 562 0
 1403 0024 0D4D     		ldr	r5, .L118+8
 1404 0026 2246     		mov	r2, r4
 1405 0028 4FF40071 		mov	r1, #512
 1406 002c 2846     		mov	r0, r5
 1407 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 1408              	.LVL104:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 37


 563:Src/tim.c     ****   HAL_GPIO_WritePin(right_in2_GPIO_Port, right_in2_Pin, GPIO_PIN_RESET);
 1409              		.loc 1 563 0
 1410 0032 2246     		mov	r2, r4
 1411 0034 4FF48071 		mov	r1, #256
 1412 0038 2846     		mov	r0, r5
 1413 003a FFF7FEFF 		bl	HAL_GPIO_WritePin
 1414              	.LVL105:
 564:Src/tim.c     **** 
 565:Src/tim.c     ****   HAL_TIM_PWM_Stop(&htim2, TIM_CHANNEL_1);
 1415              		.loc 1 565 0
 1416 003e 084D     		ldr	r5, .L118+12
 1417 0040 2146     		mov	r1, r4
 1418 0042 2846     		mov	r0, r5
 1419 0044 FFF7FEFF 		bl	HAL_TIM_PWM_Stop
 1420              	.LVL106:
 566:Src/tim.c     ****   HAL_TIM_PWM_Stop(&htim2, TIM_CHANNEL_2);
 1421              		.loc 1 566 0
 1422 0048 0421     		movs	r1, #4
 1423 004a 2846     		mov	r0, r5
 1424 004c FFF7FEFF 		bl	HAL_TIM_PWM_Stop
 1425              	.LVL107:
 567:Src/tim.c     **** }
 1426              		.loc 1 567 0
 1427 0050 70BD     		pop	{r4, r5, r6, pc}
 1428              	.L119:
 1429 0052 00BF     		.align	2
 1430              	.L118:
 1431 0054 00000000 		.word	sConfigOC
 1432 0058 00040240 		.word	1073873920
 1433 005c 00080240 		.word	1073874944
 1434 0060 00000000 		.word	htim2
 1435              		.cfi_endproc
 1436              	.LFE171:
 1438              		.section	.text.Tim_UpdateEncoder,"ax",%progbits
 1439              		.align	1
 1440              		.global	Tim_UpdateEncoder
 1441              		.syntax unified
 1442              		.thumb
 1443              		.thumb_func
 1444              		.fpu fpv4-sp-d16
 1446              	Tim_UpdateEncoder:
 1447              	.LFB172:
 568:Src/tim.c     **** 
 569:Src/tim.c     **** /****************************************************************************************
 570:Src/tim.c     ****  * outline  : update encoder value
 571:Src/tim.c     ****  * argument : void
 572:Src/tim.c     ****  * return   : void
 573:Src/tim.c     **** ********************************************************************************************/
 574:Src/tim.c     **** void Tim_UpdateEncoder(void)
 575:Src/tim.c     **** {
 1448              		.loc 1 575 0
 1449              		.cfi_startproc
 1450              		@ args = 0, pretend = 0, frame = 0
 1451              		@ frame_needed = 0, uses_anonymous_args = 0
 1452              		@ link register save eliminated.
 1453 0000 10B4     		push	{r4}
 1454              	.LCFI32:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 38


 1455              		.cfi_def_cfa_offset 4
 1456              		.cfi_offset 4, -4
 576:Src/tim.c     ****   int16_t r_buff = TIM1->CNT;
 1457              		.loc 1 576 0
 1458 0002 184C     		ldr	r4, .L122
 1459 0004 626A     		ldr	r2, [r4, #36]
 1460              	.LVL108:
 577:Src/tim.c     ****   int16_t l_buff = TIM8->CNT;
 1461              		.loc 1 577 0
 1462 0006 1849     		ldr	r1, .L122+4
 1463 0008 4B6A     		ldr	r3, [r1, #36]
 1464              	.LVL109:
 578:Src/tim.c     **** 
 579:Src/tim.c     ****   //float enc_left_omega = 0.0f;
 580:Src/tim.c     ****   //float enc_right_omega = 0.0f;
 581:Src/tim.c     ****   TIM1->CNT = 0;
 1465              		.loc 1 581 0
 1466 000a 0020     		movs	r0, #0
 1467 000c 6062     		str	r0, [r4, #36]
 582:Src/tim.c     ****   TIM8->CNT = 0;
 1468              		.loc 1 582 0
 1469 000e 4862     		str	r0, [r1, #36]
 583:Src/tim.c     **** 
 584:Src/tim.c     ****   if (l_buff > 32767)
 585:Src/tim.c     ****   {
 586:Src/tim.c     ****     l_buff = (int16_t)l_buff;
 587:Src/tim.c     ****   }
 588:Src/tim.c     ****   else
 589:Src/tim.c     ****   {
 590:Src/tim.c     ****     l_buff = l_buff;
 591:Src/tim.c     ****   }
 592:Src/tim.c     **** 
 593:Src/tim.c     ****   if (r_buff > 32767)
 594:Src/tim.c     ****   {
 595:Src/tim.c     ****     r_buff = -1 * (int16_t)r_buff;
 596:Src/tim.c     ****   }
 597:Src/tim.c     ****   else
 598:Src/tim.c     ****   {
 599:Src/tim.c     ****     r_buff = -1 * r_buff;
 1470              		.loc 1 599 0
 1471 0010 5242     		negs	r2, r2
 1472              	.LVL110:
 1473 0012 12B2     		sxth	r2, r2
 1474              	.LVL111:
 600:Src/tim.c     ****   }
 601:Src/tim.c     ****   enc.velocity = (float)(l_buff + r_buff) / ENC_CUL_ROT / GEAR_RATE * PI * radius * 1000.0f;
 1475              		.loc 1 601 0
 1476 0014 02FA83F3 		sxtah	r3, r2, r3
 1477              	.LVL112:
 1478 0018 07EE103A 		vmov	s14, r3	@ int
 1479 001c B8EEC77A 		vcvt.f32.s32	s14, s14
 1480 0020 DFED127A 		vldr.32	s15, .L122+8
 1481 0024 27EE277A 		vmul.f32	s14, s14, s15
 1482 0028 F0EE0C6A 		vmov.f32	s13, #3.5e+0
 1483 002c C7EE267A 		vdiv.f32	s15, s14, s13
 1484 0030 9FED0F7A 		vldr.32	s14, .L122+12
 1485 0034 67EE877A 		vmul.f32	s15, s15, s14
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 39


 1486 0038 0E4B     		ldr	r3, .L122+16
 1487 003a 93ED007A 		vldr.32	s14, [r3]
 1488 003e 67EE877A 		vmul.f32	s15, s15, s14
 1489 0042 9FED0D7A 		vldr.32	s14, .L122+20
 1490 0046 27EE877A 		vmul.f32	s14, s15, s14
 1491 004a 0C4B     		ldr	r3, .L122+24
 1492 004c 83ED017A 		vstr.32	s14, [r3, #4]
 602:Src/tim.c     ****   enc.offset += (float)(l_buff + r_buff) / ENC_CUL_ROT / GEAR_RATE * PI * radius;
 1493              		.loc 1 602 0
 1494 0050 93ED027A 		vldr.32	s14, [r3, #8]
 1495 0054 77EE877A 		vadd.f32	s15, s15, s14
 1496 0058 C3ED027A 		vstr.32	s15, [r3, #8]
 603:Src/tim.c     ****   //enc.distance += (float)(l_buff + r_buff) / ENC_CUL_ROT / GEAR_RATE * PI * radius;
 604:Src/tim.c     **** }
 1497              		.loc 1 604 0
 1498 005c 5DF8044B 		ldr	r4, [sp], #4
 1499              	.LCFI33:
 1500              		.cfi_restore 4
 1501              		.cfi_def_cfa_offset 0
 1502 0060 7047     		bx	lr
 1503              	.L123:
 1504 0062 00BF     		.align	2
 1505              	.L122:
 1506 0064 00000140 		.word	1073807360
 1507 0068 00040140 		.word	1073808384
 1508 006c 0000803A 		.word	981467136
 1509 0070 DB0F4940 		.word	1078530011
 1510 0074 00000000 		.word	.LANCHOR0
 1511 0078 00007A44 		.word	1148846080
 1512 007c 00000000 		.word	enc
 1513              		.cfi_endproc
 1514              	.LFE172:
 1516              		.section	.text.Tim_FanPwm,"ax",%progbits
 1517              		.align	1
 1518              		.global	Tim_FanPwm
 1519              		.syntax unified
 1520              		.thumb
 1521              		.thumb_func
 1522              		.fpu fpv4-sp-d16
 1524              	Tim_FanPwm:
 1525              	.LFB173:
 605:Src/tim.c     **** 
 606:Src/tim.c     **** void Tim_FanPwm(uint16_t vol)
 607:Src/tim.c     **** {
 1526              		.loc 1 607 0
 1527              		.cfi_startproc
 1528              		@ args = 0, pretend = 0, frame = 0
 1529              		@ frame_needed = 0, uses_anonymous_args = 0
 1530              	.LVL113:
 1531 0000 10B5     		push	{r4, lr}
 1532              	.LCFI34:
 1533              		.cfi_def_cfa_offset 8
 1534              		.cfi_offset 4, -8
 1535              		.cfi_offset 14, -4
 1536 0002 0446     		mov	r4, r0
 608:Src/tim.c     ****   htim3.Instance = TIM3;
 1537              		.loc 1 608 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 40


 1538 0004 1A48     		ldr	r0, .L132
 1539              	.LVL114:
 1540 0006 1B4B     		ldr	r3, .L132+4
 1541 0008 0360     		str	r3, [r0]
 609:Src/tim.c     ****   htim3.Init.Prescaler = 999;
 1542              		.loc 1 609 0
 1543 000a 40F2E733 		movw	r3, #999
 1544 000e 4360     		str	r3, [r0, #4]
 610:Src/tim.c     ****   htim3.Init.CounterMode = TIM_COUNTERMODE_UP;
 1545              		.loc 1 610 0
 1546 0010 0023     		movs	r3, #0
 1547 0012 8360     		str	r3, [r0, #8]
 611:Src/tim.c     ****   htim3.Init.Period = 9;
 1548              		.loc 1 611 0
 1549 0014 0922     		movs	r2, #9
 1550 0016 C260     		str	r2, [r0, #12]
 612:Src/tim.c     ****   htim3.Init.ClockDivision = TIM_CLOCKDIVISION_DIV1;
 1551              		.loc 1 612 0
 1552 0018 0361     		str	r3, [r0, #16]
 613:Src/tim.c     ****   htim3.Init.RepetitionCounter = 0;
 1553              		.loc 1 613 0
 1554 001a 4361     		str	r3, [r0, #20]
 614:Src/tim.c     ****   if (HAL_TIM_PWM_Init(&htim3) != HAL_OK)
 1555              		.loc 1 614 0
 1556 001c FFF7FEFF 		bl	HAL_TIM_PWM_Init
 1557              	.LVL115:
 1558 0020 98B9     		cbnz	r0, .L129
 1559              	.L125:
 615:Src/tim.c     ****   {
 616:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
 617:Src/tim.c     ****   }
 618:Src/tim.c     **** 
 619:Src/tim.c     ****   sConfigOC.OCMode = TIM_OCMODE_PWM1;
 1560              		.loc 1 619 0
 1561 0022 1549     		ldr	r1, .L132+8
 1562 0024 6023     		movs	r3, #96
 1563 0026 0B60     		str	r3, [r1]
 620:Src/tim.c     ****   sConfigOC.Pulse = vol;
 1564              		.loc 1 620 0
 1565 0028 4C60     		str	r4, [r1, #4]
 621:Src/tim.c     ****   sConfigOC.OCPolarity = TIM_OCPOLARITY_HIGH;
 1566              		.loc 1 621 0
 1567 002a 0022     		movs	r2, #0
 1568 002c 8A60     		str	r2, [r1, #8]
 622:Src/tim.c     ****   sConfigOC.OCNPolarity = TIM_OCNPOLARITY_HIGH;
 1569              		.loc 1 622 0
 1570 002e CA60     		str	r2, [r1, #12]
 623:Src/tim.c     ****   sConfigOC.OCFastMode = TIM_OCFAST_DISABLE;
 1571              		.loc 1 623 0
 1572 0030 0A61     		str	r2, [r1, #16]
 624:Src/tim.c     ****   sConfigOC.OCIdleState = TIM_OCIDLESTATE_RESET;
 1573              		.loc 1 624 0
 1574 0032 4A61     		str	r2, [r1, #20]
 625:Src/tim.c     ****   sConfigOC.OCNIdleState = TIM_OCNIDLESTATE_RESET;
 1575              		.loc 1 625 0
 1576 0034 8A61     		str	r2, [r1, #24]
 626:Src/tim.c     ****   if (HAL_TIM_PWM_ConfigChannel(&htim3, &sConfigOC, TIM_CHANNEL_1) != HAL_OK)
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 41


 1577              		.loc 1 626 0
 1578 0036 0E48     		ldr	r0, .L132
 1579 0038 FFF7FEFF 		bl	HAL_TIM_PWM_ConfigChannel
 1580              	.LVL116:
 1581 003c 58B9     		cbnz	r0, .L130
 1582              	.L126:
 627:Src/tim.c     ****   {
 628:Src/tim.c     ****     _Error_Handler(__FILE__, __LINE__);
 629:Src/tim.c     ****   }
 630:Src/tim.c     **** 
 631:Src/tim.c     ****   if (HAL_TIM_PWM_Start(&htim3, TIM_CHANNEL_1 != HAL_OK))
 1583              		.loc 1 631 0
 1584 003e 0021     		movs	r1, #0
 1585 0040 0B48     		ldr	r0, .L132
 1586 0042 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 1587              	.LVL117:
 1588 0046 60B9     		cbnz	r0, .L131
 1589              	.L124:
 632:Src/tim.c     ****   {
 633:Src/tim.c     ****     Error_Handler();
 634:Src/tim.c     ****   }
 635:Src/tim.c     **** }
 1590              		.loc 1 635 0
 1591 0048 10BD     		pop	{r4, pc}
 1592              	.L129:
 616:Src/tim.c     ****   }
 1593              		.loc 1 616 0
 1594 004a 4FF41A71 		mov	r1, #616
 1595 004e 0B48     		ldr	r0, .L132+12
 1596 0050 FFF7FEFF 		bl	_Error_Handler
 1597              	.LVL118:
 1598 0054 E5E7     		b	.L125
 1599              	.L130:
 628:Src/tim.c     ****   }
 1600              		.loc 1 628 0
 1601 0056 4FF41D71 		mov	r1, #628
 1602 005a 0848     		ldr	r0, .L132+12
 1603 005c FFF7FEFF 		bl	_Error_Handler
 1604              	.LVL119:
 1605 0060 EDE7     		b	.L126
 1606              	.L131:
 633:Src/tim.c     ****   }
 1607              		.loc 1 633 0
 1608 0062 40F27921 		movw	r1, #633
 1609 0066 0548     		ldr	r0, .L132+12
 1610 0068 FFF7FEFF 		bl	_Error_Handler
 1611              	.LVL120:
 1612              		.loc 1 635 0
 1613 006c ECE7     		b	.L124
 1614              	.L133:
 1615 006e 00BF     		.align	2
 1616              	.L132:
 1617 0070 00000000 		.word	htim3
 1618 0074 00040040 		.word	1073742848
 1619 0078 00000000 		.word	sConfigOC
 1620 007c 00000000 		.word	.LC0
 1621              		.cfi_endproc
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 42


 1622              	.LFE173:
 1624              		.section	.text.Tim_SetTireRadius,"ax",%progbits
 1625              		.align	1
 1626              		.global	Tim_SetTireRadius
 1627              		.syntax unified
 1628              		.thumb
 1629              		.thumb_func
 1630              		.fpu fpv4-sp-d16
 1632              	Tim_SetTireRadius:
 1633              	.LFB174:
 636:Src/tim.c     **** void Tim_SetTireRadius(float tire_radius)
 637:Src/tim.c     **** {
 1634              		.loc 1 637 0
 1635              		.cfi_startproc
 1636              		@ args = 0, pretend = 0, frame = 0
 1637              		@ frame_needed = 0, uses_anonymous_args = 0
 1638              		@ link register save eliminated.
 1639              	.LVL121:
 638:Src/tim.c     ****   radius = tire_radius;
 1640              		.loc 1 638 0
 1641 0000 014B     		ldr	r3, .L135
 1642 0002 83ED000A 		vstr.32	s0, [r3]
 639:Src/tim.c     **** }
 1643              		.loc 1 639 0
 1644 0006 7047     		bx	lr
 1645              	.L136:
 1646              		.align	2
 1647              	.L135:
 1648 0008 00000000 		.word	.LANCHOR0
 1649              		.cfi_endproc
 1650              	.LFE174:
 1652              		.comm	htim8,60,4
 1653              		.comm	htim3,60,4
 1654              		.comm	htim2,60,4
 1655              		.comm	htim1,60,4
 1656              		.global	radius
 1657              		.comm	enc,12,4
 1658              		.comm	sConfigOC,28,4
 1659              		.comm	sMasterConfig,8,4
 1660              		.section	.data.radius,"aw",%progbits
 1661              		.align	2
 1662              		.set	.LANCHOR0,. + 0
 1665              	radius:
 1666 0000 33334741 		.word	1095185203
 1667              		.section	.rodata.MX_TIM1_Init.str1.4,"aMS",%progbits,1
 1668              		.align	2
 1669              	.LC0:
 1670 0000 5372632F 		.ascii	"Src/tim.c\000"
 1670      74696D2E 
 1670      6300
 1671              		.text
 1672              	.Letext0:
 1673              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1674              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1675              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 1676              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 1677              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 43


 1678              		.file 7 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1679              		.file 8 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1680              		.file 9 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\lib\\gcc\\arm-none-eabi
 1681              		.file 10 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 1682              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1683              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1684              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1685              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 1686              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim_ex.h"
 1687              		.file 16 "Inc/tim.h"
 1688              		.file 17 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 44


DEFINED SYMBOLS
                            *ABS*:00000000 tim.c
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:18     .text.MX_TIM1_Init:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:25     .text.MX_TIM1_Init:00000000 MX_TIM1_Init
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:119    .text.MX_TIM1_Init:00000060 $d
                            *COM*:0000003c htim1
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:126    .text.MX_TIM8_Init:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:133    .text.MX_TIM8_Init:00000000 MX_TIM8_Init
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:226    .text.MX_TIM8_Init:00000060 $d
                            *COM*:0000003c htim8
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:233    .text.HAL_TIM_Encoder_MspInit:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:240    .text.HAL_TIM_Encoder_MspInit:00000000 HAL_TIM_Encoder_MspInit
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:348    .text.HAL_TIM_Encoder_MspInit:00000084 $d
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:356    .text.HAL_TIM_PWM_MspInit:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:363    .text.HAL_TIM_PWM_MspInit:00000000 HAL_TIM_PWM_MspInit
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:426    .text.HAL_TIM_PWM_MspInit:00000048 $d
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:432    .text.HAL_TIM_MspPostInit:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:439    .text.HAL_TIM_MspPostInit:00000000 HAL_TIM_MspPostInit
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:540    .text.HAL_TIM_MspPostInit:00000064 $d
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:547    .text.MX_TIM2_Init:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:554    .text.MX_TIM2_Init:00000000 MX_TIM2_Init
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:667    .text.MX_TIM2_Init:00000088 $d
                            *COM*:0000003c htim2
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:673    .text.MX_TIM3_Init:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:680    .text.MX_TIM3_Init:00000000 MX_TIM3_Init
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:792    .text.MX_TIM3_Init:00000084 $d
                            *COM*:0000003c htim3
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:799    .text.HAL_TIM_Encoder_MspDeInit:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:806    .text.HAL_TIM_Encoder_MspDeInit:00000000 HAL_TIM_Encoder_MspDeInit
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:863    .text.HAL_TIM_Encoder_MspDeInit:00000040 $d
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:871    .text.HAL_TIM_PWM_MspDeInit:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:878    .text.HAL_TIM_PWM_MspDeInit:00000000 HAL_TIM_PWM_MspDeInit
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:915    .text.HAL_TIM_PWM_MspDeInit:0000002c $d
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:921    .text.Tim_BuzzerPwm:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:928    .text.Tim_BuzzerPwm:00000000 Tim_BuzzerPwm
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1024   .text.Tim_BuzzerPwm:00000070 $d
                            *COM*:0000001c sConfigOC
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1032   .text.Tim_MotorPwm:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1039   .text.Tim_MotorPwm:00000000 Tim_MotorPwm
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1277   .text.Tim_MotorPwm:0000015c $d
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1287   .text.Tim_MotorBrake:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1294   .text.Tim_MotorBrake:00000000 Tim_MotorBrake
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1355   .text.Tim_MotorBrake:00000054 $d
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1363   .text.Tim_MotorStop:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1370   .text.Tim_MotorStop:00000000 Tim_MotorStop
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1431   .text.Tim_MotorStop:00000054 $d
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1439   .text.Tim_UpdateEncoder:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1446   .text.Tim_UpdateEncoder:00000000 Tim_UpdateEncoder
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1506   .text.Tim_UpdateEncoder:00000064 $d
                            *COM*:0000000c enc
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1517   .text.Tim_FanPwm:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1524   .text.Tim_FanPwm:00000000 Tim_FanPwm
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1617   .text.Tim_FanPwm:00000070 $d
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1625   .text.Tim_SetTireRadius:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1632   .text.Tim_SetTireRadius:00000000 Tim_SetTireRadius
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1648   .text.Tim_SetTireRadius:00000008 $d
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1665   .data.radius:00000000 radius
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s 			page 45


                            *COM*:00000008 sMasterConfig
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1661   .data.radius:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\ccIYLY1V.s:1668   .rodata.MX_TIM1_Init.str1.4:00000000 $d

UNDEFINED SYMBOLS
HAL_TIM_Encoder_Init
HAL_TIMEx_MasterConfigSynchronization
_Error_Handler
HAL_GPIO_Init
HAL_TIM_PWM_Init
HAL_TIM_PWM_ConfigChannel
HAL_GPIO_DeInit
HAL_TIM_PWM_Start
HAL_GPIO_WritePin
HAL_TIM_PWM_Stop
