ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"control.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.PID_value,"ax",%progbits
  18              		.align	1
  19              		.global	PID_value
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	PID_value:
  26              	.LFB159:
  27              		.file 1 "Src/control.c"
   1:Src/control.c **** #include "stdint.h"
   2:Src/control.c **** #include "tim.h"
   3:Src/control.c **** #include "spi.h"
   4:Src/control.c **** #include "control.h"
   5:Src/control.c **** #include "flash.h"
   6:Src/control.c **** #include "adc.h"
   7:Src/control.c **** #include "gpio.h"
   8:Src/control.c **** #include "arm_math.h"
   9:Src/control.c **** 
  10:Src/control.c **** #define dt 0.0010f
  11:Src/control.c **** #define TRUE 1
  12:Src/control.c **** #define FALSE 0
  13:Src/control.c **** #define SLIP_K 50000.0f
  14:Src/control.c **** 
  15:Src/control.c **** extern sensor_t sen_l;
  16:Src/control.c **** extern sensor_t sen_fl;
  17:Src/control.c **** extern sensor_t sen_front;
  18:Src/control.c **** extern sensor_t sen_fr;
  19:Src/control.c **** extern sensor_t sen_r;
  20:Src/control.c **** extern enc_t enc;
  21:Src/control.c **** extern gyro_t gyro_z;
  22:Src/control.c **** extern volatile accel_t accel;
  23:Src/control.c **** 
  24:Src/control.c **** extern volatile uint8_t motion_end_flag;
  25:Src/control.c **** 
  26:Src/control.c **** extern uint8_t cnt_100ms;
  27:Src/control.c **** 
  28:Src/control.c **** //straight
  29:Src/control.c **** target_t straight;
  30:Src/control.c **** volatile float dist_idial = 0.0f;
  31:Src/control.c **** float error_sum;
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 2


  32:Src/control.c **** float error_old;
  33:Src/control.c **** 
  34:Src/control.c **** //angle
  35:Src/control.c **** target_t angle;
  36:Src/control.c **** loger_t loger;
  37:Src/control.c **** volatile float ang_idial = 0.0f;
  38:Src/control.c **** float error_ang_sum;
  39:Src/control.c **** float error_ang_old;
  40:Src/control.c **** 
  41:Src/control.c **** volatile uint8_t motor_flag;
  42:Src/control.c **** 
  43:Src/control.c **** float slip_ang = 0.0f;
  44:Src/control.c **** uint8_t slip_cnt = 0;
  45:Src/control.c **** 
  46:Src/control.c **** //control wall
  47:Src/control.c **** float wall_dif = 0;
  48:Src/control.c **** unsigned char add_l = 0, add_r = 0;
  49:Src/control.c **** volatile uint8_t control_wall_flag;
  50:Src/control.c **** float front_wall_diff = 0.0f;
  51:Src/control.c **** volatile uint8_t front_wall_flag;
  52:Src/control.c **** //wall edge
  53:Src/control.c **** uint8_t walledge_step = 0;
  54:Src/control.c **** float walledge_offset = 0;
  55:Src/control.c **** uint8_t walledge_flag = 0;
  56:Src/control.c **** int32_t walledge_cnt = 0;
  57:Src/control.c **** float walledge_diff = 0.0f;
  58:Src/control.c **** //counnter
  59:Src/control.c **** uint16_t counter_ms = 0;
  60:Src/control.c **** uint8_t counter_s;
  61:Src/control.c **** //pid
  62:Src/control.c **** float str_p = 2.0f;//1.7
  63:Src/control.c **** float str_i = 9.0f;//11.5
  64:Src/control.c **** float str_d = 0;
  65:Src/control.c **** float ang_p = 0.9f;
  66:Src/control.c **** float ang_i = 21.0f;
  67:Src/control.c **** float ang_d = 1.0f;
  68:Src/control.c **** 
  69:Src/control.c **** /****************************************************************************************
  70:Src/control.c ****  * outline  : PID control
  71:Src/control.c ****  * argument : 
  72:Src/control.c ****  * return   : control value
  73:Src/control.c **** ********************************************************************************************/
  74:Src/control.c **** float PID_value(float target, float measured, float *sum, float *old, float Kp, float Ki, float Kd)
  75:Src/control.c **** {
  28              		.loc 1 75 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
  76:Src/control.c ****     float error;
  77:Src/control.c ****     float p, i, d;
  78:Src/control.c **** 
  79:Src/control.c ****     error = target - measured;
  34              		.loc 1 79 0
  35 0000 70EE600A 		vsub.f32	s1, s0, s1
  36              	.LVL1:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 3


  80:Src/control.c ****     p = Kp * error;
  37              		.loc 1 80 0
  38 0004 20EE811A 		vmul.f32	s2, s1, s2
  39              	.LVL2:
  81:Src/control.c **** 
  82:Src/control.c ****     *sum += error * dt;
  40              		.loc 1 82 0
  41 0008 DFED0C7A 		vldr.32	s15, .L2
  42 000c 60EEA77A 		vmul.f32	s15, s1, s15
  43 0010 90ED000A 		vldr.32	s0, [r0]
  44              	.LVL3:
  45 0014 77EE807A 		vadd.f32	s15, s15, s0
  46 0018 C0ED007A 		vstr.32	s15, [r0]
  83:Src/control.c ****     i = *sum * Ki;
  47              		.loc 1 83 0
  48 001c 67EEA11A 		vmul.f32	s3, s15, s3
  49              	.LVL4:
  84:Src/control.c **** 
  85:Src/control.c ****     d = Kd * (*old - error);
  50              		.loc 1 85 0
  51 0020 91ED007A 		vldr.32	s14, [r1]
  52 0024 37EE607A 		vsub.f32	s14, s14, s1
  53 0028 27EE022A 		vmul.f32	s4, s14, s4
  54              	.LVL5:
  86:Src/control.c ****     *old = error;
  55              		.loc 1 86 0
  56 002c C1ED000A 		vstr.32	s1, [r1]
  87:Src/control.c **** 
  88:Src/control.c ****     return (p + i + d);
  57              		.loc 1 88 0
  58 0030 71EE211A 		vadd.f32	s3, s2, s3
  59              	.LVL6:
  89:Src/control.c **** }
  60              		.loc 1 89 0
  61 0034 31EE820A 		vadd.f32	s0, s3, s4
  62 0038 7047     		bx	lr
  63              	.L3:
  64 003a 00BF     		.align	2
  65              	.L2:
  66 003c 6F12833A 		.word	981668463
  67              		.cfi_endproc
  68              	.LFE159:
  70              		.section	.text.Control_StrCalculator,"ax",%progbits
  71              		.align	1
  72              		.global	Control_StrCalculator
  73              		.syntax unified
  74              		.thumb
  75              		.thumb_func
  76              		.fpu fpv4-sp-d16
  78              	Control_StrCalculator:
  79              	.LFB160:
  90:Src/control.c **** 
  91:Src/control.c **** /****************************************************************************************
  92:Src/control.c ****  * outline  : calcurate accele distance
  93:Src/control.c ****  * argument : var[mm],velo_m[mm/s],velo_e[mm/s],accel[mm/s],dir
  94:Src/control.c ****  * return   : void
  95:Src/control.c **** ********************************************************************************************/
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 4


  96:Src/control.c **** void Control_StrCalculator(float var, float velo_s, float velo_m, float velo_e, float accel, float 
  97:Src/control.c **** {
  80              		.loc 1 97 0
  81              		.cfi_startproc
  82              		@ args = 0, pretend = 0, frame = 0
  83              		@ frame_needed = 0, uses_anonymous_args = 0
  84              		@ link register save eliminated.
  85              	.LVL7:
  98:Src/control.c ****     if (dir != 0)
  86              		.loc 1 98 0
  87 0000 F5EE402A 		vcmp.f32	s5, #0
  88 0004 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  89 0008 21D0     		beq	.L5
  99:Src/control.c ****     {
 100:Src/control.c ****         straight.up_term = (velo_m * velo_m - velo_s * velo_s) / 2.0f / accel;
  90              		.loc 1 100 0
  91 000a 21EE011A 		vmul.f32	s2, s2, s2
  92              	.LVL8:
  93 000e 60EEA07A 		vmul.f32	s15, s1, s1
  94 0012 71EE677A 		vsub.f32	s15, s2, s15
  95 0016 B6EE007A 		vmov.f32	s14, #5.0e-1
  96 001a 67EE877A 		vmul.f32	s15, s15, s14
  97 001e C7EE826A 		vdiv.f32	s13, s15, s4
  98 0022 0F4B     		ldr	r3, .L6
  99 0024 C3ED006A 		vstr.32	s13, [r3]
 101:Src/control.c ****         straight.const_term = var - (velo_m * velo_m - velo_e * velo_e) / 2.0f / accel;
 100              		.loc 1 101 0
 101 0028 61EEA11A 		vmul.f32	s3, s3, s3
 102              	.LVL9:
 103 002c 31EE611A 		vsub.f32	s2, s2, s3
 104 0030 21EE071A 		vmul.f32	s2, s2, s14
 105 0034 C1EE027A 		vdiv.f32	s15, s2, s4
 106 0038 70EE677A 		vsub.f32	s15, s0, s15
 107 003c C3ED017A 		vstr.32	s15, [r3, #4]
 102:Src/control.c ****         straight.down_term = var;
 108              		.loc 1 102 0
 109 0040 83ED020A 		vstr.32	s0, [r3, #8]
 103:Src/control.c ****         straight.accel = accel;
 110              		.loc 1 103 0
 111 0044 83ED042A 		vstr.32	s4, [r3, #16]
 104:Src/control.c ****         dist_idial = 0;
 112              		.loc 1 104 0
 113 0048 064B     		ldr	r3, .L6+4
 114 004a 0022     		movs	r2, #0
 115 004c 1A60     		str	r2, [r3]	@ float
 116              	.L5:
 105:Src/control.c ****     }
 106:Src/control.c ****     straight.v_now = velo_s;
 117              		.loc 1 106 0
 118 004e 044A     		ldr	r2, .L6
 119 0050 C2ED030A 		vstr.32	s1, [r2, #12]
 107:Src/control.c ****     straight.dir = dir;
 120              		.loc 1 107 0
 121 0054 FDEEE27A 		vcvt.s32.f32	s15, s5
 122 0058 17EE903A 		vmov	r3, s15	@ int
 123 005c 1375     		strb	r3, [r2, #20]
 108:Src/control.c **** }
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 5


 124              		.loc 1 108 0
 125 005e 7047     		bx	lr
 126              	.L7:
 127              		.align	2
 128              	.L6:
 129 0060 00000000 		.word	straight
 130 0064 00000000 		.word	.LANCHOR0
 131              		.cfi_endproc
 132              	.LFE160:
 134              		.section	.text.Control_AngCalculator,"ax",%progbits
 135              		.align	1
 136              		.global	Control_AngCalculator
 137              		.syntax unified
 138              		.thumb
 139              		.thumb_func
 140              		.fpu fpv4-sp-d16
 142              	Control_AngCalculator:
 143              	.LFB161:
 109:Src/control.c **** 
 110:Src/control.c **** /****************************************************************************************
 111:Src/control.c ****  * outline  : calcurate accele distance
 112:Src/control.c ****  * argument : var[mm],velo_m[mm/s],velo_e[mm/s],accel[mm/s],dir
 113:Src/control.c ****  * return   : void
 114:Src/control.c **** ********************************************************************************************/
 115:Src/control.c **** void Control_AngCalculator(float var, float velo_s, float velo_m, float velo_e, float accel, float 
 116:Src/control.c **** {
 144              		.loc 1 116 0
 145              		.cfi_startproc
 146              		@ args = 0, pretend = 0, frame = 0
 147              		@ frame_needed = 0, uses_anonymous_args = 0
 148              		@ link register save eliminated.
 149              	.LVL10:
 117:Src/control.c ****     if (dir != 0)
 150              		.loc 1 117 0
 151 0000 F5EE402A 		vcmp.f32	s5, #0
 152 0004 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 153 0008 21D0     		beq	.L9
 118:Src/control.c ****     {
 119:Src/control.c ****         //gyro_z.degree = 0;
 120:Src/control.c ****         angle.up_term = (velo_m * velo_m - velo_s * velo_s) / 2.0f / accel;
 154              		.loc 1 120 0
 155 000a 21EE011A 		vmul.f32	s2, s2, s2
 156              	.LVL11:
 157 000e 60EEA07A 		vmul.f32	s15, s1, s1
 158 0012 71EE677A 		vsub.f32	s15, s2, s15
 159 0016 B6EE007A 		vmov.f32	s14, #5.0e-1
 160 001a 67EE877A 		vmul.f32	s15, s15, s14
 161 001e C7EE826A 		vdiv.f32	s13, s15, s4
 162 0022 0F4B     		ldr	r3, .L10
 163 0024 C3ED006A 		vstr.32	s13, [r3]
 121:Src/control.c ****         angle.const_term = var - (velo_m * velo_m - velo_e * velo_e) / 2.0f / accel;
 164              		.loc 1 121 0
 165 0028 61EEA11A 		vmul.f32	s3, s3, s3
 166              	.LVL12:
 167 002c 31EE611A 		vsub.f32	s2, s2, s3
 168 0030 21EE071A 		vmul.f32	s2, s2, s14
 169 0034 C1EE027A 		vdiv.f32	s15, s2, s4
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 6


 170 0038 70EE677A 		vsub.f32	s15, s0, s15
 171 003c C3ED017A 		vstr.32	s15, [r3, #4]
 122:Src/control.c ****         angle.down_term = var;
 172              		.loc 1 122 0
 173 0040 83ED020A 		vstr.32	s0, [r3, #8]
 123:Src/control.c ****         angle.accel = accel;
 174              		.loc 1 123 0
 175 0044 83ED042A 		vstr.32	s4, [r3, #16]
 124:Src/control.c ****         ang_idial = 0;
 176              		.loc 1 124 0
 177 0048 064B     		ldr	r3, .L10+4
 178 004a 0022     		movs	r2, #0
 179 004c 1A60     		str	r2, [r3]	@ float
 180              	.L9:
 125:Src/control.c ****     }
 126:Src/control.c ****     angle.v_now = velo_s;
 181              		.loc 1 126 0
 182 004e 044A     		ldr	r2, .L10
 183 0050 C2ED030A 		vstr.32	s1, [r2, #12]
 127:Src/control.c ****     angle.dir = dir;
 184              		.loc 1 127 0
 185 0054 FDEEE27A 		vcvt.s32.f32	s15, s5
 186 0058 17EE903A 		vmov	r3, s15	@ int
 187 005c 1375     		strb	r3, [r2, #20]
 128:Src/control.c **** }
 188              		.loc 1 128 0
 189 005e 7047     		bx	lr
 190              	.L11:
 191              		.align	2
 192              	.L10:
 193 0060 00000000 		.word	angle
 194 0064 00000000 		.word	.LANCHOR1
 195              		.cfi_endproc
 196              	.LFE161:
 198              		.section	.text.UpdateTargets,"ax",%progbits
 199              		.align	1
 200              		.global	UpdateTargets
 201              		.syntax unified
 202              		.thumb
 203              		.thumb_func
 204              		.fpu fpv4-sp-d16
 206              	UpdateTargets:
 207              	.LFB162:
 129:Src/control.c **** 
 130:Src/control.c **** void UpdateTargets(volatile float *var, float *velo, float accel)
 131:Src/control.c **** {
 208              		.loc 1 131 0
 209              		.cfi_startproc
 210              		@ args = 0, pretend = 0, frame = 8
 211              		@ frame_needed = 0, uses_anonymous_args = 0
 212              		@ link register save eliminated.
 213              	.LVL13:
 214 0000 82B0     		sub	sp, sp, #8
 215              	.LCFI0:
 216              		.cfi_def_cfa_offset 8
 132:Src/control.c ****     volatile float buff;
 133:Src/control.c **** 
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 7


 134:Src/control.c ****     buff = *velo * 1000.0f;
 217              		.loc 1 134 0
 218 0002 91ED007A 		vldr.32	s14, [r1]
 219 0006 DFED137A 		vldr.32	s15, .L14
 220 000a 27EE277A 		vmul.f32	s14, s14, s15
 221 000e 8DED017A 		vstr.32	s14, [sp, #4]
 135:Src/control.c ****     buff += accel;
 222              		.loc 1 135 0
 223 0012 9DED017A 		vldr.32	s14, [sp, #4]
 224 0016 37EE000A 		vadd.f32	s0, s14, s0
 225              	.LVL14:
 226 001a 8DED010A 		vstr.32	s0, [sp, #4]
 136:Src/control.c ****     *velo = buff / 1000.0f;
 227              		.loc 1 136 0
 228 001e DDED016A 		vldr.32	s13, [sp, #4]
 229 0022 86EEA77A 		vdiv.f32	s14, s13, s15
 230 0026 81ED007A 		vstr.32	s14, [r1]
 137:Src/control.c **** 
 138:Src/control.c ****     buff = *var * 1000.0f;
 231              		.loc 1 138 0
 232 002a D0ED006A 		vldr.32	s13, [r0]
 233 002e 66EEA76A 		vmul.f32	s13, s13, s15
 234 0032 CDED016A 		vstr.32	s13, [sp, #4]
 139:Src/control.c ****     buff += *velo;
 235              		.loc 1 139 0
 236 0036 DDED016A 		vldr.32	s13, [sp, #4]
 237 003a 37EE267A 		vadd.f32	s14, s14, s13
 238 003e 8DED017A 		vstr.32	s14, [sp, #4]
 140:Src/control.c ****     *var = buff / 1000.0f;
 239              		.loc 1 140 0
 240 0042 DDED016A 		vldr.32	s13, [sp, #4]
 241 0046 86EEA77A 		vdiv.f32	s14, s13, s15
 242 004a 80ED007A 		vstr.32	s14, [r0]
 141:Src/control.c **** }
 243              		.loc 1 141 0
 244 004e 02B0     		add	sp, sp, #8
 245              	.LCFI1:
 246              		.cfi_def_cfa_offset 0
 247              		@ sp needed
 248 0050 7047     		bx	lr
 249              	.L15:
 250 0052 00BF     		.align	2
 251              	.L14:
 252 0054 00007A44 		.word	1148846080
 253              		.cfi_endproc
 254              	.LFE162:
 256              		.section	.text.UpdateStrTarget,"ax",%progbits
 257              		.align	1
 258              		.global	UpdateStrTarget
 259              		.syntax unified
 260              		.thumb
 261              		.thumb_func
 262              		.fpu fpv4-sp-d16
 264              	UpdateStrTarget:
 265              	.LFB163:
 142:Src/control.c **** 
 143:Src/control.c **** /****************************************************************************************
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 8


 144:Src/control.c ****  * outline  : output pwm for trapezoid accele straight by feadbuck control
 145:Src/control.c ****  * argument : void
 146:Src/control.c ****  * return   : void
 147:Src/control.c **** ********************************************************************************************/
 148:Src/control.c **** void UpdateStrTarget()
 149:Src/control.c **** {
 266              		.loc 1 149 0
 267              		.cfi_startproc
 268              		@ args = 0, pretend = 0, frame = 0
 269              		@ frame_needed = 0, uses_anonymous_args = 0
 270 0000 08B5     		push	{r3, lr}
 271              	.LCFI2:
 272              		.cfi_def_cfa_offset 8
 273              		.cfi_offset 3, -8
 274              		.cfi_offset 14, -4
 150:Src/control.c ****     if (straight.dir == 0.0f)
 275              		.loc 1 150 0
 276 0002 2C4B     		ldr	r3, .L37
 277 0004 93F91430 		ldrsb	r3, [r3, #20]
 278 0008 07EE903A 		vmov	s15, r3	@ int
 279 000c F8EEE77A 		vcvt.f32.s32	s15, s15
 280 0010 F5EE407A 		vcmp.f32	s15, #0
 281 0014 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 282 0018 2ED0     		beq	.L33
 151:Src/control.c ****     {
 152:Src/control.c ****         straight.v_now = 0.0f;
 153:Src/control.c ****     }
 154:Src/control.c ****     else
 155:Src/control.c ****     {
 156:Src/control.c ****         if (dist_idial < straight.up_term)
 283              		.loc 1 156 0
 284 001a 264B     		ldr	r3, .L37
 285 001c 93ED007A 		vldr.32	s14, [r3]
 286 0020 254B     		ldr	r3, .L37+4
 287 0022 D3ED007A 		vldr.32	s15, [r3]
 288 0026 B4EEE77A 		vcmpe.f32	s14, s15
 289 002a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 290 002e 27DC     		bgt	.L34
 157:Src/control.c ****         {
 158:Src/control.c ****             UpdateTargets(&dist_idial, &straight.v_now, straight.accel);
 159:Src/control.c ****         }
 160:Src/control.c ****         else if (dist_idial < straight.const_term)
 291              		.loc 1 160 0
 292 0030 204B     		ldr	r3, .L37
 293 0032 93ED017A 		vldr.32	s14, [r3, #4]
 294 0036 204B     		ldr	r3, .L37+4
 295 0038 D3ED007A 		vldr.32	s15, [r3]
 296 003c B4EEE77A 		vcmpe.f32	s14, s15
 297 0040 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 298 0044 24DC     		bgt	.L35
 161:Src/control.c ****         {
 162:Src/control.c ****             UpdateTargets(&dist_idial, &straight.v_now, 0);
 163:Src/control.c ****         }
 164:Src/control.c ****         else if (dist_idial < straight.down_term && straight.v_now > 0.0f)
 299              		.loc 1 164 0
 300 0046 1B4B     		ldr	r3, .L37
 301 0048 93ED027A 		vldr.32	s14, [r3, #8]
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 9


 302 004c 1A4B     		ldr	r3, .L37+4
 303 004e D3ED007A 		vldr.32	s15, [r3]
 304 0052 B4EEE77A 		vcmpe.f32	s14, s15
 305 0056 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 306 005a 07DD     		ble	.L23
 307              		.loc 1 164 0 is_stmt 0 discriminator 1
 308 005c 154B     		ldr	r3, .L37
 309 005e D3ED037A 		vldr.32	s15, [r3, #12]
 310 0062 F5EEC07A 		vcmpe.f32	s15, #0
 311 0066 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 312 006a 18DC     		bgt	.L36
 313              	.L23:
 165:Src/control.c ****         {
 166:Src/control.c ****             UpdateTargets(&dist_idial, &straight.v_now, -(straight.accel));
 167:Src/control.c ****         }
 168:Src/control.c ****         else
 169:Src/control.c ****         {
 170:Src/control.c ****             motion_end_flag = TRUE;
 314              		.loc 1 170 0 is_stmt 1
 315 006c 0123     		movs	r3, #1
 316 006e 134A     		ldr	r2, .L37+8
 317 0070 1370     		strb	r3, [r2]
 171:Src/control.c ****             walledge_flag = TRUE;
 318              		.loc 1 171 0
 319 0072 134A     		ldr	r2, .L37+12
 320 0074 1370     		strb	r3, [r2]
 172:Src/control.c ****         }
 173:Src/control.c ****     }
 174:Src/control.c **** }
 321              		.loc 1 174 0
 322 0076 02E0     		b	.L16
 323              	.L33:
 152:Src/control.c ****     }
 324              		.loc 1 152 0
 325 0078 0E4B     		ldr	r3, .L37
 326 007a 0022     		movs	r2, #0
 327 007c DA60     		str	r2, [r3, #12]	@ float
 328              	.L16:
 329              		.loc 1 174 0
 330 007e 08BD     		pop	{r3, pc}
 331              	.L34:
 158:Src/control.c ****         }
 332              		.loc 1 158 0
 333 0080 0C49     		ldr	r1, .L37
 334 0082 91ED040A 		vldr.32	s0, [r1, #16]
 335 0086 0C31     		adds	r1, r1, #12
 336 0088 1846     		mov	r0, r3
 337 008a FFF7FEFF 		bl	UpdateTargets
 338              	.LVL15:
 339 008e F6E7     		b	.L16
 340              	.L35:
 162:Src/control.c ****         }
 341              		.loc 1 162 0
 342 0090 9FED0C0A 		vldr.32	s0, .L37+16
 343 0094 0C49     		ldr	r1, .L37+20
 344 0096 1846     		mov	r0, r3
 345 0098 FFF7FEFF 		bl	UpdateTargets
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 10


 346              	.LVL16:
 347 009c EFE7     		b	.L16
 348              	.L36:
 166:Src/control.c ****         }
 349              		.loc 1 166 0
 350 009e 1946     		mov	r1, r3
 351 00a0 93ED040A 		vldr.32	s0, [r3, #16]
 352 00a4 B1EE400A 		vneg.f32	s0, s0
 353 00a8 0C31     		adds	r1, r1, #12
 354 00aa 0348     		ldr	r0, .L37+4
 355 00ac FFF7FEFF 		bl	UpdateTargets
 356              	.LVL17:
 357 00b0 E5E7     		b	.L16
 358              	.L38:
 359 00b2 00BF     		.align	2
 360              	.L37:
 361 00b4 00000000 		.word	straight
 362 00b8 00000000 		.word	.LANCHOR0
 363 00bc 00000000 		.word	motion_end_flag
 364 00c0 00000000 		.word	.LANCHOR2
 365 00c4 00000000 		.word	0
 366 00c8 0C000000 		.word	straight+12
 367              		.cfi_endproc
 368              	.LFE163:
 370              		.section	.text.Control_EdgeSet,"ax",%progbits
 371              		.align	1
 372              		.global	Control_EdgeSet
 373              		.syntax unified
 374              		.thumb
 375              		.thumb_func
 376              		.fpu fpv4-sp-d16
 378              	Control_EdgeSet:
 379              	.LFB164:
 175:Src/control.c **** 
 176:Src/control.c **** void Control_EdgeSet(float offset)
 177:Src/control.c **** {
 380              		.loc 1 177 0
 381              		.cfi_startproc
 382              		@ args = 0, pretend = 0, frame = 0
 383              		@ frame_needed = 0, uses_anonymous_args = 0
 384              		@ link register save eliminated.
 385              	.LVL18:
 178:Src/control.c ****     walledge_flag = FALSE;
 386              		.loc 1 178 0
 387 0000 034B     		ldr	r3, .L40
 388 0002 0022     		movs	r2, #0
 389 0004 1A70     		strb	r2, [r3]
 179:Src/control.c ****     walledge_offset = offset;
 390              		.loc 1 179 0
 391 0006 034B     		ldr	r3, .L40+4
 392 0008 83ED000A 		vstr.32	s0, [r3]
 180:Src/control.c **** }
 393              		.loc 1 180 0
 394 000c 7047     		bx	lr
 395              	.L41:
 396 000e 00BF     		.align	2
 397              	.L40:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 11


 398 0010 00000000 		.word	.LANCHOR2
 399 0014 00000000 		.word	.LANCHOR3
 400              		.cfi_endproc
 401              	.LFE164:
 403              		.section	.text.WallEdgeFix,"ax",%progbits
 404              		.align	1
 405              		.global	WallEdgeFix
 406              		.syntax unified
 407              		.thumb
 408              		.thumb_func
 409              		.fpu fpv4-sp-d16
 411              	WallEdgeFix:
 412              	.LFB165:
 181:Src/control.c **** 
 182:Src/control.c **** void WallEdgeFix(float dist)
 183:Src/control.c **** {
 413              		.loc 1 183 0
 414              		.cfi_startproc
 415              		@ args = 0, pretend = 0, frame = 0
 416              		@ frame_needed = 0, uses_anonymous_args = 0
 417              		@ link register save eliminated.
 418              	.LVL19:
 184:Src/control.c ****     if (walledge_flag == FALSE && dist_idial > 16.0f)
 419              		.loc 1 184 0
 420 0000 0C4B     		ldr	r3, .L46
 421 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 422 0004 A3B9     		cbnz	r3, .L42
 423              		.loc 1 184 0 is_stmt 0 discriminator 1
 424 0006 0C4B     		ldr	r3, .L46+4
 425 0008 93ED007A 		vldr.32	s14, [r3]
 426 000c F3EE007A 		vmov.f32	s15, #1.6e+1
 427 0010 B4EEE77A 		vcmpe.f32	s14, s15
 428 0014 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 429 0018 0ADD     		ble	.L42
 185:Src/control.c ****     {
 186:Src/control.c ****         dist_idial = dist + walledge_offset;
 430              		.loc 1 186 0 is_stmt 1
 431 001a 084B     		ldr	r3, .L46+8
 432 001c D3ED007A 		vldr.32	s15, [r3]
 433 0020 30EE270A 		vadd.f32	s0, s0, s15
 434              	.LVL20:
 435 0024 044B     		ldr	r3, .L46+4
 436 0026 83ED000A 		vstr.32	s0, [r3]
 187:Src/control.c ****         walledge_flag = TRUE;
 437              		.loc 1 187 0
 438 002a 024B     		ldr	r3, .L46
 439 002c 0122     		movs	r2, #1
 440 002e 1A70     		strb	r2, [r3]
 441              	.L42:
 188:Src/control.c ****     }
 189:Src/control.c **** }
 442              		.loc 1 189 0
 443 0030 7047     		bx	lr
 444              	.L47:
 445 0032 00BF     		.align	2
 446              	.L46:
 447 0034 00000000 		.word	.LANCHOR2
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 12


 448 0038 00000000 		.word	.LANCHOR0
 449 003c 00000000 		.word	.LANCHOR3
 450              		.cfi_endproc
 451              	.LFE165:
 453              		.section	.text.SideWallFix,"ax",%progbits
 454              		.align	1
 455              		.global	SideWallFix
 456              		.syntax unified
 457              		.thumb
 458              		.thumb_func
 459              		.fpu fpv4-sp-d16
 461              	SideWallFix:
 462              	.LFB166:
 190:Src/control.c **** 
 191:Src/control.c **** void SideWallFix(void)
 192:Src/control.c **** {
 463              		.loc 1 192 0
 464              		.cfi_startproc
 465              		@ args = 0, pretend = 0, frame = 0
 466              		@ frame_needed = 0, uses_anonymous_args = 0
 467 0000 10B5     		push	{r4, lr}
 468              	.LCFI3:
 469              		.cfi_def_cfa_offset 8
 470              		.cfi_offset 4, -8
 471              		.cfi_offset 14, -4
 472              	.LVL21:
 193:Src/control.c ****     float kp = 0.80f;
 194:Src/control.c ****     int16_t diff_l = sen_l.diff;
 473              		.loc 1 194 0
 474 0002 7F4B     		ldr	r3, .L76
 475 0004 B3F91A30 		ldrsh	r3, [r3, #26]
 476              	.LVL22:
 195:Src/control.c ****     int16_t diff_r = sen_r.diff;
 477              		.loc 1 195 0
 478 0008 7E4A     		ldr	r2, .L76+4
 479 000a B2F91A20 		ldrsh	r2, [r2, #26]
 480              	.LVL23:
 196:Src/control.c ****     int16_t ref_fl = 120; //100
 197:Src/control.c ****     int16_t ref_fr = 103; //83
 198:Src/control.c **** 
 199:Src/control.c ****     if (diff_l < -10 && diff_r < -5)
 481              		.loc 1 199 0
 482 000e 13F10A0F 		cmn	r3, #10
 483 0012 09DA     		bge	.L49
 484              		.loc 1 199 0 is_stmt 0 discriminator 1
 485 0014 12F1050F 		cmn	r2, #5
 486 0018 06DA     		bge	.L49
 200:Src/control.c ****     {
 201:Src/control.c ****         add_l = 20;
 487              		.loc 1 201 0 is_stmt 1
 488 001a 7B49     		ldr	r1, .L76+8
 489 001c 1420     		movs	r0, #20
 490 001e 0870     		strb	r0, [r1]
 202:Src/control.c ****         add_r = 35;
 491              		.loc 1 202 0
 492 0020 7A49     		ldr	r1, .L76+12
 493 0022 2320     		movs	r0, #35
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 13


 494 0024 0870     		strb	r0, [r1]
 495 0026 05E0     		b	.L50
 496              	.L49:
 203:Src/control.c ****     }
 204:Src/control.c ****     else if (diff_l < -10)
 497              		.loc 1 204 0
 498 0028 13F10A0F 		cmn	r3, #10
 499 002c 25DA     		bge	.L51
 205:Src/control.c ****     {
 206:Src/control.c ****         add_l = 20;
 500              		.loc 1 206 0
 501 002e 7649     		ldr	r1, .L76+8
 502 0030 1420     		movs	r0, #20
 503 0032 0870     		strb	r0, [r1]
 504              	.L50:
 207:Src/control.c ****     }
 208:Src/control.c ****     else if (diff_r < -5)
 209:Src/control.c ****     {
 210:Src/control.c ****         add_r = 35;
 211:Src/control.c ****     }
 212:Src/control.c **** 
 213:Src/control.c ****     if (diff_r <= -12)
 505              		.loc 1 213 0
 506 0034 12F10B0F 		cmn	r2, #11
 507 0038 26DB     		blt	.L73
 214:Src/control.c ****     {
 215:Src/control.c ****         WallEdgeFix(71.0f);
 216:Src/control.c ****     }
 217:Src/control.c ****     else if (diff_l <= -10)
 508              		.loc 1 217 0
 509 003a 13F1090F 		cmn	r3, #9
 510 003e 28DB     		blt	.L74
 511              	.LVL24:
 512              	.L53:
 218:Src/control.c ****     {
 219:Src/control.c ****         WallEdgeFix(78.0f);
 220:Src/control.c ****     }
 221:Src/control.c **** 
 222:Src/control.c ****     if (sen_front.now < 120)
 513              		.loc 1 222 0
 514 0040 734B     		ldr	r3, .L76+16
 515 0042 B3F90030 		ldrsh	r3, [r3]
 516 0046 772B     		cmp	r3, #119
 517 0048 00F3BE80 		bgt	.L54
 223:Src/control.c ****     {
 224:Src/control.c ****         if (angle.dir != 0 || straight.v_now < 600.0f)
 518              		.loc 1 224 0
 519 004c 714B     		ldr	r3, .L76+20
 520 004e 93F91430 		ldrsb	r3, [r3, #20]
 521 0052 4BB9     		cbnz	r3, .L55
 522              		.loc 1 224 0 is_stmt 0 discriminator 1
 523 0054 704B     		ldr	r3, .L76+24
 524 0056 93ED037A 		vldr.32	s14, [r3, #12]
 525 005a DFED707A 		vldr.32	s15, .L76+28
 526 005e B4EEE77A 		vcmpe.f32	s14, s15
 527 0062 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 528 0066 19D5     		bpl	.L70
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 14


 529              	.L55:
 225:Src/control.c ****         {
 226:Src/control.c ****             wall_dif = 0;
 530              		.loc 1 226 0 is_stmt 1
 531 0068 6D4B     		ldr	r3, .L76+32
 532 006a 0022     		movs	r2, #0
 533 006c 1A60     		str	r2, [r3]	@ float
 227:Src/control.c ****             add_r = 0;
 534              		.loc 1 227 0
 535 006e 0023     		movs	r3, #0
 536 0070 664A     		ldr	r2, .L76+12
 537 0072 1370     		strb	r3, [r2]
 228:Src/control.c ****             add_l = 0;
 538              		.loc 1 228 0
 539 0074 644A     		ldr	r2, .L76+8
 540 0076 1370     		strb	r3, [r2]
 541 0078 A9E0     		b	.L58
 542              	.LVL25:
 543              	.L51:
 208:Src/control.c ****     {
 544              		.loc 1 208 0
 545 007a 12F1050F 		cmn	r2, #5
 546 007e D9DA     		bge	.L50
 210:Src/control.c ****     }
 547              		.loc 1 210 0
 548 0080 6249     		ldr	r1, .L76+12
 549 0082 2320     		movs	r0, #35
 550 0084 0870     		strb	r0, [r1]
 551 0086 D5E7     		b	.L50
 552              	.L73:
 215:Src/control.c ****     }
 553              		.loc 1 215 0
 554 0088 9FED660A 		vldr.32	s0, .L76+36
 555 008c FFF7FEFF 		bl	WallEdgeFix
 556              	.LVL26:
 557 0090 D6E7     		b	.L53
 558              	.LVL27:
 559              	.L74:
 219:Src/control.c ****     }
 560              		.loc 1 219 0
 561 0092 9FED650A 		vldr.32	s0, .L76+40
 562 0096 FFF7FEFF 		bl	WallEdgeFix
 563              	.LVL28:
 564 009a D1E7     		b	.L53
 565              	.L70:
 229:Src/control.c ****         }
 230:Src/control.c ****         else if (sen_l.now > (sen_l.threshold + add_l) && sen_r.now > (sen_r.threshold + add_r))
 566              		.loc 1 230 0
 567 009c 584A     		ldr	r2, .L76
 568 009e B2F90030 		ldrsh	r3, [r2]
 569 00a2 B2F91810 		ldrsh	r1, [r2, #24]
 570 00a6 584A     		ldr	r2, .L76+8
 571 00a8 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 572 00aa 0A44     		add	r2, r2, r1
 573 00ac 9342     		cmp	r3, r2
 574 00ae 23DD     		ble	.L59
 575              		.loc 1 230 0 is_stmt 0 discriminator 1
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 15


 576 00b0 5449     		ldr	r1, .L76+4
 577 00b2 B1F90000 		ldrsh	r0, [r1]
 578 00b6 B1F91840 		ldrsh	r4, [r1, #24]
 579 00ba 5449     		ldr	r1, .L76+12
 580 00bc 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 581 00be 2144     		add	r1, r1, r4
 582 00c0 8842     		cmp	r0, r1
 583 00c2 19DD     		ble	.L59
 231:Src/control.c ****         {
 232:Src/control.c ****             wall_dif = kp * ((sen_l.now - sen_l.reference) - (sen_r.now - sen_r.reference));
 584              		.loc 1 232 0 is_stmt 1
 585 00c4 4E4A     		ldr	r2, .L76
 586 00c6 B2F91620 		ldrsh	r2, [r2, #22]
 587 00ca 9B1A     		subs	r3, r3, r2
 588 00cc 4D4A     		ldr	r2, .L76+4
 589 00ce B2F91620 		ldrsh	r2, [r2, #22]
 590 00d2 801A     		subs	r0, r0, r2
 591 00d4 1B1A     		subs	r3, r3, r0
 592 00d6 07EE903A 		vmov	s15, r3	@ int
 593 00da F8EEE77A 		vcvt.f32.s32	s15, s15
 594 00de 9FED537A 		vldr.32	s14, .L76+44
 595 00e2 67EE877A 		vmul.f32	s15, s15, s14
 596 00e6 4E4B     		ldr	r3, .L76+32
 597 00e8 C3ED007A 		vstr.32	s15, [r3]
 233:Src/control.c ****             add_l = 0;
 598              		.loc 1 233 0
 599 00ec 0023     		movs	r3, #0
 600 00ee 464A     		ldr	r2, .L76+8
 601 00f0 1370     		strb	r3, [r2]
 234:Src/control.c ****             add_r = 0;
 602              		.loc 1 234 0
 603 00f2 464A     		ldr	r2, .L76+12
 604 00f4 1370     		strb	r3, [r2]
 605 00f6 6AE0     		b	.L58
 606              	.L59:
 235:Src/control.c ****         }
 236:Src/control.c ****         else if (sen_l.now > (sen_l.threshold + add_l))
 607              		.loc 1 236 0
 608 00f8 9342     		cmp	r3, r2
 609 00fa 10DD     		ble	.L60
 237:Src/control.c ****         {
 238:Src/control.c ****             wall_dif = 2.5f * kp * (sen_l.now - sen_l.reference);
 610              		.loc 1 238 0
 611 00fc 404A     		ldr	r2, .L76
 612 00fe B2F91620 		ldrsh	r2, [r2, #22]
 613 0102 9B1A     		subs	r3, r3, r2
 614 0104 07EE903A 		vmov	s15, r3	@ int
 615 0108 F8EEE77A 		vcvt.f32.s32	s15, s15
 616 010c 77EEA77A 		vadd.f32	s15, s15, s15
 617 0110 434B     		ldr	r3, .L76+32
 618 0112 C3ED007A 		vstr.32	s15, [r3]
 239:Src/control.c ****             add_l = 0;
 619              		.loc 1 239 0
 620 0116 3C4B     		ldr	r3, .L76+8
 621 0118 0022     		movs	r2, #0
 622 011a 1A70     		strb	r2, [r3]
 623 011c 57E0     		b	.L58
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 16


 624              	.L60:
 240:Src/control.c ****         }
 241:Src/control.c ****         else if (sen_r.now > (sen_r.threshold + add_r))
 625              		.loc 1 241 0
 626 011e 394A     		ldr	r2, .L76+4
 627 0120 B2F90030 		ldrsh	r3, [r2]
 628 0124 B2F91810 		ldrsh	r1, [r2, #24]
 629 0128 384A     		ldr	r2, .L76+12
 630 012a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 631 012c 0A44     		add	r2, r2, r1
 632 012e 9342     		cmp	r3, r2
 633 0130 12DD     		ble	.L61
 242:Src/control.c ****         {
 243:Src/control.c ****             wall_dif = -2.0f * kp * (sen_r.now - sen_r.reference);
 634              		.loc 1 243 0
 635 0132 344A     		ldr	r2, .L76+4
 636 0134 B2F91620 		ldrsh	r2, [r2, #22]
 637 0138 9B1A     		subs	r3, r3, r2
 638 013a 07EE903A 		vmov	s15, r3	@ int
 639 013e F8EEE77A 		vcvt.f32.s32	s15, s15
 640 0142 9FED3B7A 		vldr.32	s14, .L76+48
 641 0146 67EE877A 		vmul.f32	s15, s15, s14
 642 014a 354B     		ldr	r3, .L76+32
 643 014c C3ED007A 		vstr.32	s15, [r3]
 244:Src/control.c ****             add_r = 0;
 644              		.loc 1 244 0
 645 0150 2E4B     		ldr	r3, .L76+12
 646 0152 0022     		movs	r2, #0
 647 0154 1A70     		strb	r2, [r3]
 648 0156 3AE0     		b	.L58
 649              	.L61:
 245:Src/control.c ****         }
 246:Src/control.c ****         else if (sen_fl.now > ref_fl && sen_fr.now < ref_fr)
 650              		.loc 1 246 0
 651 0158 364B     		ldr	r3, .L76+52
 652 015a B3F90030 		ldrsh	r3, [r3]
 653 015e 782B     		cmp	r3, #120
 654 0160 15DD     		ble	.L62
 655              		.loc 1 246 0 is_stmt 0 discriminator 1
 656 0162 354A     		ldr	r2, .L76+56
 657 0164 B2F90020 		ldrsh	r2, [r2]
 658 0168 662A     		cmp	r2, #102
 659 016a 10DC     		bgt	.L62
 247:Src/control.c ****         {
 248:Src/control.c ****             wall_dif += 2.0f * kp * (sen_fl.now - ref_fl);
 660              		.loc 1 248 0 is_stmt 1
 661 016c 783B     		subs	r3, r3, #120
 662 016e 07EE903A 		vmov	s15, r3	@ int
 663 0172 F8EEE77A 		vcvt.f32.s32	s15, s15
 664 0176 9FED317A 		vldr.32	s14, .L76+60
 665 017a 67EE877A 		vmul.f32	s15, s15, s14
 666 017e 284B     		ldr	r3, .L76+32
 667 0180 93ED007A 		vldr.32	s14, [r3]
 668 0184 77EE277A 		vadd.f32	s15, s14, s15
 669 0188 C3ED007A 		vstr.32	s15, [r3]
 670 018c 1FE0     		b	.L58
 671              	.L62:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 17


 249:Src/control.c ****         }
 250:Src/control.c ****         else if (sen_fr.now > ref_fr && sen_fl.now < ref_fl)
 672              		.loc 1 250 0
 673 018e 2A4A     		ldr	r2, .L76+56
 674 0190 B2F90020 		ldrsh	r2, [r2]
 675 0194 672A     		cmp	r2, #103
 676 0196 13DD     		ble	.L63
 677              		.loc 1 250 0 is_stmt 0 discriminator 1
 678 0198 772B     		cmp	r3, #119
 679 019a 11DC     		bgt	.L63
 251:Src/control.c ****         {
 252:Src/control.c ****             wall_dif -= 2.0f * kp * (sen_fr.now - ref_fr);
 680              		.loc 1 252 0 is_stmt 1
 681 019c A2F16703 		sub	r3, r2, #103
 682 01a0 07EE903A 		vmov	s15, r3	@ int
 683 01a4 F8EEE77A 		vcvt.f32.s32	s15, s15
 684 01a8 9FED247A 		vldr.32	s14, .L76+60
 685 01ac 67EE877A 		vmul.f32	s15, s15, s14
 686 01b0 1B4B     		ldr	r3, .L76+32
 687 01b2 93ED007A 		vldr.32	s14, [r3]
 688 01b6 77EE677A 		vsub.f32	s15, s14, s15
 689 01ba C3ED007A 		vstr.32	s15, [r3]
 690 01be 06E0     		b	.L58
 691              	.L63:
 253:Src/control.c ****         }
 254:Src/control.c ****         else
 255:Src/control.c ****         {
 256:Src/control.c ****             wall_dif = 0;
 692              		.loc 1 256 0
 693 01c0 174B     		ldr	r3, .L76+32
 694 01c2 0022     		movs	r2, #0
 695 01c4 1A60     		str	r2, [r3]	@ float
 696 01c6 02E0     		b	.L58
 697              	.L54:
 257:Src/control.c ****         }
 258:Src/control.c ****     }
 259:Src/control.c ****     else
 260:Src/control.c ****     {
 261:Src/control.c ****         wall_dif = 0;
 698              		.loc 1 261 0
 699 01c8 154B     		ldr	r3, .L76+32
 700 01ca 0022     		movs	r2, #0
 701 01cc 1A60     		str	r2, [r3]	@ float
 702              	.L58:
 262:Src/control.c ****     }
 263:Src/control.c **** 
 264:Src/control.c ****     if(wall_dif > 20){
 703              		.loc 1 264 0
 704 01ce 144B     		ldr	r3, .L76+32
 705 01d0 D3ED007A 		vldr.32	s15, [r3]
 706 01d4 B3EE047A 		vmov.f32	s14, #2.0e+1
 707 01d8 F4EEC77A 		vcmpe.f32	s15, s14
 708 01dc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 709 01e0 0ADC     		bgt	.L75
 265:Src/control.c ****         wall_dif =20;
 266:Src/control.c ****     }else if(wall_dif < -20){
 710              		.loc 1 266 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 18


 711 01e2 BBEE047A 		vmov.f32	s14, #-2.0e+1
 712 01e6 F4EEC77A 		vcmpe.f32	s15, s14
 713 01ea F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 714 01ee 05D5     		bpl	.L48
 267:Src/control.c ****         wall_dif = -20;
 715              		.loc 1 267 0
 716 01f0 0B4B     		ldr	r3, .L76+32
 717 01f2 83ED007A 		vstr.32	s14, [r3]
 268:Src/control.c ****     }
 269:Src/control.c **** }
 718              		.loc 1 269 0
 719 01f6 01E0     		b	.L48
 720              	.L75:
 265:Src/control.c ****     }else if(wall_dif < -20){
 721              		.loc 1 265 0
 722 01f8 83ED007A 		vstr.32	s14, [r3]
 723              	.L48:
 724              		.loc 1 269 0
 725 01fc 10BD     		pop	{r4, pc}
 726              	.L77:
 727 01fe 00BF     		.align	2
 728              	.L76:
 729 0200 00000000 		.word	sen_l
 730 0204 00000000 		.word	sen_r
 731 0208 00000000 		.word	.LANCHOR4
 732 020c 00000000 		.word	.LANCHOR5
 733 0210 00000000 		.word	sen_front
 734 0214 00000000 		.word	angle
 735 0218 00000000 		.word	straight
 736 021c 00001644 		.word	1142292480
 737 0220 00000000 		.word	.LANCHOR6
 738 0224 00008E42 		.word	1116602368
 739 0228 00009C42 		.word	1117519872
 740 022c CDCC4C3F 		.word	1061997773
 741 0230 CDCCCCBF 		.word	-1077097267
 742 0234 00000000 		.word	sen_fl
 743 0238 00000000 		.word	sen_fr
 744 023c CDCCCC3F 		.word	1070386381
 745              		.cfi_endproc
 746              	.LFE166:
 748              		.section	.text.SideWallFiX_Fast,"ax",%progbits
 749              		.align	1
 750              		.global	SideWallFiX_Fast
 751              		.syntax unified
 752              		.thumb
 753              		.thumb_func
 754              		.fpu fpv4-sp-d16
 756              	SideWallFiX_Fast:
 757              	.LFB167:
 270:Src/control.c **** 
 271:Src/control.c **** void SideWallFiX_Fast(void)
 272:Src/control.c **** {
 758              		.loc 1 272 0
 759              		.cfi_startproc
 760              		@ args = 0, pretend = 0, frame = 0
 761              		@ frame_needed = 0, uses_anonymous_args = 0
 762 0000 10B5     		push	{r4, lr}
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 19


 763              	.LCFI4:
 764              		.cfi_def_cfa_offset 8
 765              		.cfi_offset 4, -8
 766              		.cfi_offset 14, -4
 767              	.LVL29:
 273:Src/control.c ****     float kp = 0.6; //0.50f;
 274:Src/control.c ****     int16_t diff_l = sen_l.diff;
 768              		.loc 1 274 0
 769 0002 564B     		ldr	r3, .L96
 770 0004 B3F91A30 		ldrsh	r3, [r3, #26]
 771              	.LVL30:
 275:Src/control.c ****     int16_t diff_r = sen_r.diff;
 772              		.loc 1 275 0
 773 0008 554A     		ldr	r2, .L96+4
 774 000a B2F91A20 		ldrsh	r2, [r2, #26]
 775              	.LVL31:
 276:Src/control.c **** 
 277:Src/control.c ****     if (diff_l < -5 && diff_r < -5)
 776              		.loc 1 277 0
 777 000e 13F1050F 		cmn	r3, #5
 778 0012 09DA     		bge	.L79
 779              		.loc 1 277 0 is_stmt 0 discriminator 1
 780 0014 12F1050F 		cmn	r2, #5
 781 0018 06DA     		bge	.L79
 278:Src/control.c ****     {
 279:Src/control.c ****         add_l = 20;
 782              		.loc 1 279 0 is_stmt 1
 783 001a 5249     		ldr	r1, .L96+8
 784 001c 1420     		movs	r0, #20
 785 001e 0870     		strb	r0, [r1]
 280:Src/control.c ****         add_r = 35;
 786              		.loc 1 280 0
 787 0020 5149     		ldr	r1, .L96+12
 788 0022 2320     		movs	r0, #35
 789 0024 0870     		strb	r0, [r1]
 790 0026 05E0     		b	.L80
 791              	.L79:
 281:Src/control.c ****         /*
 282:Src/control.c ****         if (walledge_diff == 0.0f)
 283:Src/control.c ****         {
 284:Src/control.c ****             walledge_diff = 0.50f * (float)walledge_cnt;
 285:Src/control.c ****         }
 286:Src/control.c ****         */
 287:Src/control.c ****     }
 288:Src/control.c ****     else if (diff_l < -5)
 792              		.loc 1 288 0
 793 0028 13F1050F 		cmn	r3, #5
 794 002c 46DA     		bge	.L81
 289:Src/control.c ****     {
 290:Src/control.c ****         add_l = 20;
 795              		.loc 1 290 0
 796 002e 4D49     		ldr	r1, .L96+8
 797 0030 1420     		movs	r0, #20
 798 0032 0870     		strb	r0, [r1]
 799              	.L80:
 291:Src/control.c ****         //walledge_cnt++;
 292:Src/control.c ****     }
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 20


 293:Src/control.c ****     else if (diff_r < -5)
 294:Src/control.c ****     {
 295:Src/control.c ****         add_r = 35;
 296:Src/control.c ****         //walledge_cnt--;
 297:Src/control.c ****     }
 298:Src/control.c ****     /*
 299:Src/control.c ****     else
 300:Src/control.c ****     {
 301:Src/control.c ****         walledge_cnt = 0;
 302:Src/control.c ****         walledge_diff = 0.0f;
 303:Src/control.c ****     }*/
 304:Src/control.c **** 
 305:Src/control.c ****     if (diff_l < -10) //-20
 800              		.loc 1 305 0
 801 0034 13F10A0F 		cmn	r3, #10
 802 0038 47DB     		blt	.L91
 306:Src/control.c ****     {
 307:Src/control.c ****         WallEdgeFix(77.0f); //73
 308:Src/control.c ****     }
 309:Src/control.c ****     else if (diff_r < -10)
 803              		.loc 1 309 0
 804 003a 12F10A0F 		cmn	r2, #10
 805 003e 49DB     		blt	.L92
 806              	.LVL32:
 807              	.L83:
 310:Src/control.c ****     {
 311:Src/control.c ****         WallEdgeFix(77.0f); //73
 312:Src/control.c ****     }
 313:Src/control.c **** 
 314:Src/control.c ****     if (sen_front.now < 120)
 808              		.loc 1 314 0
 809 0040 4A4B     		ldr	r3, .L96+16
 810 0042 B3F90030 		ldrsh	r3, [r3]
 811 0046 772B     		cmp	r3, #119
 812 0048 00F38380 		bgt	.L84
 315:Src/control.c ****     {
 316:Src/control.c ****         if (angle.dir != 0)
 813              		.loc 1 316 0
 814 004c 484B     		ldr	r3, .L96+20
 815 004e 93F91430 		ldrsb	r3, [r3, #20]
 816 0052 002B     		cmp	r3, #0
 817 0054 43D1     		bne	.L93
 317:Src/control.c ****         {
 318:Src/control.c ****             wall_dif = 0;
 319:Src/control.c ****             add_r = 0;
 320:Src/control.c ****             add_l = 0;
 321:Src/control.c ****         }
 322:Src/control.c ****         else if (sen_l.now > sen_l.threshold + add_l && sen_r.now > sen_r.threshold + add_r)
 818              		.loc 1 322 0
 819 0056 414A     		ldr	r2, .L96
 820 0058 B2F90030 		ldrsh	r3, [r2]
 821 005c B2F91810 		ldrsh	r1, [r2, #24]
 822 0060 404A     		ldr	r2, .L96+8
 823 0062 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 824 0064 0A44     		add	r2, r2, r1
 825 0066 9342     		cmp	r3, r2
 826 0068 09DD     		ble	.L87
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 21


 827              		.loc 1 322 0 is_stmt 0 discriminator 1
 828 006a 3D49     		ldr	r1, .L96+4
 829 006c B1F90000 		ldrsh	r0, [r1]
 830 0070 B1F91840 		ldrsh	r4, [r1, #24]
 831 0074 3C49     		ldr	r1, .L96+12
 832 0076 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 833 0078 2144     		add	r1, r1, r4
 834 007a 8842     		cmp	r0, r1
 835 007c 38DC     		bgt	.L94
 836              	.L87:
 323:Src/control.c ****         {
 324:Src/control.c ****             wall_dif = kp * ((sen_l.now - sen_l.reference) - (sen_r.now - sen_r.reference));
 325:Src/control.c ****             add_l = 0;
 326:Src/control.c ****             add_r = 0;
 327:Src/control.c ****         }
 328:Src/control.c ****         else if (sen_l.now > sen_l.threshold + add_l)
 837              		.loc 1 328 0 is_stmt 1
 838 007e 9342     		cmp	r3, r2
 839 0080 50DC     		bgt	.L95
 329:Src/control.c ****         {
 330:Src/control.c ****             wall_dif = 2.0f * kp * (sen_l.now - sen_l.reference);
 331:Src/control.c ****             add_l = 0;
 332:Src/control.c ****         }
 333:Src/control.c ****         else if (sen_r.now > sen_r.threshold + add_r)
 840              		.loc 1 333 0
 841 0082 374A     		ldr	r2, .L96+4
 842 0084 B2F90030 		ldrsh	r3, [r2]
 843 0088 B2F91810 		ldrsh	r1, [r2, #24]
 844 008c 364A     		ldr	r2, .L96+12
 845 008e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 846 0090 0A44     		add	r2, r2, r1
 847 0092 9342     		cmp	r3, r2
 848 0094 59DD     		ble	.L89
 334:Src/control.c ****         {
 335:Src/control.c ****             wall_dif = -2.0f * kp * (sen_r.now - sen_r.reference);
 849              		.loc 1 335 0
 850 0096 324A     		ldr	r2, .L96+4
 851 0098 B2F91620 		ldrsh	r2, [r2, #22]
 852 009c 9B1A     		subs	r3, r3, r2
 853 009e 07EE903A 		vmov	s15, r3	@ int
 854 00a2 F8EEE77A 		vcvt.f32.s32	s15, s15
 855 00a6 9FED337A 		vldr.32	s14, .L96+24
 856 00aa 67EE877A 		vmul.f32	s15, s15, s14
 857 00ae 324B     		ldr	r3, .L96+28
 858 00b0 C3ED007A 		vstr.32	s15, [r3]
 336:Src/control.c ****             add_r = 0;
 859              		.loc 1 336 0
 860 00b4 2C4B     		ldr	r3, .L96+12
 861 00b6 0022     		movs	r2, #0
 862 00b8 1A70     		strb	r2, [r3]
 863 00ba 4DE0     		b	.L78
 864              	.LVL33:
 865              	.L81:
 293:Src/control.c ****     {
 866              		.loc 1 293 0
 867 00bc 12F1050F 		cmn	r2, #5
 868 00c0 B8DA     		bge	.L80
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 22


 295:Src/control.c ****         //walledge_cnt--;
 869              		.loc 1 295 0
 870 00c2 2949     		ldr	r1, .L96+12
 871 00c4 2320     		movs	r0, #35
 872 00c6 0870     		strb	r0, [r1]
 873 00c8 B4E7     		b	.L80
 874              	.L91:
 307:Src/control.c ****     }
 875              		.loc 1 307 0
 876 00ca 9FED2C0A 		vldr.32	s0, .L96+32
 877 00ce FFF7FEFF 		bl	WallEdgeFix
 878              	.LVL34:
 879 00d2 B5E7     		b	.L83
 880              	.LVL35:
 881              	.L92:
 311:Src/control.c ****     }
 882              		.loc 1 311 0
 883 00d4 9FED290A 		vldr.32	s0, .L96+32
 884 00d8 FFF7FEFF 		bl	WallEdgeFix
 885              	.LVL36:
 886 00dc B0E7     		b	.L83
 887              	.L93:
 318:Src/control.c ****             add_r = 0;
 888              		.loc 1 318 0
 889 00de 264B     		ldr	r3, .L96+28
 890 00e0 0022     		movs	r2, #0
 891 00e2 1A60     		str	r2, [r3]	@ float
 319:Src/control.c ****             add_l = 0;
 892              		.loc 1 319 0
 893 00e4 0023     		movs	r3, #0
 894 00e6 204A     		ldr	r2, .L96+12
 895 00e8 1370     		strb	r3, [r2]
 320:Src/control.c ****         }
 896              		.loc 1 320 0
 897 00ea 1E4A     		ldr	r2, .L96+8
 898 00ec 1370     		strb	r3, [r2]
 899 00ee 33E0     		b	.L78
 900              	.L94:
 324:Src/control.c ****             add_l = 0;
 901              		.loc 1 324 0
 902 00f0 1A4A     		ldr	r2, .L96
 903 00f2 B2F91620 		ldrsh	r2, [r2, #22]
 904 00f6 9B1A     		subs	r3, r3, r2
 905 00f8 194A     		ldr	r2, .L96+4
 906 00fa B2F91620 		ldrsh	r2, [r2, #22]
 907 00fe 801A     		subs	r0, r0, r2
 908 0100 1B1A     		subs	r3, r3, r0
 909 0102 07EE903A 		vmov	s15, r3	@ int
 910 0106 F8EEE77A 		vcvt.f32.s32	s15, s15
 911 010a 9FED1D7A 		vldr.32	s14, .L96+36
 912 010e 67EE877A 		vmul.f32	s15, s15, s14
 913 0112 194B     		ldr	r3, .L96+28
 914 0114 C3ED007A 		vstr.32	s15, [r3]
 325:Src/control.c ****             add_r = 0;
 915              		.loc 1 325 0
 916 0118 0023     		movs	r3, #0
 917 011a 124A     		ldr	r2, .L96+8
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 23


 918 011c 1370     		strb	r3, [r2]
 326:Src/control.c ****         }
 919              		.loc 1 326 0
 920 011e 124A     		ldr	r2, .L96+12
 921 0120 1370     		strb	r3, [r2]
 922 0122 19E0     		b	.L78
 923              	.L95:
 330:Src/control.c ****             add_l = 0;
 924              		.loc 1 330 0
 925 0124 0D4A     		ldr	r2, .L96
 926 0126 B2F91620 		ldrsh	r2, [r2, #22]
 927 012a 9B1A     		subs	r3, r3, r2
 928 012c 07EE903A 		vmov	s15, r3	@ int
 929 0130 F8EEE77A 		vcvt.f32.s32	s15, s15
 930 0134 9FED137A 		vldr.32	s14, .L96+40
 931 0138 67EE877A 		vmul.f32	s15, s15, s14
 932 013c 0E4B     		ldr	r3, .L96+28
 933 013e C3ED007A 		vstr.32	s15, [r3]
 331:Src/control.c ****         }
 934              		.loc 1 331 0
 935 0142 084B     		ldr	r3, .L96+8
 936 0144 0022     		movs	r2, #0
 937 0146 1A70     		strb	r2, [r3]
 938 0148 06E0     		b	.L78
 939              	.L89:
 337:Src/control.c ****         }
 338:Src/control.c ****         else
 339:Src/control.c ****         {
 340:Src/control.c ****             wall_dif = 0;
 940              		.loc 1 340 0
 941 014a 0B4B     		ldr	r3, .L96+28
 942 014c 0022     		movs	r2, #0
 943 014e 1A60     		str	r2, [r3]	@ float
 944 0150 02E0     		b	.L78
 945              	.L84:
 341:Src/control.c ****         }
 342:Src/control.c ****     }
 343:Src/control.c ****     else
 344:Src/control.c ****     {
 345:Src/control.c ****         wall_dif = 0;
 946              		.loc 1 345 0
 947 0152 094B     		ldr	r3, .L96+28
 948 0154 0022     		movs	r2, #0
 949 0156 1A60     		str	r2, [r3]	@ float
 950              	.L78:
 346:Src/control.c ****     }
 347:Src/control.c ****     //wall_dif -= walledge_diff;
 348:Src/control.c **** }
 951              		.loc 1 348 0
 952 0158 10BD     		pop	{r4, pc}
 953              	.L97:
 954 015a 00BF     		.align	2
 955              	.L96:
 956 015c 00000000 		.word	sen_l
 957 0160 00000000 		.word	sen_r
 958 0164 00000000 		.word	.LANCHOR4
 959 0168 00000000 		.word	.LANCHOR5
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 24


 960 016c 00000000 		.word	sen_front
 961 0170 00000000 		.word	angle
 962 0174 9A9999BF 		.word	-1080452710
 963 0178 00000000 		.word	.LANCHOR6
 964 017c 00009A42 		.word	1117388800
 965 0180 9A99193F 		.word	1058642330
 966 0184 9A99993F 		.word	1067030938
 967              		.cfi_endproc
 968              	.LFE167:
 970              		.section	.text.SideWallFiX_Fastest,"ax",%progbits
 971              		.align	1
 972              		.global	SideWallFiX_Fastest
 973              		.syntax unified
 974              		.thumb
 975              		.thumb_func
 976              		.fpu fpv4-sp-d16
 978              	SideWallFiX_Fastest:
 979              	.LFB168:
 349:Src/control.c **** 
 350:Src/control.c **** void SideWallFiX_Fastest(void)
 351:Src/control.c **** {
 980              		.loc 1 351 0
 981              		.cfi_startproc
 982              		@ args = 0, pretend = 0, frame = 0
 983              		@ frame_needed = 0, uses_anonymous_args = 0
 984 0000 10B5     		push	{r4, lr}
 985              	.LCFI5:
 986              		.cfi_def_cfa_offset 8
 987              		.cfi_offset 4, -8
 988              		.cfi_offset 14, -4
 989              	.LVL37:
 352:Src/control.c ****     float kp = 0.50f; //0.50f;
 353:Src/control.c ****     int16_t diff_l = sen_l.diff;
 990              		.loc 1 353 0
 991 0002 524B     		ldr	r3, .L116
 992 0004 B3F91A30 		ldrsh	r3, [r3, #26]
 993              	.LVL38:
 354:Src/control.c ****     int16_t diff_r = sen_r.diff;
 994              		.loc 1 354 0
 995 0008 514A     		ldr	r2, .L116+4
 996 000a B2F91A20 		ldrsh	r2, [r2, #26]
 997              	.LVL39:
 355:Src/control.c **** 
 356:Src/control.c ****     if (diff_l < -5 && diff_r < -5)
 998              		.loc 1 356 0
 999 000e 13F1050F 		cmn	r3, #5
 1000 0012 09DA     		bge	.L99
 1001              		.loc 1 356 0 is_stmt 0 discriminator 1
 1002 0014 12F1050F 		cmn	r2, #5
 1003 0018 06DA     		bge	.L99
 357:Src/control.c ****     {
 358:Src/control.c ****         add_l = 20;
 1004              		.loc 1 358 0 is_stmt 1
 1005 001a 4E49     		ldr	r1, .L116+8
 1006 001c 1420     		movs	r0, #20
 1007 001e 0870     		strb	r0, [r1]
 359:Src/control.c ****         add_r = 35;
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 25


 1008              		.loc 1 359 0
 1009 0020 4D49     		ldr	r1, .L116+12
 1010 0022 2320     		movs	r0, #35
 1011 0024 0870     		strb	r0, [r1]
 1012 0026 05E0     		b	.L100
 1013              	.L99:
 360:Src/control.c ****         /*
 361:Src/control.c ****         if (walledge_diff == 0.0f)
 362:Src/control.c ****         {
 363:Src/control.c ****             walledge_diff = 0.50f * (float)walledge_cnt;
 364:Src/control.c ****         }
 365:Src/control.c ****         */
 366:Src/control.c ****     }
 367:Src/control.c ****     else if (diff_l < -5)
 1014              		.loc 1 367 0
 1015 0028 13F1050F 		cmn	r3, #5
 1016 002c 43DA     		bge	.L101
 368:Src/control.c ****     {
 369:Src/control.c ****         add_l = 20;
 1017              		.loc 1 369 0
 1018 002e 4949     		ldr	r1, .L116+8
 1019 0030 1420     		movs	r0, #20
 1020 0032 0870     		strb	r0, [r1]
 1021              	.L100:
 370:Src/control.c ****         //walledge_cnt++;
 371:Src/control.c ****     }
 372:Src/control.c ****     else if (diff_r < -5)
 373:Src/control.c ****     {
 374:Src/control.c ****         add_r = 35;
 375:Src/control.c ****         //walledge_cnt--;
 376:Src/control.c ****     }
 377:Src/control.c ****     /*
 378:Src/control.c ****     else
 379:Src/control.c ****     {
 380:Src/control.c ****         walledge_cnt = 0;
 381:Src/control.c ****         walledge_diff = 0.0f;
 382:Src/control.c ****     }*/
 383:Src/control.c **** 
 384:Src/control.c ****     if (diff_l < -11) //-20
 1022              		.loc 1 384 0
 1023 0034 13F10B0F 		cmn	r3, #11
 1024 0038 44DB     		blt	.L111
 385:Src/control.c ****     {
 386:Src/control.c ****         WallEdgeFix(79.0f); //73
 387:Src/control.c ****     }
 388:Src/control.c ****     else if (diff_r < -19)
 1025              		.loc 1 388 0
 1026 003a 12F1130F 		cmn	r2, #19
 1027 003e 46DB     		blt	.L112
 1028              	.LVL40:
 1029              	.L103:
 389:Src/control.c ****     {
 390:Src/control.c ****         WallEdgeFix(73.0f); //73
 391:Src/control.c ****     }
 392:Src/control.c **** 
 393:Src/control.c ****     if (sen_front.now < 120)
 1030              		.loc 1 393 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 26


 1031 0040 464B     		ldr	r3, .L116+16
 1032 0042 B3F90030 		ldrsh	r3, [r3]
 1033 0046 772B     		cmp	r3, #119
 1034 0048 7CDC     		bgt	.L104
 394:Src/control.c ****     {
 395:Src/control.c ****         if (angle.dir != 0)
 1035              		.loc 1 395 0
 1036 004a 454B     		ldr	r3, .L116+20
 1037 004c 93F91430 		ldrsb	r3, [r3, #20]
 1038 0050 002B     		cmp	r3, #0
 1039 0052 41D1     		bne	.L113
 396:Src/control.c ****         {
 397:Src/control.c ****             wall_dif = 0;
 398:Src/control.c ****             add_r = 0;
 399:Src/control.c ****             add_l = 0;
 400:Src/control.c ****         }
 401:Src/control.c ****         else if (sen_l.now > sen_l.threshold + add_l && sen_r.now > sen_r.threshold + add_r)
 1040              		.loc 1 401 0
 1041 0054 3D4B     		ldr	r3, .L116
 1042 0056 B3F90020 		ldrsh	r2, [r3]
 1043 005a B3F91810 		ldrsh	r1, [r3, #24]
 1044 005e 3D4B     		ldr	r3, .L116+8
 1045 0060 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1046 0062 0B44     		add	r3, r3, r1
 1047 0064 9A42     		cmp	r2, r3
 1048 0066 09DD     		ble	.L107
 1049              		.loc 1 401 0 is_stmt 0 discriminator 1
 1050 0068 3949     		ldr	r1, .L116+4
 1051 006a B1F90000 		ldrsh	r0, [r1]
 1052 006e B1F91840 		ldrsh	r4, [r1, #24]
 1053 0072 3949     		ldr	r1, .L116+12
 1054 0074 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 1055 0076 2144     		add	r1, r1, r4
 1056 0078 8842     		cmp	r0, r1
 1057 007a 36DC     		bgt	.L114
 1058              	.L107:
 402:Src/control.c ****         {
 403:Src/control.c ****             wall_dif = kp * ((sen_l.now - sen_l.reference) - (sen_r.now - sen_r.reference));
 404:Src/control.c ****             add_l = 0;
 405:Src/control.c ****             add_r = 0;
 406:Src/control.c ****         }
 407:Src/control.c ****         else if (sen_l.now > sen_l.threshold + add_l)
 1059              		.loc 1 407 0 is_stmt 1
 1060 007c 9A42     		cmp	r2, r3
 1061 007e 4EDC     		bgt	.L115
 408:Src/control.c ****         {
 409:Src/control.c ****             wall_dif = 2.0f * kp * (sen_l.now - sen_l.reference);
 410:Src/control.c ****             add_l = 0;
 411:Src/control.c ****         }
 412:Src/control.c ****         else if (sen_r.now > sen_r.threshold + add_r)
 1062              		.loc 1 412 0
 1063 0080 334A     		ldr	r2, .L116+4
 1064 0082 B2F90030 		ldrsh	r3, [r2]
 1065 0086 B2F91810 		ldrsh	r1, [r2, #24]
 1066 008a 334A     		ldr	r2, .L116+12
 1067 008c 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1068 008e 0A44     		add	r2, r2, r1
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 27


 1069 0090 9342     		cmp	r3, r2
 1070 0092 53DD     		ble	.L109
 413:Src/control.c ****         {
 414:Src/control.c ****             wall_dif = -2.0f * kp * (sen_r.now - sen_r.reference);
 1071              		.loc 1 414 0
 1072 0094 2E4A     		ldr	r2, .L116+4
 1073 0096 B2F91620 		ldrsh	r2, [r2, #22]
 1074 009a 9B1A     		subs	r3, r3, r2
 1075 009c 07EE903A 		vmov	s15, r3	@ int
 1076 00a0 F8EEE77A 		vcvt.f32.s32	s15, s15
 1077 00a4 F1EE677A 		vneg.f32	s15, s15
 1078 00a8 2E4B     		ldr	r3, .L116+24
 1079 00aa C3ED007A 		vstr.32	s15, [r3]
 415:Src/control.c ****             add_r = 0;
 1080              		.loc 1 415 0
 1081 00ae 2A4B     		ldr	r3, .L116+12
 1082 00b0 0022     		movs	r2, #0
 1083 00b2 1A70     		strb	r2, [r3]
 1084 00b4 49E0     		b	.L98
 1085              	.LVL41:
 1086              	.L101:
 372:Src/control.c ****     {
 1087              		.loc 1 372 0
 1088 00b6 12F1050F 		cmn	r2, #5
 1089 00ba BBDA     		bge	.L100
 374:Src/control.c ****         //walledge_cnt--;
 1090              		.loc 1 374 0
 1091 00bc 2649     		ldr	r1, .L116+12
 1092 00be 2320     		movs	r0, #35
 1093 00c0 0870     		strb	r0, [r1]
 1094 00c2 B7E7     		b	.L100
 1095              	.L111:
 386:Src/control.c ****     }
 1096              		.loc 1 386 0
 1097 00c4 9FED280A 		vldr.32	s0, .L116+28
 1098 00c8 FFF7FEFF 		bl	WallEdgeFix
 1099              	.LVL42:
 1100 00cc B8E7     		b	.L103
 1101              	.LVL43:
 1102              	.L112:
 390:Src/control.c ****     }
 1103              		.loc 1 390 0
 1104 00ce 9FED270A 		vldr.32	s0, .L116+32
 1105 00d2 FFF7FEFF 		bl	WallEdgeFix
 1106              	.LVL44:
 1107 00d6 B3E7     		b	.L103
 1108              	.L113:
 397:Src/control.c ****             add_r = 0;
 1109              		.loc 1 397 0
 1110 00d8 224B     		ldr	r3, .L116+24
 1111 00da 0022     		movs	r2, #0
 1112 00dc 1A60     		str	r2, [r3]	@ float
 398:Src/control.c ****             add_l = 0;
 1113              		.loc 1 398 0
 1114 00de 0023     		movs	r3, #0
 1115 00e0 1D4A     		ldr	r2, .L116+12
 1116 00e2 1370     		strb	r3, [r2]
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 28


 399:Src/control.c ****         }
 1117              		.loc 1 399 0
 1118 00e4 1B4A     		ldr	r2, .L116+8
 1119 00e6 1370     		strb	r3, [r2]
 1120 00e8 2FE0     		b	.L98
 1121              	.L114:
 403:Src/control.c ****             add_l = 0;
 1122              		.loc 1 403 0
 1123 00ea 184B     		ldr	r3, .L116
 1124 00ec B3F91630 		ldrsh	r3, [r3, #22]
 1125 00f0 D21A     		subs	r2, r2, r3
 1126 00f2 174B     		ldr	r3, .L116+4
 1127 00f4 B3F91630 		ldrsh	r3, [r3, #22]
 1128 00f8 C01A     		subs	r0, r0, r3
 1129 00fa 121A     		subs	r2, r2, r0
 1130 00fc 07EE902A 		vmov	s15, r2	@ int
 1131 0100 F8EEE77A 		vcvt.f32.s32	s15, s15
 1132 0104 B6EE007A 		vmov.f32	s14, #5.0e-1
 1133 0108 67EE877A 		vmul.f32	s15, s15, s14
 1134 010c 154B     		ldr	r3, .L116+24
 1135 010e C3ED007A 		vstr.32	s15, [r3]
 404:Src/control.c ****             add_r = 0;
 1136              		.loc 1 404 0
 1137 0112 0023     		movs	r3, #0
 1138 0114 0F4A     		ldr	r2, .L116+8
 1139 0116 1370     		strb	r3, [r2]
 405:Src/control.c ****         }
 1140              		.loc 1 405 0
 1141 0118 0F4A     		ldr	r2, .L116+12
 1142 011a 1370     		strb	r3, [r2]
 1143 011c 15E0     		b	.L98
 1144              	.L115:
 409:Src/control.c ****             add_l = 0;
 1145              		.loc 1 409 0
 1146 011e 0B4B     		ldr	r3, .L116
 1147 0120 B3F91630 		ldrsh	r3, [r3, #22]
 1148 0124 D21A     		subs	r2, r2, r3
 1149 0126 07EE902A 		vmov	s15, r2	@ int
 1150 012a F8EEE77A 		vcvt.f32.s32	s15, s15
 1151 012e 0D4B     		ldr	r3, .L116+24
 1152 0130 C3ED007A 		vstr.32	s15, [r3]
 410:Src/control.c ****         }
 1153              		.loc 1 410 0
 1154 0134 074B     		ldr	r3, .L116+8
 1155 0136 0022     		movs	r2, #0
 1156 0138 1A70     		strb	r2, [r3]
 1157 013a 06E0     		b	.L98
 1158              	.L109:
 416:Src/control.c ****         }
 417:Src/control.c ****         else
 418:Src/control.c ****         {
 419:Src/control.c ****             wall_dif = 0;
 1159              		.loc 1 419 0
 1160 013c 094B     		ldr	r3, .L116+24
 1161 013e 0022     		movs	r2, #0
 1162 0140 1A60     		str	r2, [r3]	@ float
 1163 0142 02E0     		b	.L98
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 29


 1164              	.L104:
 420:Src/control.c ****         }
 421:Src/control.c ****     }
 422:Src/control.c ****     else
 423:Src/control.c ****     {
 424:Src/control.c ****         wall_dif = 0;
 1165              		.loc 1 424 0
 1166 0144 074B     		ldr	r3, .L116+24
 1167 0146 0022     		movs	r2, #0
 1168 0148 1A60     		str	r2, [r3]	@ float
 1169              	.L98:
 425:Src/control.c ****     }
 426:Src/control.c ****     //wall_dif -= walledge_diff;
 427:Src/control.c **** }
 1170              		.loc 1 427 0
 1171 014a 10BD     		pop	{r4, pc}
 1172              	.L117:
 1173              		.align	2
 1174              	.L116:
 1175 014c 00000000 		.word	sen_l
 1176 0150 00000000 		.word	sen_r
 1177 0154 00000000 		.word	.LANCHOR4
 1178 0158 00000000 		.word	.LANCHOR5
 1179 015c 00000000 		.word	sen_front
 1180 0160 00000000 		.word	angle
 1181 0164 00000000 		.word	.LANCHOR6
 1182 0168 00009E42 		.word	1117650944
 1183 016c 00009242 		.word	1116864512
 1184              		.cfi_endproc
 1185              	.LFE168:
 1187              		.global	__aeabi_f2d
 1188              		.global	__aeabi_dmul
 1189              		.global	__aeabi_d2f
 1190              		.section	.text.DiagonalSideWall,"ax",%progbits
 1191              		.align	1
 1192              		.global	DiagonalSideWall
 1193              		.syntax unified
 1194              		.thumb
 1195              		.thumb_func
 1196              		.fpu fpv4-sp-d16
 1198              	DiagonalSideWall:
 1199              	.LFB169:
 428:Src/control.c **** 
 429:Src/control.c **** void DiagonalSideWall(void)
 430:Src/control.c **** {
 1200              		.loc 1 430 0
 1201              		.cfi_startproc
 1202              		@ args = 0, pretend = 0, frame = 0
 1203              		@ frame_needed = 0, uses_anonymous_args = 0
 1204 0000 08B5     		push	{r3, lr}
 1205              	.LCFI6:
 1206              		.cfi_def_cfa_offset 8
 1207              		.cfi_offset 3, -8
 1208              		.cfi_offset 14, -4
 1209              	.LVL45:
 431:Src/control.c ****     //int16_t ref_l = 172;  //142
 432:Src/control.c ****     //int16_t ref_r = 240;  //210
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 30


 433:Src/control.c ****     int16_t ref_fl = 112; //107
 434:Src/control.c ****     int16_t ref_fr = 92;  //87
 435:Src/control.c **** 
 436:Src/control.c ****     if (angle.dir == 0)
 1210              		.loc 1 436 0
 1211 0002 1D4B     		ldr	r3, .L122+16
 1212 0004 93F91430 		ldrsb	r3, [r3, #20]
 1213 0008 6BBB     		cbnz	r3, .L118
 437:Src/control.c ****     {
 438:Src/control.c ****         if (sen_fl.now > ref_fl)
 1214              		.loc 1 438 0
 1215 000a 1C4B     		ldr	r3, .L122+20
 1216 000c B3F90000 		ldrsh	r0, [r3]
 1217 0010 7028     		cmp	r0, #112
 1218 0012 11DD     		ble	.L120
 439:Src/control.c ****         {
 440:Src/control.c ****             wall_dif = 0.6 * (float)(sen_fl.now - ref_fl);
 1219              		.loc 1 440 0
 1220 0014 7038     		subs	r0, r0, #112
 1221 0016 07EE900A 		vmov	s15, r0	@ int
 1222 001a F8EEE77A 		vcvt.f32.s32	s15, s15
 1223 001e 17EE900A 		vmov	r0, s15
 1224 0022 FFF7FEFF 		bl	__aeabi_f2d
 1225              	.LVL46:
 1226 0026 10A3     		adr	r3, .L122
 1227 0028 D3E90023 		ldrd	r2, [r3]
 1228 002c FFF7FEFF 		bl	__aeabi_dmul
 1229              	.LVL47:
 1230 0030 FFF7FEFF 		bl	__aeabi_d2f
 1231              	.LVL48:
 1232 0034 124B     		ldr	r3, .L122+24
 1233 0036 1860     		str	r0, [r3]	@ float
 1234              	.L120:
 441:Src/control.c ****         }
 442:Src/control.c ****         if (sen_fr.now > ref_fr)
 1235              		.loc 1 442 0
 1236 0038 124B     		ldr	r3, .L122+28
 1237 003a B3F90000 		ldrsh	r0, [r3]
 1238 003e 5C28     		cmp	r0, #92
 1239 0040 11DD     		ble	.L118
 443:Src/control.c ****         {
 444:Src/control.c ****             wall_dif = -0.6 * (float)(sen_fr.now - ref_fr);
 1240              		.loc 1 444 0
 1241 0042 5C38     		subs	r0, r0, #92
 1242 0044 07EE900A 		vmov	s15, r0	@ int
 1243 0048 F8EEE77A 		vcvt.f32.s32	s15, s15
 1244 004c 17EE900A 		vmov	r0, s15
 1245 0050 FFF7FEFF 		bl	__aeabi_f2d
 1246              	.LVL49:
 1247 0054 06A3     		adr	r3, .L122+8
 1248 0056 D3E90023 		ldrd	r2, [r3]
 1249 005a FFF7FEFF 		bl	__aeabi_dmul
 1250              	.LVL50:
 1251 005e FFF7FEFF 		bl	__aeabi_d2f
 1252              	.LVL51:
 1253 0062 074B     		ldr	r3, .L122+24
 1254 0064 1860     		str	r0, [r3]	@ float
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 31


 1255              	.L118:
 445:Src/control.c ****         }
 446:Src/control.c ****         /*
 447:Src/control.c ****         else if (sen_l.now > ref_l)
 448:Src/control.c ****         {
 449:Src/control.c ****             wall_dif = 0.5 * (float)(sen_l.now - ref_l);
 450:Src/control.c ****         }
 451:Src/control.c ****         else if (sen_r.now > ref_r)
 452:Src/control.c ****         {
 453:Src/control.c ****             wall_dif = -0.5 * (float)(sen_r.now - ref_r);
 454:Src/control.c ****         }*/
 455:Src/control.c ****     }
 456:Src/control.c **** }
 1256              		.loc 1 456 0
 1257 0066 08BD     		pop	{r3, pc}
 1258              	.L123:
 1259              		.align	3
 1260              	.L122:
 1261 0068 33333333 		.word	858993459
 1262 006c 3333E33F 		.word	1071854387
 1263 0070 33333333 		.word	858993459
 1264 0074 3333E3BF 		.word	-1075629261
 1265 0078 00000000 		.word	angle
 1266 007c 00000000 		.word	sen_fl
 1267 0080 00000000 		.word	.LANCHOR6
 1268 0084 00000000 		.word	sen_fr
 1269              		.cfi_endproc
 1270              	.LFE169:
 1272              		.section	.text.Control_FrontWall,"ax",%progbits
 1273              		.align	1
 1274              		.global	Control_FrontWall
 1275              		.syntax unified
 1276              		.thumb
 1277              		.thumb_func
 1278              		.fpu fpv4-sp-d16
 1280              	Control_FrontWall:
 1281              	.LFB170:
 457:Src/control.c **** 
 458:Src/control.c **** void Control_FrontWall(void)
 459:Src/control.c **** {
 1282              		.loc 1 459 0
 1283              		.cfi_startproc
 1284              		@ args = 0, pretend = 0, frame = 0
 1285              		@ frame_needed = 0, uses_anonymous_args = 0
 1286              		@ link register save eliminated.
 460:Src/control.c ****     if (front_wall_flag == TRUE)
 1287              		.loc 1 460 0
 1288 0000 0F4B     		ldr	r3, .L127
 1289 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1290 0004 DBB2     		uxtb	r3, r3
 1291 0006 012B     		cmp	r3, #1
 1292 0008 00D0     		beq	.L126
 1293              	.L124:
 461:Src/control.c ****     {
 462:Src/control.c ****         int16_t diff = sen_front.reference - sen_front.now;
 463:Src/control.c ****         front_wall_diff = 3 * diff;
 464:Src/control.c ****         if (diff < 2 && diff > -2)
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 32


 465:Src/control.c ****         {
 466:Src/control.c ****             front_wall_diff = 0;
 467:Src/control.c ****             front_wall_flag = FALSE;
 468:Src/control.c ****         }
 469:Src/control.c ****     }
 470:Src/control.c **** }
 1294              		.loc 1 470 0
 1295 000a 7047     		bx	lr
 1296              	.L126:
 1297              	.LBB2:
 462:Src/control.c ****         front_wall_diff = 3 * diff;
 1298              		.loc 1 462 0
 1299 000c 0D4A     		ldr	r2, .L127+4
 1300 000e D38A     		ldrh	r3, [r2, #22]
 1301 0010 1288     		ldrh	r2, [r2]
 1302 0012 9B1A     		subs	r3, r3, r2
 1303 0014 9BB2     		uxth	r3, r3
 1304 0016 1AB2     		sxth	r2, r3
 1305              	.LVL52:
 463:Src/control.c ****         if (diff < 2 && diff > -2)
 1306              		.loc 1 463 0
 1307 0018 02EB4202 		add	r2, r2, r2, lsl #1
 1308              	.LVL53:
 1309 001c 07EE902A 		vmov	s15, r2	@ int
 1310 0020 F8EEE77A 		vcvt.f32.s32	s15, s15
 1311 0024 084A     		ldr	r2, .L127+8
 1312 0026 C2ED007A 		vstr.32	s15, [r2]
 464:Src/control.c ****         {
 1313              		.loc 1 464 0
 1314 002a 0133     		adds	r3, r3, #1
 1315              	.LVL54:
 1316 002c 9BB2     		uxth	r3, r3
 1317              	.LVL55:
 1318 002e 022B     		cmp	r3, #2
 1319 0030 EBD8     		bhi	.L124
 466:Src/control.c ****             front_wall_flag = FALSE;
 1320              		.loc 1 466 0
 1321 0032 1346     		mov	r3, r2
 1322 0034 0022     		movs	r2, #0
 1323 0036 1A60     		str	r2, [r3]	@ float
 467:Src/control.c ****         }
 1324              		.loc 1 467 0
 1325 0038 014B     		ldr	r3, .L127
 1326 003a 0022     		movs	r2, #0
 1327 003c 1A70     		strb	r2, [r3]
 1328              	.LBE2:
 1329              		.loc 1 470 0
 1330 003e E4E7     		b	.L124
 1331              	.L128:
 1332              		.align	2
 1333              	.L127:
 1334 0040 00000000 		.word	front_wall_flag
 1335 0044 00000000 		.word	sen_front
 1336 0048 00000000 		.word	.LANCHOR7
 1337              		.cfi_endproc
 1338              	.LFE170:
 1340              		.section	.text.UpdateAngTarget,"ax",%progbits
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 33


 1341              		.align	1
 1342              		.global	UpdateAngTarget
 1343              		.syntax unified
 1344              		.thumb
 1345              		.thumb_func
 1346              		.fpu fpv4-sp-d16
 1348              	UpdateAngTarget:
 1349              	.LFB171:
 471:Src/control.c **** 
 472:Src/control.c **** void UpdateAngTarget(void)
 473:Src/control.c **** {
 1350              		.loc 1 473 0
 1351              		.cfi_startproc
 1352              		@ args = 0, pretend = 0, frame = 0
 1353              		@ frame_needed = 0, uses_anonymous_args = 0
 1354 0000 08B5     		push	{r3, lr}
 1355              	.LCFI7:
 1356              		.cfi_def_cfa_offset 8
 1357              		.cfi_offset 3, -8
 1358              		.cfi_offset 14, -4
 474:Src/control.c ****     if (angle.dir == 0)
 1359              		.loc 1 474 0
 1360 0002 294B     		ldr	r3, .L150
 1361 0004 93F91430 		ldrsb	r3, [r3, #20]
 1362 0008 8BB3     		cbz	r3, .L146
 475:Src/control.c ****     {
 476:Src/control.c ****         angle.v_now = 0.0f;
 477:Src/control.c ****     }
 478:Src/control.c ****     else
 479:Src/control.c ****     {
 480:Src/control.c ****         if (ang_idial < angle.up_term)
 1363              		.loc 1 480 0
 1364 000a 274B     		ldr	r3, .L150
 1365 000c 93ED007A 		vldr.32	s14, [r3]
 1366 0010 264B     		ldr	r3, .L150+4
 1367 0012 D3ED007A 		vldr.32	s15, [r3]
 1368 0016 B4EEE77A 		vcmpe.f32	s14, s15
 1369 001a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1370 001e 2ADC     		bgt	.L147
 481:Src/control.c ****         {
 482:Src/control.c ****             UpdateTargets(&ang_idial, &angle.v_now, angle.accel);
 483:Src/control.c ****         }
 484:Src/control.c ****         else if (ang_idial < angle.const_term)
 1371              		.loc 1 484 0
 1372 0020 214B     		ldr	r3, .L150
 1373 0022 93ED017A 		vldr.32	s14, [r3, #4]
 1374 0026 214B     		ldr	r3, .L150+4
 1375 0028 D3ED007A 		vldr.32	s15, [r3]
 1376 002c B4EEE77A 		vcmpe.f32	s14, s15
 1377 0030 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1378 0034 27DC     		bgt	.L148
 485:Src/control.c ****         {
 486:Src/control.c ****             UpdateTargets(&ang_idial, &angle.v_now, 0);
 487:Src/control.c ****         }
 488:Src/control.c ****         else if (ang_idial < angle.down_term && angle.v_now > 0.0f)
 1379              		.loc 1 488 0
 1380 0036 1C4B     		ldr	r3, .L150
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 34


 1381 0038 93ED027A 		vldr.32	s14, [r3, #8]
 1382 003c 1B4B     		ldr	r3, .L150+4
 1383 003e D3ED007A 		vldr.32	s15, [r3]
 1384 0042 B4EEE77A 		vcmpe.f32	s14, s15
 1385 0046 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1386 004a 07DD     		ble	.L136
 1387              		.loc 1 488 0 is_stmt 0 discriminator 1
 1388 004c 164B     		ldr	r3, .L150
 1389 004e D3ED037A 		vldr.32	s15, [r3, #12]
 1390 0052 F5EEC07A 		vcmpe.f32	s15, #0
 1391 0056 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1392 005a 1BDC     		bgt	.L149
 1393              	.L136:
 489:Src/control.c ****         {
 490:Src/control.c ****             UpdateTargets(&ang_idial, &angle.v_now, -(angle.accel));
 491:Src/control.c ****         }
 492:Src/control.c ****         else
 493:Src/control.c ****         {
 494:Src/control.c ****             ang_idial = 0.0f;
 1394              		.loc 1 494 0 is_stmt 1
 1395 005c 0023     		movs	r3, #0
 1396 005e 134A     		ldr	r2, .L150+4
 1397 0060 1360     		str	r3, [r2]	@ float
 495:Src/control.c ****             angle.v_now = 0;
 1398              		.loc 1 495 0
 1399 0062 114A     		ldr	r2, .L150
 1400 0064 D360     		str	r3, [r2, #12]	@ float
 496:Src/control.c ****             motion_end_flag = TRUE;
 1401              		.loc 1 496 0
 1402 0066 124B     		ldr	r3, .L150+8
 1403 0068 0122     		movs	r2, #1
 1404 006a 1A70     		strb	r2, [r3]
 497:Src/control.c ****         }
 498:Src/control.c ****     }
 499:Src/control.c **** }
 1405              		.loc 1 499 0
 1406 006c 02E0     		b	.L129
 1407              	.L146:
 476:Src/control.c ****     }
 1408              		.loc 1 476 0
 1409 006e 0E4B     		ldr	r3, .L150
 1410 0070 0022     		movs	r2, #0
 1411 0072 DA60     		str	r2, [r3, #12]	@ float
 1412              	.L129:
 1413              		.loc 1 499 0
 1414 0074 08BD     		pop	{r3, pc}
 1415              	.L147:
 482:Src/control.c ****         }
 1416              		.loc 1 482 0
 1417 0076 0C49     		ldr	r1, .L150
 1418 0078 91ED040A 		vldr.32	s0, [r1, #16]
 1419 007c 0C31     		adds	r1, r1, #12
 1420 007e 1846     		mov	r0, r3
 1421 0080 FFF7FEFF 		bl	UpdateTargets
 1422              	.LVL56:
 1423 0084 F6E7     		b	.L129
 1424              	.L148:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 35


 486:Src/control.c ****         }
 1425              		.loc 1 486 0
 1426 0086 9FED0B0A 		vldr.32	s0, .L150+12
 1427 008a 0B49     		ldr	r1, .L150+16
 1428 008c 1846     		mov	r0, r3
 1429 008e FFF7FEFF 		bl	UpdateTargets
 1430              	.LVL57:
 1431 0092 EFE7     		b	.L129
 1432              	.L149:
 490:Src/control.c ****         }
 1433              		.loc 1 490 0
 1434 0094 1946     		mov	r1, r3
 1435 0096 93ED040A 		vldr.32	s0, [r3, #16]
 1436 009a B1EE400A 		vneg.f32	s0, s0
 1437 009e 0C31     		adds	r1, r1, #12
 1438 00a0 0248     		ldr	r0, .L150+4
 1439 00a2 FFF7FEFF 		bl	UpdateTargets
 1440              	.LVL58:
 1441 00a6 E5E7     		b	.L129
 1442              	.L151:
 1443              		.align	2
 1444              	.L150:
 1445 00a8 00000000 		.word	angle
 1446 00ac 00000000 		.word	.LANCHOR1
 1447 00b0 00000000 		.word	motion_end_flag
 1448 00b4 00000000 		.word	0
 1449 00b8 0C000000 		.word	angle+12
 1450              		.cfi_endproc
 1451              	.LFE171:
 1453              		.section	.text.UpdateLoger,"ax",%progbits
 1454              		.align	1
 1455              		.global	UpdateLoger
 1456              		.syntax unified
 1457              		.thumb
 1458              		.thumb_func
 1459              		.fpu fpv4-sp-d16
 1461              	UpdateLoger:
 1462              	.LFB172:
 500:Src/control.c **** 
 501:Src/control.c **** void UpdateLoger(void)
 502:Src/control.c **** {
 1463              		.loc 1 502 0
 1464              		.cfi_startproc
 1465              		@ args = 0, pretend = 0, frame = 0
 1466              		@ frame_needed = 0, uses_anonymous_args = 0
 1467              		@ link register save eliminated.
 1468 0000 10B4     		push	{r4}
 1469              	.LCFI8:
 1470              		.cfi_def_cfa_offset 4
 1471              		.cfi_offset 4, -4
 503:Src/control.c ****     /*
 504:Src/control.c ****     loger.target_velo[loger.cnt] = (int16_t)straight.v_now;
 505:Src/control.c ****     loger.target_velo_ang[loger.cnt] = (int16_t)angle.v_now;
 506:Src/control.c ****     loger.velo[loger.cnt] = (int16_t)enc.velocity;
 507:Src/control.c ****     loger.velo_ang[loger.cnt] = (int16_t)gyro_z.velocity;
 508:Src/control.c ****     */
 509:Src/control.c ****     //loger.velo[loger.cnt] = (int16_t)accel.y;
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 36


 510:Src/control.c ****     /*
 511:Src/control.c ****     loger.target_velo[loger.cnt] = sen_l.now;
 512:Src/control.c ****     loger.target_velo_ang[loger.cnt] = sen_r.now;
 513:Src/control.c ****     loger.velo[loger.cnt] = sen_l.diff;
 514:Src/control.c ****     loger.velo_ang[loger.cnt] = sen_r.diff;
 515:Src/control.c ****     */
 516:Src/control.c **** 
 517:Src/control.c ****     //wall cutoff
 518:Src/control.c ****     loger.target_velo_ang[loger.cnt] = (int16_t)enc.velocity;
 1472              		.loc 1 518 0
 1473 0002 174B     		ldr	r3, .L155
 1474 0004 D3ED017A 		vldr.32	s15, [r3, #4]
 1475 0008 164A     		ldr	r2, .L155+4
 1476 000a 1388     		ldrh	r3, [r2]
 1477 000c FDEEE77A 		vcvt.s32.f32	s15, s15
 1478 0010 41F28830 		movw	r0, #5000
 1479 0014 1918     		adds	r1, r3, r0
 1480 0016 02EB4101 		add	r1, r2, r1, lsl #1
 1481 001a 17EE904A 		vmov	r4, s15	@ int
 1482 001e 4C80     		strh	r4, [r1, #2]	@ movhi
 519:Src/control.c ****     loger.velo[loger.cnt] = sen_l.diff;
 1483              		.loc 1 519 0
 1484 0020 1149     		ldr	r1, .L155+8
 1485 0022 B1F91A40 		ldrsh	r4, [r1, #26]
 1486 0026 03F51C51 		add	r1, r3, #9984
 1487 002a 1031     		adds	r1, r1, #16
 1488 002c 02EB4101 		add	r1, r2, r1, lsl #1
 1489 0030 4C80     		strh	r4, [r1, #2]	@ movhi
 520:Src/control.c ****     loger.velo_ang[loger.cnt] = sen_r.diff;
 1490              		.loc 1 520 0
 1491 0032 0E49     		ldr	r1, .L155+12
 1492 0034 B1F91A40 		ldrsh	r4, [r1, #26]
 1493 0038 03F56A51 		add	r1, r3, #14976
 1494 003c 1831     		adds	r1, r1, #24
 1495 003e 02EB4101 		add	r1, r2, r1, lsl #1
 1496 0042 4C80     		strh	r4, [r1, #2]	@ movhi
 521:Src/control.c **** 
 522:Src/control.c ****     loger.cnt++;
 1497              		.loc 1 522 0
 1498 0044 0133     		adds	r3, r3, #1
 1499 0046 9BB2     		uxth	r3, r3
 1500 0048 1380     		strh	r3, [r2]	@ movhi
 523:Src/control.c ****     if (loger.cnt > 5000)
 1501              		.loc 1 523 0
 1502 004a 8342     		cmp	r3, r0
 1503 004c 05D9     		bls	.L152
 524:Src/control.c ****     {
 525:Src/control.c ****         motion_end_flag = TRUE;
 1504              		.loc 1 525 0
 1505 004e 084B     		ldr	r3, .L155+16
 1506 0050 0122     		movs	r2, #1
 1507 0052 1A70     		strb	r2, [r3]
 526:Src/control.c ****         motor_flag = FALSE;
 1508              		.loc 1 526 0
 1509 0054 074B     		ldr	r3, .L155+20
 1510 0056 0022     		movs	r2, #0
 1511 0058 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 37


 1512              	.L152:
 527:Src/control.c ****     }
 528:Src/control.c **** }
 1513              		.loc 1 528 0
 1514 005a 5DF8044B 		ldr	r4, [sp], #4
 1515              	.LCFI9:
 1516              		.cfi_restore 4
 1517              		.cfi_def_cfa_offset 0
 1518 005e 7047     		bx	lr
 1519              	.L156:
 1520              		.align	2
 1521              	.L155:
 1522 0060 00000000 		.word	enc
 1523 0064 00000000 		.word	loger
 1524 0068 00000000 		.word	sen_l
 1525 006c 00000000 		.word	sen_r
 1526 0070 00000000 		.word	motion_end_flag
 1527 0074 00000000 		.word	motor_flag
 1528              		.cfi_endproc
 1529              	.LFE172:
 1531              		.global	__aeabi_dsub
 1532              		.global	__aeabi_dadd
 1533              		.global	__aeabi_ddiv
 1534              		.section	.text.UpdateSlipAngle,"ax",%progbits
 1535              		.align	1
 1536              		.global	UpdateSlipAngle
 1537              		.syntax unified
 1538              		.thumb
 1539              		.thumb_func
 1540              		.fpu fpv4-sp-d16
 1542              	UpdateSlipAngle:
 1543              	.LFB173:
 529:Src/control.c **** 
 530:Src/control.c **** void UpdateSlipAngle(void)
 531:Src/control.c **** {
 1544              		.loc 1 531 0
 1545              		.cfi_startproc
 1546              		@ args = 0, pretend = 0, frame = 0
 1547              		@ frame_needed = 0, uses_anonymous_args = 0
 1548 0000 D0B5     		push	{r4, r6, r7, lr}
 1549              	.LCFI10:
 1550              		.cfi_def_cfa_offset 16
 1551              		.cfi_offset 4, -16
 1552              		.cfi_offset 6, -12
 1553              		.cfi_offset 7, -8
 1554              		.cfi_offset 14, -4
 1555 0002 2DED028B 		vpush.64	{d8}
 1556              	.LCFI11:
 1557              		.cfi_def_cfa_offset 24
 1558              		.cfi_offset 80, -24
 1559              		.cfi_offset 81, -20
 532:Src/control.c ****     if (straight.v_now != 0)
 1560              		.loc 1 532 0
 1561 0006 234B     		ldr	r3, .L163
 1562 0008 93ED038A 		vldr.32	s16, [r3, #12]
 1563 000c B5EE408A 		vcmp.f32	s16, #0
 1564 0010 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 38


 1565 0014 39D0     		beq	.L158
 533:Src/control.c ****     {
 534:Src/control.c ****         if (slip_cnt == 4)
 1566              		.loc 1 534 0
 1567 0016 204B     		ldr	r3, .L163+4
 1568 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1569 001a 042B     		cmp	r3, #4
 1570 001c 06D0     		beq	.L162
 1571              	.L159:
 535:Src/control.c ****         {
 536:Src/control.c ****             slip_ang = (slip_ang * 200.0 - angle.v_now) / (200.0 + SLIP_K / straight.v_now);
 537:Src/control.c ****             slip_cnt = 0;
 538:Src/control.c ****         }
 539:Src/control.c ****         slip_cnt++;
 1572              		.loc 1 539 0
 1573 001e 1E4A     		ldr	r2, .L163+4
 1574 0020 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1575 0022 0133     		adds	r3, r3, #1
 1576 0024 1370     		strb	r3, [r2]
 1577              	.L157:
 540:Src/control.c ****     }
 541:Src/control.c ****     else
 542:Src/control.c ****     {
 543:Src/control.c ****         slip_ang = 0;
 544:Src/control.c ****     }
 545:Src/control.c **** }
 1578              		.loc 1 545 0
 1579 0026 BDEC028B 		vldm	sp!, {d8}
 1580              	.LCFI12:
 1581              		.cfi_remember_state
 1582              		.cfi_restore 80
 1583              		.cfi_restore 81
 1584              		.cfi_def_cfa_offset 16
 1585 002a D0BD     		pop	{r4, r6, r7, pc}
 1586              	.L162:
 1587              	.LCFI13:
 1588              		.cfi_restore_state
 536:Src/control.c ****             slip_cnt = 0;
 1589              		.loc 1 536 0
 1590 002c 1B4C     		ldr	r4, .L163+8
 1591 002e 2068     		ldr	r0, [r4]	@ float
 1592 0030 FFF7FEFF 		bl	__aeabi_f2d
 1593              	.LVL59:
 1594 0034 0022     		movs	r2, #0
 1595 0036 1A4B     		ldr	r3, .L163+12
 1596 0038 FFF7FEFF 		bl	__aeabi_dmul
 1597              	.LVL60:
 1598 003c 0646     		mov	r6, r0
 1599 003e 0F46     		mov	r7, r1
 1600 0040 184B     		ldr	r3, .L163+16
 1601 0042 D868     		ldr	r0, [r3, #12]	@ float
 1602 0044 FFF7FEFF 		bl	__aeabi_f2d
 1603              	.LVL61:
 1604 0048 0246     		mov	r2, r0
 1605 004a 0B46     		mov	r3, r1
 1606 004c 3046     		mov	r0, r6
 1607 004e 3946     		mov	r1, r7
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 39


 1608 0050 FFF7FEFF 		bl	__aeabi_dsub
 1609              	.LVL62:
 1610 0054 0646     		mov	r6, r0
 1611 0056 0F46     		mov	r7, r1
 1612 0058 DFED137A 		vldr.32	s15, .L163+20
 1613 005c C7EE887A 		vdiv.f32	s15, s15, s16
 1614 0060 17EE900A 		vmov	r0, s15
 1615 0064 FFF7FEFF 		bl	__aeabi_f2d
 1616              	.LVL63:
 1617 0068 0022     		movs	r2, #0
 1618 006a 0D4B     		ldr	r3, .L163+12
 1619 006c FFF7FEFF 		bl	__aeabi_dadd
 1620              	.LVL64:
 1621 0070 0246     		mov	r2, r0
 1622 0072 0B46     		mov	r3, r1
 1623 0074 3046     		mov	r0, r6
 1624 0076 3946     		mov	r1, r7
 1625 0078 FFF7FEFF 		bl	__aeabi_ddiv
 1626              	.LVL65:
 1627 007c FFF7FEFF 		bl	__aeabi_d2f
 1628              	.LVL66:
 1629 0080 2060     		str	r0, [r4]	@ float
 537:Src/control.c ****         }
 1630              		.loc 1 537 0
 1631 0082 054B     		ldr	r3, .L163+4
 1632 0084 0022     		movs	r2, #0
 1633 0086 1A70     		strb	r2, [r3]
 1634 0088 C9E7     		b	.L159
 1635              	.L158:
 543:Src/control.c ****     }
 1636              		.loc 1 543 0
 1637 008a 044B     		ldr	r3, .L163+8
 1638 008c 0022     		movs	r2, #0
 1639 008e 1A60     		str	r2, [r3]	@ float
 1640              		.loc 1 545 0
 1641 0090 C9E7     		b	.L157
 1642              	.L164:
 1643 0092 00BF     		.align	2
 1644              	.L163:
 1645 0094 00000000 		.word	straight
 1646 0098 00000000 		.word	.LANCHOR8
 1647 009c 00000000 		.word	.LANCHOR9
 1648 00a0 00006940 		.word	1080623104
 1649 00a4 00000000 		.word	angle
 1650 00a8 00504347 		.word	1195593728
 1651              		.cfi_endproc
 1652              	.LFE173:
 1654              		.section	.text.Control_UpdatePwm,"ax",%progbits
 1655              		.align	1
 1656              		.global	Control_UpdatePwm
 1657              		.syntax unified
 1658              		.thumb
 1659              		.thumb_func
 1660              		.fpu fpv4-sp-d16
 1662              	Control_UpdatePwm:
 1663              	.LFB174:
 546:Src/control.c **** 
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 40


 547:Src/control.c **** void Control_UpdatePwm(void)
 548:Src/control.c **** {
 1664              		.loc 1 548 0
 1665              		.cfi_startproc
 1666              		@ args = 0, pretend = 0, frame = 0
 1667              		@ frame_needed = 0, uses_anonymous_args = 0
 1668 0000 70B5     		push	{r4, r5, r6, lr}
 1669              	.LCFI14:
 1670              		.cfi_def_cfa_offset 16
 1671              		.cfi_offset 4, -16
 1672              		.cfi_offset 5, -12
 1673              		.cfi_offset 6, -8
 1674              		.cfi_offset 14, -4
 549:Src/control.c ****     if (motor_flag == TRUE)
 1675              		.loc 1 549 0
 1676 0002 834B     		ldr	r3, .L191
 1677 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1678 0006 DBB2     		uxtb	r3, r3
 1679 0008 012B     		cmp	r3, #1
 1680 000a 05D0     		beq	.L183
 550:Src/control.c ****     {
 551:Src/control.c ****         //sensor diffe updata
 552:Src/control.c ****         sen_l.diff = sen_l.now - sen_l.befor[9];
 553:Src/control.c ****         sen_r.diff = sen_r.now - sen_r.befor[9];
 554:Src/control.c ****         for (uint8_t i = 9; i > 0; i--)
 555:Src/control.c ****         {
 556:Src/control.c ****             sen_l.befor[i] = sen_l.befor[i - 1];
 557:Src/control.c ****             sen_r.befor[i] = sen_r.befor[i - 1];
 558:Src/control.c ****         }
 559:Src/control.c ****         sen_l.befor[0] = sen_l.now;
 560:Src/control.c ****         sen_r.befor[0] = sen_r.now;
 561:Src/control.c **** 
 562:Src/control.c ****         //UpdateLoger();
 563:Src/control.c ****         counter_ms++;
 564:Src/control.c ****         if (counter_ms > 999)
 565:Src/control.c ****         {
 566:Src/control.c ****             counter_s++;
 567:Src/control.c ****             counter_ms = 0;
 568:Src/control.c ****         }
 569:Src/control.c ****         if (motion_end_flag == FALSE)
 570:Src/control.c ****         {
 571:Src/control.c ****             UpdateStrTarget();
 572:Src/control.c ****             UpdateAngTarget();
 573:Src/control.c ****         }
 574:Src/control.c ****         if (control_wall_flag == 1)
 575:Src/control.c ****         {
 576:Src/control.c ****             SideWallFix();
 577:Src/control.c ****         }
 578:Src/control.c ****         else if (control_wall_flag == 2)
 579:Src/control.c ****         {
 580:Src/control.c ****             SideWallFiX_Fast();
 581:Src/control.c ****         }
 582:Src/control.c ****         else if (control_wall_flag == 3)
 583:Src/control.c ****         {
 584:Src/control.c ****             DiagonalSideWall();
 585:Src/control.c ****         }else if(control_wall_flag == 4){
 586:Src/control.c ****             SideWallFiX_Fastest();
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 41


 587:Src/control.c ****         }
 588:Src/control.c ****         else
 589:Src/control.c ****         {
 590:Src/control.c ****             wall_dif = 0;
 591:Src/control.c ****         }
 592:Src/control.c ****         Control_FrontWall();
 593:Src/control.c ****         int16_t str_buff = (int16_t)PID_value(straight.dir * straight.v_now + front_wall_diff, enc.
 594:Src/control.c ****         int16_t ang_buff = (int16_t)PID_value(angle.dir * angle.v_now - wall_dif, gyro_z.velocity, 
 595:Src/control.c **** 
 596:Src/control.c ****         Tim_MotorPwm(str_buff - ang_buff, str_buff + ang_buff);
 597:Src/control.c **** 
 598:Src/control.c ****         if ((angle.dir * angle.v_now - gyro_z.velocity < -1000) || (angle.dir * angle.v_now - gyro_
 599:Src/control.c ****         {
 600:Src/control.c ****             if (straight.dir != -1)
 601:Src/control.c ****             {
 602:Src/control.c ****                 motor_flag = FALSE;
 603:Src/control.c ****                 Tim_FanPwm(0);
 604:Src/control.c ****             }
 605:Src/control.c ****         }
 606:Src/control.c ****         if (accel.y < -90.0f) //-100
 607:Src/control.c ****         {
 608:Src/control.c ****             if (straight.dir != -1)
 609:Src/control.c ****             {
 610:Src/control.c ****                 motor_flag = FALSE;
 611:Src/control.c ****                 Tim_FanPwm(0);
 612:Src/control.c ****             }
 613:Src/control.c ****         }
 614:Src/control.c ****     }
 615:Src/control.c ****     else if (motor_flag == FALSE)
 1681              		.loc 1 615 0
 1682 000c 804B     		ldr	r3, .L191
 1683 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1684 0010 002B     		cmp	r3, #0
 1685 0012 00F0F780 		beq	.L184
 1686              	.L165:
 616:Src/control.c ****     {
 617:Src/control.c ****         Tim_MotorPwm(0, 0);
 618:Src/control.c ****     }
 619:Src/control.c **** }
 1687              		.loc 1 619 0
 1688 0016 70BD     		pop	{r4, r5, r6, pc}
 1689              	.L183:
 1690              	.LBB3:
 552:Src/control.c ****         sen_r.diff = sen_r.now - sen_r.befor[9];
 1691              		.loc 1 552 0
 1692 0018 7E4B     		ldr	r3, .L191+4
 1693 001a B3F90060 		ldrsh	r6, [r3]
 1694 001e B2B2     		uxth	r2, r6
 1695 0020 998A     		ldrh	r1, [r3, #20]
 1696 0022 521A     		subs	r2, r2, r1
 1697 0024 5A83     		strh	r2, [r3, #26]	@ movhi
 553:Src/control.c ****         for (uint8_t i = 9; i > 0; i--)
 1698              		.loc 1 553 0
 1699 0026 7C4B     		ldr	r3, .L191+8
 1700 0028 B3F90050 		ldrsh	r5, [r3]
 1701 002c AAB2     		uxth	r2, r5
 1702 002e 998A     		ldrh	r1, [r3, #20]
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 42


 1703 0030 521A     		subs	r2, r2, r1
 1704 0032 5A83     		strh	r2, [r3, #26]	@ movhi
 1705              	.LVL67:
 1706              	.LBB4:
 554:Src/control.c ****         {
 1707              		.loc 1 554 0
 1708 0034 0923     		movs	r3, #9
 1709 0036 0FE0     		b	.L167
 1710              	.LVL68:
 1711              	.L168:
 556:Src/control.c ****             sen_r.befor[i] = sen_r.befor[i - 1];
 1712              		.loc 1 556 0 discriminator 3
 1713 0038 581E     		subs	r0, r3, #1
 1714 003a 764A     		ldr	r2, .L191+4
 1715 003c 4100     		lsls	r1, r0, #1
 1716 003e 5418     		adds	r4, r2, r1
 1717 0040 B4F90240 		ldrsh	r4, [r4, #2]
 1718 0044 5B00     		lsls	r3, r3, #1
 1719              	.LVL69:
 1720 0046 1A44     		add	r2, r2, r3
 1721 0048 5480     		strh	r4, [r2, #2]	@ movhi
 557:Src/control.c ****         }
 1722              		.loc 1 557 0 discriminator 3
 1723 004a 734A     		ldr	r2, .L191+8
 1724 004c 1144     		add	r1, r1, r2
 1725 004e B1F90210 		ldrsh	r1, [r1, #2]
 1726 0052 1344     		add	r3, r3, r2
 1727 0054 5980     		strh	r1, [r3, #2]	@ movhi
 554:Src/control.c ****         {
 1728              		.loc 1 554 0 discriminator 3
 1729 0056 C3B2     		uxtb	r3, r0
 1730              	.LVL70:
 1731              	.L167:
 554:Src/control.c ****         {
 1732              		.loc 1 554 0 is_stmt 0 discriminator 1
 1733 0058 002B     		cmp	r3, #0
 1734 005a EDD1     		bne	.L168
 1735              	.LBE4:
 559:Src/control.c ****         sen_r.befor[0] = sen_r.now;
 1736              		.loc 1 559 0 is_stmt 1
 1737 005c 6D4B     		ldr	r3, .L191+4
 1738              	.LVL71:
 1739 005e 5E80     		strh	r6, [r3, #2]	@ movhi
 560:Src/control.c **** 
 1740              		.loc 1 560 0
 1741 0060 6D4B     		ldr	r3, .L191+8
 1742 0062 5D80     		strh	r5, [r3, #2]	@ movhi
 563:Src/control.c ****         if (counter_ms > 999)
 1743              		.loc 1 563 0
 1744 0064 6D4A     		ldr	r2, .L191+12
 1745 0066 1388     		ldrh	r3, [r2]
 1746 0068 0133     		adds	r3, r3, #1
 1747 006a 9BB2     		uxth	r3, r3
 1748 006c 1380     		strh	r3, [r2]	@ movhi
 564:Src/control.c ****         {
 1749              		.loc 1 564 0
 1750 006e B3F57A7F 		cmp	r3, #1000
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 43


 1751 0072 06D3     		bcc	.L169
 566:Src/control.c ****             counter_ms = 0;
 1752              		.loc 1 566 0
 1753 0074 6A4A     		ldr	r2, .L191+16
 1754 0076 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1755 0078 0133     		adds	r3, r3, #1
 1756 007a 1370     		strb	r3, [r2]
 567:Src/control.c ****         }
 1757              		.loc 1 567 0
 1758 007c 674B     		ldr	r3, .L191+12
 1759 007e 0022     		movs	r2, #0
 1760 0080 1A80     		strh	r2, [r3]	@ movhi
 1761              	.L169:
 569:Src/control.c ****         {
 1762              		.loc 1 569 0
 1763 0082 684B     		ldr	r3, .L191+20
 1764 0084 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1765 0086 002B     		cmp	r3, #0
 1766 0088 00F0A580 		beq	.L185
 1767              	.L170:
 574:Src/control.c ****         {
 1768              		.loc 1 574 0
 1769 008c 664B     		ldr	r3, .L191+24
 1770 008e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1771 0090 DBB2     		uxtb	r3, r3
 1772 0092 012B     		cmp	r3, #1
 1773 0094 00F0A480 		beq	.L186
 578:Src/control.c ****         {
 1774              		.loc 1 578 0
 1775 0098 634B     		ldr	r3, .L191+24
 1776 009a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1777 009c DBB2     		uxtb	r3, r3
 1778 009e 022B     		cmp	r3, #2
 1779 00a0 00F0A180 		beq	.L187
 582:Src/control.c ****         {
 1780              		.loc 1 582 0
 1781 00a4 604B     		ldr	r3, .L191+24
 1782 00a6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1783 00a8 DBB2     		uxtb	r3, r3
 1784 00aa 032B     		cmp	r3, #3
 1785 00ac 00F09E80 		beq	.L188
 585:Src/control.c ****             SideWallFiX_Fastest();
 1786              		.loc 1 585 0
 1787 00b0 5D4B     		ldr	r3, .L191+24
 1788 00b2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1789 00b4 DBB2     		uxtb	r3, r3
 1790 00b6 042B     		cmp	r3, #4
 1791 00b8 00F09B80 		beq	.L189
 590:Src/control.c ****         }
 1792              		.loc 1 590 0
 1793 00bc 5B4B     		ldr	r3, .L191+28
 1794 00be 0022     		movs	r2, #0
 1795 00c0 1A60     		str	r2, [r3]	@ float
 1796              	.L172:
 592:Src/control.c ****         int16_t str_buff = (int16_t)PID_value(straight.dir * straight.v_now + front_wall_diff, enc.
 1797              		.loc 1 592 0
 1798 00c2 FFF7FEFF 		bl	Control_FrontWall
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 44


 1799              	.LVL72:
 593:Src/control.c ****         int16_t ang_buff = (int16_t)PID_value(angle.dir * angle.v_now - wall_dif, gyro_z.velocity, 
 1800              		.loc 1 593 0
 1801 00c6 5A4B     		ldr	r3, .L191+32
 1802 00c8 93F91420 		ldrsb	r2, [r3, #20]
 1803 00cc 07EE902A 		vmov	s15, r2	@ int
 1804 00d0 93ED030A 		vldr.32	s0, [r3, #12]
 1805 00d4 F8EEE77A 		vcvt.f32.s32	s15, s15
 1806 00d8 67EE807A 		vmul.f32	s15, s15, s0
 1807 00dc 554B     		ldr	r3, .L191+36
 1808 00de D3ED010A 		vldr.32	s1, [r3, #4]
 1809 00e2 554B     		ldr	r3, .L191+40
 1810 00e4 93ED000A 		vldr.32	s0, [r3]
 1811 00e8 544B     		ldr	r3, .L191+44
 1812 00ea 93ED002A 		vldr.32	s4, [r3]
 1813 00ee 544B     		ldr	r3, .L191+48
 1814 00f0 D3ED001A 		vldr.32	s3, [r3]
 1815 00f4 534B     		ldr	r3, .L191+52
 1816 00f6 93ED001A 		vldr.32	s2, [r3]
 1817 00fa 5349     		ldr	r1, .L191+56
 1818 00fc 5348     		ldr	r0, .L191+60
 1819 00fe 37EE800A 		vadd.f32	s0, s15, s0
 1820 0102 FFF7FEFF 		bl	PID_value
 1821              	.LVL73:
 1822 0106 BDEEC00A 		vcvt.s32.f32	s0, s0
 1823 010a 10EE103A 		vmov	r3, s0	@ int
 1824 010e 1CB2     		sxth	r4, r3
 1825              	.LVL74:
 594:Src/control.c **** 
 1826              		.loc 1 594 0
 1827 0110 4F4D     		ldr	r5, .L191+64
 1828 0112 95F91430 		ldrsb	r3, [r5, #20]
 1829 0116 07EE903A 		vmov	s15, r3	@ int
 1830 011a 95ED030A 		vldr.32	s0, [r5, #12]
 1831 011e F8EEE77A 		vcvt.f32.s32	s15, s15
 1832 0122 67EE807A 		vmul.f32	s15, s15, s0
 1833 0126 4B4E     		ldr	r6, .L191+68
 1834 0128 404B     		ldr	r3, .L191+28
 1835 012a 93ED000A 		vldr.32	s0, [r3]
 1836 012e B7EE002A 		vmov.f32	s4, #1.0e+0
 1837 0132 F3EE051A 		vmov.f32	s3, #2.1e+1
 1838 0136 9FED481A 		vldr.32	s2, .L191+72
 1839 013a 4849     		ldr	r1, .L191+76
 1840 013c 4848     		ldr	r0, .L191+80
 1841 013e D6ED000A 		vldr.32	s1, [r6]
 1842 0142 37EEC00A 		vsub.f32	s0, s15, s0
 1843 0146 FFF7FEFF 		bl	PID_value
 1844              	.LVL75:
 1845 014a BDEEC00A 		vcvt.s32.f32	s0, s0
 1846              	.LVL76:
 596:Src/control.c **** 
 1847              		.loc 1 596 0
 1848 014e A1B2     		uxth	r1, r4
 1849 0150 10EE103A 		vmov	r3, s0	@ int
 1850 0154 9BB2     		uxth	r3, r3
 1851 0156 C81A     		subs	r0, r1, r3
 1852 0158 1944     		add	r1, r1, r3
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 45


 1853 015a 09B2     		sxth	r1, r1
 1854 015c 00B2     		sxth	r0, r0
 1855 015e FFF7FEFF 		bl	Tim_MotorPwm
 1856              	.LVL77:
 598:Src/control.c ****         {
 1857              		.loc 1 598 0
 1858 0162 95F91430 		ldrsb	r3, [r5, #20]
 1859 0166 07EE903A 		vmov	s15, r3	@ int
 1860 016a 95ED037A 		vldr.32	s14, [r5, #12]
 1861 016e F8EEE77A 		vcvt.f32.s32	s15, s15
 1862 0172 67EE877A 		vmul.f32	s15, s15, s14
 1863 0176 96ED007A 		vldr.32	s14, [r6]
 1864 017a 77EEC77A 		vsub.f32	s15, s15, s14
 1865 017e 9FED397A 		vldr.32	s14, .L191+84
 1866 0182 F4EEC77A 		vcmpe.f32	s15, s14
 1867 0186 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1868 018a 06D4     		bmi	.L176
 598:Src/control.c ****         {
 1869              		.loc 1 598 0 is_stmt 0 discriminator 1
 1870 018c 9FED367A 		vldr.32	s14, .L191+88
 1871 0190 F4EEC77A 		vcmpe.f32	s15, s14
 1872 0194 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1873 0198 05DD     		ble	.L177
 1874              	.L176:
 600:Src/control.c ****             {
 1875              		.loc 1 600 0 is_stmt 1
 1876 019a 254B     		ldr	r3, .L191+32
 1877 019c 93F91430 		ldrsb	r3, [r3, #20]
 1878 01a0 B3F1FF3F 		cmp	r3, #-1
 1879 01a4 28D1     		bne	.L190
 1880              	.L177:
 606:Src/control.c ****         {
 1881              		.loc 1 606 0
 1882 01a6 314B     		ldr	r3, .L191+92
 1883 01a8 93ED017A 		vldr.32	s14, [r3, #4]
 1884 01ac DFED307A 		vldr.32	s15, .L191+96
 1885 01b0 B4EEE77A 		vcmpe.f32	s14, s15
 1886 01b4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1887 01b8 7FF52DAF 		bpl	.L165
 608:Src/control.c ****             {
 1888              		.loc 1 608 0
 1889 01bc 1C4B     		ldr	r3, .L191+32
 1890 01be 93F91430 		ldrsb	r3, [r3, #20]
 1891 01c2 B3F1FF3F 		cmp	r3, #-1
 1892 01c6 3FF426AF 		beq	.L165
 610:Src/control.c ****                 Tim_FanPwm(0);
 1893              		.loc 1 610 0
 1894 01ca 0020     		movs	r0, #0
 1895 01cc 104B     		ldr	r3, .L191
 1896 01ce 1870     		strb	r0, [r3]
 611:Src/control.c ****             }
 1897              		.loc 1 611 0
 1898 01d0 FFF7FEFF 		bl	Tim_FanPwm
 1899              	.LVL78:
 1900 01d4 1FE7     		b	.L165
 1901              	.LVL79:
 1902              	.L185:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 46


 571:Src/control.c ****             UpdateAngTarget();
 1903              		.loc 1 571 0
 1904 01d6 FFF7FEFF 		bl	UpdateStrTarget
 1905              	.LVL80:
 572:Src/control.c ****         }
 1906              		.loc 1 572 0
 1907 01da FFF7FEFF 		bl	UpdateAngTarget
 1908              	.LVL81:
 1909 01de 55E7     		b	.L170
 1910              	.L186:
 576:Src/control.c ****         }
 1911              		.loc 1 576 0
 1912 01e0 FFF7FEFF 		bl	SideWallFix
 1913              	.LVL82:
 1914 01e4 6DE7     		b	.L172
 1915              	.L187:
 580:Src/control.c ****         }
 1916              		.loc 1 580 0
 1917 01e6 FFF7FEFF 		bl	SideWallFiX_Fast
 1918              	.LVL83:
 1919 01ea 6AE7     		b	.L172
 1920              	.L188:
 584:Src/control.c ****         }else if(control_wall_flag == 4){
 1921              		.loc 1 584 0
 1922 01ec FFF7FEFF 		bl	DiagonalSideWall
 1923              	.LVL84:
 1924 01f0 67E7     		b	.L172
 1925              	.L189:
 586:Src/control.c ****         }
 1926              		.loc 1 586 0
 1927 01f2 FFF7FEFF 		bl	SideWallFiX_Fastest
 1928              	.LVL85:
 1929 01f6 64E7     		b	.L172
 1930              	.LVL86:
 1931              	.L190:
 602:Src/control.c ****                 Tim_FanPwm(0);
 1932              		.loc 1 602 0
 1933 01f8 0020     		movs	r0, #0
 1934 01fa 054B     		ldr	r3, .L191
 1935 01fc 1870     		strb	r0, [r3]
 603:Src/control.c ****             }
 1936              		.loc 1 603 0
 1937 01fe FFF7FEFF 		bl	Tim_FanPwm
 1938              	.LVL87:
 1939 0202 D0E7     		b	.L177
 1940              	.LVL88:
 1941              	.L184:
 1942              	.LBE3:
 617:Src/control.c ****     }
 1943              		.loc 1 617 0
 1944 0204 0021     		movs	r1, #0
 1945 0206 0846     		mov	r0, r1
 1946 0208 FFF7FEFF 		bl	Tim_MotorPwm
 1947              	.LVL89:
 1948              		.loc 1 619 0
 1949 020c 03E7     		b	.L165
 1950              	.L192:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 47


 1951 020e 00BF     		.align	2
 1952              	.L191:
 1953 0210 00000000 		.word	motor_flag
 1954 0214 00000000 		.word	sen_l
 1955 0218 00000000 		.word	sen_r
 1956 021c 00000000 		.word	.LANCHOR10
 1957 0220 00000000 		.word	counter_s
 1958 0224 00000000 		.word	motion_end_flag
 1959 0228 00000000 		.word	control_wall_flag
 1960 022c 00000000 		.word	.LANCHOR6
 1961 0230 00000000 		.word	straight
 1962 0234 00000000 		.word	enc
 1963 0238 00000000 		.word	.LANCHOR7
 1964 023c 00000000 		.word	.LANCHOR11
 1965 0240 00000000 		.word	.LANCHOR12
 1966 0244 00000000 		.word	.LANCHOR13
 1967 0248 00000000 		.word	error_old
 1968 024c 00000000 		.word	error_sum
 1969 0250 00000000 		.word	angle
 1970 0254 00000000 		.word	gyro_z
 1971 0258 6666663F 		.word	1063675494
 1972 025c 00000000 		.word	error_ang_old
 1973 0260 00000000 		.word	error_ang_sum
 1974 0264 00007AC4 		.word	-998637568
 1975 0268 00007A44 		.word	1148846080
 1976 026c 00000000 		.word	accel
 1977 0270 0000B4C2 		.word	-1028390912
 1978              		.cfi_endproc
 1979              	.LFE174:
 1981              		.section	.text.Control_ResetVelo,"ax",%progbits
 1982              		.align	1
 1983              		.global	Control_ResetVelo
 1984              		.syntax unified
 1985              		.thumb
 1986              		.thumb_func
 1987              		.fpu fpv4-sp-d16
 1989              	Control_ResetVelo:
 1990              	.LFB175:
 620:Src/control.c **** 
 621:Src/control.c **** void Control_ResetVelo(void)
 622:Src/control.c **** {
 1991              		.loc 1 622 0
 1992              		.cfi_startproc
 1993              		@ args = 0, pretend = 0, frame = 0
 1994              		@ frame_needed = 0, uses_anonymous_args = 0
 1995              		@ link register save eliminated.
 623:Src/control.c ****     straight.v_now = 0.0f;
 1996              		.loc 1 623 0
 1997 0000 0023     		movs	r3, #0
 1998 0002 0F4A     		ldr	r2, .L194
 1999 0004 D360     		str	r3, [r2, #12]	@ float
 624:Src/control.c ****     dist_idial = 0.0f;
 2000              		.loc 1 624 0
 2001 0006 0F4A     		ldr	r2, .L194+4
 2002 0008 1360     		str	r3, [r2]	@ float
 625:Src/control.c ****     error_sum = 0.0f;
 2003              		.loc 1 625 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 48


 2004 000a 0F4A     		ldr	r2, .L194+8
 2005 000c 1360     		str	r3, [r2]	@ float
 626:Src/control.c ****     error_old = 0.0f;
 2006              		.loc 1 626 0
 2007 000e 0F4A     		ldr	r2, .L194+12
 2008 0010 1360     		str	r3, [r2]	@ float
 627:Src/control.c ****     angle.v_now = 0.0f;
 2009              		.loc 1 627 0
 2010 0012 0F4A     		ldr	r2, .L194+16
 2011 0014 D360     		str	r3, [r2, #12]	@ float
 628:Src/control.c ****     ang_idial = 0.0f;
 2012              		.loc 1 628 0
 2013 0016 0F4A     		ldr	r2, .L194+20
 2014 0018 1360     		str	r3, [r2]	@ float
 629:Src/control.c ****     error_ang_sum = 0.0f;
 2015              		.loc 1 629 0
 2016 001a 0F4A     		ldr	r2, .L194+24
 2017 001c 1360     		str	r3, [r2]	@ float
 630:Src/control.c ****     error_ang_old = 0.0f;
 2018              		.loc 1 630 0
 2019 001e 0F4A     		ldr	r2, .L194+28
 2020 0020 1360     		str	r3, [r2]	@ float
 631:Src/control.c ****     loger.cnt = 0;
 2021              		.loc 1 631 0
 2022 0022 0022     		movs	r2, #0
 2023 0024 0E49     		ldr	r1, .L194+32
 2024 0026 0A80     		strh	r2, [r1]	@ movhi
 632:Src/control.c ****     enc.offset = 0.0f;
 2025              		.loc 1 632 0
 2026 0028 0E49     		ldr	r1, .L194+36
 2027 002a 8B60     		str	r3, [r1, #8]	@ float
 633:Src/control.c ****     enc.distance = 0;
 2028              		.loc 1 633 0
 2029 002c 0B60     		str	r3, [r1]	@ float
 634:Src/control.c ****     front_wall_flag = FALSE;
 2030              		.loc 1 634 0
 2031 002e 0E49     		ldr	r1, .L194+40
 2032 0030 0A70     		strb	r2, [r1]
 635:Src/control.c ****     front_wall_diff = 0;
 2033              		.loc 1 635 0
 2034 0032 0E4A     		ldr	r2, .L194+44
 2035 0034 1360     		str	r3, [r2]	@ float
 636:Src/control.c ****     walledge_flag = TRUE;
 2036              		.loc 1 636 0
 2037 0036 0E4B     		ldr	r3, .L194+48
 2038 0038 0122     		movs	r2, #1
 2039 003a 1A70     		strb	r2, [r3]
 637:Src/control.c **** }
 2040              		.loc 1 637 0
 2041 003c 7047     		bx	lr
 2042              	.L195:
 2043 003e 00BF     		.align	2
 2044              	.L194:
 2045 0040 00000000 		.word	straight
 2046 0044 00000000 		.word	.LANCHOR0
 2047 0048 00000000 		.word	error_sum
 2048 004c 00000000 		.word	error_old
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 49


 2049 0050 00000000 		.word	angle
 2050 0054 00000000 		.word	.LANCHOR1
 2051 0058 00000000 		.word	error_ang_sum
 2052 005c 00000000 		.word	error_ang_old
 2053 0060 00000000 		.word	loger
 2054 0064 00000000 		.word	enc
 2055 0068 00000000 		.word	front_wall_flag
 2056 006c 00000000 		.word	.LANCHOR7
 2057 0070 00000000 		.word	.LANCHOR2
 2058              		.cfi_endproc
 2059              	.LFE175:
 2061              		.section	.text.Control_SetupStraightPID,"ax",%progbits
 2062              		.align	1
 2063              		.global	Control_SetupStraightPID
 2064              		.syntax unified
 2065              		.thumb
 2066              		.thumb_func
 2067              		.fpu fpv4-sp-d16
 2069              	Control_SetupStraightPID:
 2070              	.LFB176:
 638:Src/control.c **** 
 639:Src/control.c **** void Control_SetupStraightPID(float Kp, float Ki, float Kd)
 640:Src/control.c **** {
 2071              		.loc 1 640 0
 2072              		.cfi_startproc
 2073              		@ args = 0, pretend = 0, frame = 0
 2074              		@ frame_needed = 0, uses_anonymous_args = 0
 2075              		@ link register save eliminated.
 2076              	.LVL90:
 641:Src/control.c ****     str_p = Kp;
 2077              		.loc 1 641 0
 2078 0000 044B     		ldr	r3, .L197
 2079 0002 83ED000A 		vstr.32	s0, [r3]
 642:Src/control.c ****     str_i = Ki;
 2080              		.loc 1 642 0
 2081 0006 044B     		ldr	r3, .L197+4
 2082 0008 C3ED000A 		vstr.32	s1, [r3]
 643:Src/control.c ****     str_d = Kd;
 2083              		.loc 1 643 0
 2084 000c 034B     		ldr	r3, .L197+8
 2085 000e 83ED001A 		vstr.32	s2, [r3]
 644:Src/control.c **** }
 2086              		.loc 1 644 0
 2087 0012 7047     		bx	lr
 2088              	.L198:
 2089              		.align	2
 2090              	.L197:
 2091 0014 00000000 		.word	.LANCHOR13
 2092 0018 00000000 		.word	.LANCHOR12
 2093 001c 00000000 		.word	.LANCHOR11
 2094              		.cfi_endproc
 2095              	.LFE176:
 2097              		.section	.text.Control_SetupTurnPID,"ax",%progbits
 2098              		.align	1
 2099              		.global	Control_SetupTurnPID
 2100              		.syntax unified
 2101              		.thumb
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 50


 2102              		.thumb_func
 2103              		.fpu fpv4-sp-d16
 2105              	Control_SetupTurnPID:
 2106              	.LFB177:
 645:Src/control.c **** void Control_SetupTurnPID(float Kp, float Ki, float Kd)
 646:Src/control.c **** {
 2107              		.loc 1 646 0
 2108              		.cfi_startproc
 2109              		@ args = 0, pretend = 0, frame = 0
 2110              		@ frame_needed = 0, uses_anonymous_args = 0
 2111              		@ link register save eliminated.
 2112              	.LVL91:
 647:Src/control.c ****     ang_p = Kp;
 2113              		.loc 1 647 0
 2114 0000 044B     		ldr	r3, .L200
 2115 0002 83ED000A 		vstr.32	s0, [r3]
 648:Src/control.c ****     ang_i = Ki;
 2116              		.loc 1 648 0
 2117 0006 044B     		ldr	r3, .L200+4
 2118 0008 C3ED000A 		vstr.32	s1, [r3]
 649:Src/control.c ****     ang_d = Kd;
 2119              		.loc 1 649 0
 2120 000c 034B     		ldr	r3, .L200+8
 2121 000e 83ED001A 		vstr.32	s2, [r3]
 650:Src/control.c **** }...
 2122              		.loc 1 650 0
 2123 0012 7047     		bx	lr
 2124              	.L201:
 2125              		.align	2
 2126              	.L200:
 2127 0014 00000000 		.word	.LANCHOR14
 2128 0018 00000000 		.word	.LANCHOR15
 2129 001c 00000000 		.word	.LANCHOR16
 2130              		.cfi_endproc
 2131              	.LFE177:
 2133              		.global	ang_d
 2134              		.global	ang_i
 2135              		.global	ang_p
 2136              		.global	str_d
 2137              		.global	str_i
 2138              		.global	str_p
 2139              		.comm	counter_s,1,1
 2140              		.global	counter_ms
 2141              		.global	walledge_diff
 2142              		.global	walledge_cnt
 2143              		.global	walledge_flag
 2144              		.global	walledge_offset
 2145              		.global	walledge_step
 2146              		.comm	front_wall_flag,1,1
 2147              		.global	front_wall_diff
 2148              		.comm	control_wall_flag,1,1
 2149              		.global	add_r
 2150              		.global	add_l
 2151              		.global	wall_dif
 2152              		.global	slip_cnt
 2153              		.global	slip_ang
 2154              		.comm	motor_flag,1,1
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 51


 2155              		.comm	error_ang_old,4,4
 2156              		.comm	error_ang_sum,4,4
 2157              		.global	ang_idial
 2158              		.comm	loger,40002,4
 2159              		.comm	angle,28,4
 2160              		.comm	error_old,4,4
 2161              		.comm	error_sum,4,4
 2162              		.global	dist_idial
 2163              		.comm	straight,28,4
 2164              		.section	.bss.add_l,"aw",%nobits
 2165              		.set	.LANCHOR4,. + 0
 2168              	add_l:
 2169 0000 00       		.space	1
 2170              		.section	.bss.add_r,"aw",%nobits
 2171              		.set	.LANCHOR5,. + 0
 2174              	add_r:
 2175 0000 00       		.space	1
 2176              		.section	.bss.ang_idial,"aw",%nobits
 2177              		.align	2
 2178              		.set	.LANCHOR1,. + 0
 2181              	ang_idial:
 2182 0000 00000000 		.space	4
 2183              		.section	.bss.counter_ms,"aw",%nobits
 2184              		.align	1
 2185              		.set	.LANCHOR10,. + 0
 2188              	counter_ms:
 2189 0000 0000     		.space	2
 2190              		.section	.bss.dist_idial,"aw",%nobits
 2191              		.align	2
 2192              		.set	.LANCHOR0,. + 0
 2195              	dist_idial:
 2196 0000 00000000 		.space	4
 2197              		.section	.bss.front_wall_diff,"aw",%nobits
 2198              		.align	2
 2199              		.set	.LANCHOR7,. + 0
 2202              	front_wall_diff:
 2203 0000 00000000 		.space	4
 2204              		.section	.bss.slip_ang,"aw",%nobits
 2205              		.align	2
 2206              		.set	.LANCHOR9,. + 0
 2209              	slip_ang:
 2210 0000 00000000 		.space	4
 2211              		.section	.bss.slip_cnt,"aw",%nobits
 2212              		.set	.LANCHOR8,. + 0
 2215              	slip_cnt:
 2216 0000 00       		.space	1
 2217              		.section	.bss.str_d,"aw",%nobits
 2218              		.align	2
 2219              		.set	.LANCHOR11,. + 0
 2222              	str_d:
 2223 0000 00000000 		.space	4
 2224              		.section	.bss.wall_dif,"aw",%nobits
 2225              		.align	2
 2226              		.set	.LANCHOR6,. + 0
 2229              	wall_dif:
 2230 0000 00000000 		.space	4
 2231              		.section	.bss.walledge_cnt,"aw",%nobits
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 52


 2232              		.align	2
 2235              	walledge_cnt:
 2236 0000 00000000 		.space	4
 2237              		.section	.bss.walledge_diff,"aw",%nobits
 2238              		.align	2
 2241              	walledge_diff:
 2242 0000 00000000 		.space	4
 2243              		.section	.bss.walledge_flag,"aw",%nobits
 2244              		.set	.LANCHOR2,. + 0
 2247              	walledge_flag:
 2248 0000 00       		.space	1
 2249              		.section	.bss.walledge_offset,"aw",%nobits
 2250              		.align	2
 2251              		.set	.LANCHOR3,. + 0
 2254              	walledge_offset:
 2255 0000 00000000 		.space	4
 2256              		.section	.bss.walledge_step,"aw",%nobits
 2259              	walledge_step:
 2260 0000 00       		.space	1
 2261              		.section	.data.ang_d,"aw",%progbits
 2262              		.align	2
 2263              		.set	.LANCHOR16,. + 0
 2266              	ang_d:
 2267 0000 0000803F 		.word	1065353216
 2268              		.section	.data.ang_i,"aw",%progbits
 2269              		.align	2
 2270              		.set	.LANCHOR15,. + 0
 2273              	ang_i:
 2274 0000 0000A841 		.word	1101529088
 2275              		.section	.data.ang_p,"aw",%progbits
 2276              		.align	2
 2277              		.set	.LANCHOR14,. + 0
 2280              	ang_p:
 2281 0000 6666663F 		.word	1063675494
 2282              		.section	.data.str_i,"aw",%progbits
 2283              		.align	2
 2284              		.set	.LANCHOR12,. + 0
 2287              	str_i:
 2288 0000 00001041 		.word	1091567616
 2289              		.section	.data.str_p,"aw",%progbits
 2290              		.align	2
 2291              		.set	.LANCHOR13,. + 0
 2294              	str_p:
 2295 0000 00000040 		.word	1073741824
 2296              		.text
 2297              	.Letext0:
 2298              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 2299              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 2300              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 2301              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 2302              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 2303              		.file 7 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 2304              		.file 8 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 2305              		.file 9 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\lib\\gcc\\arm-none-eabi
 2306              		.file 10 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 2307              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 2308              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 53


 2309              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_adc.h"
 2310              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 2311              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 2312              		.file 16 "Inc/tim.h"
 2313              		.file 17 "Inc/spi.h"
 2314              		.file 18 "Inc/control.h"
 2315              		.file 19 "Inc/flash.h"
 2316              		.file 20 "Inc/adc.h"
 2317              		.file 21 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 54


DEFINED SYMBOLS
                            *ABS*:00000000 control.c
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:18     .text.PID_value:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:25     .text.PID_value:00000000 PID_value
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:66     .text.PID_value:0000003c $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:71     .text.Control_StrCalculator:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:78     .text.Control_StrCalculator:00000000 Control_StrCalculator
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:129    .text.Control_StrCalculator:00000060 $d
                            *COM*:0000001c straight
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:135    .text.Control_AngCalculator:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:142    .text.Control_AngCalculator:00000000 Control_AngCalculator
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:193    .text.Control_AngCalculator:00000060 $d
                            *COM*:0000001c angle
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:199    .text.UpdateTargets:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:206    .text.UpdateTargets:00000000 UpdateTargets
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:252    .text.UpdateTargets:00000054 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:257    .text.UpdateStrTarget:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:264    .text.UpdateStrTarget:00000000 UpdateStrTarget
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:361    .text.UpdateStrTarget:000000b4 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:371    .text.Control_EdgeSet:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:378    .text.Control_EdgeSet:00000000 Control_EdgeSet
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:398    .text.Control_EdgeSet:00000010 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:404    .text.WallEdgeFix:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:411    .text.WallEdgeFix:00000000 WallEdgeFix
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:447    .text.WallEdgeFix:00000034 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:454    .text.SideWallFix:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:461    .text.SideWallFix:00000000 SideWallFix
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:729    .text.SideWallFix:00000200 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:749    .text.SideWallFiX_Fast:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:756    .text.SideWallFiX_Fast:00000000 SideWallFiX_Fast
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:956    .text.SideWallFiX_Fast:0000015c $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:971    .text.SideWallFiX_Fastest:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:978    .text.SideWallFiX_Fastest:00000000 SideWallFiX_Fastest
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1175   .text.SideWallFiX_Fastest:0000014c $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1191   .text.DiagonalSideWall:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1198   .text.DiagonalSideWall:00000000 DiagonalSideWall
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1261   .text.DiagonalSideWall:00000068 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1273   .text.Control_FrontWall:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1280   .text.Control_FrontWall:00000000 Control_FrontWall
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1334   .text.Control_FrontWall:00000040 $d
                            *COM*:00000001 front_wall_flag
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1341   .text.UpdateAngTarget:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1348   .text.UpdateAngTarget:00000000 UpdateAngTarget
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1445   .text.UpdateAngTarget:000000a8 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1454   .text.UpdateLoger:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1461   .text.UpdateLoger:00000000 UpdateLoger
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1522   .text.UpdateLoger:00000060 $d
                            *COM*:00009c42 loger
                            *COM*:00000001 motor_flag
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1535   .text.UpdateSlipAngle:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1542   .text.UpdateSlipAngle:00000000 UpdateSlipAngle
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1645   .text.UpdateSlipAngle:00000094 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1655   .text.Control_UpdatePwm:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1662   .text.Control_UpdatePwm:00000000 Control_UpdatePwm
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1953   .text.Control_UpdatePwm:00000210 $d
                            *COM*:00000001 counter_s
                            *COM*:00000001 control_wall_flag
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 55


                            *COM*:00000004 error_old
                            *COM*:00000004 error_sum
                            *COM*:00000004 error_ang_old
                            *COM*:00000004 error_ang_sum
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1982   .text.Control_ResetVelo:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:1989   .text.Control_ResetVelo:00000000 Control_ResetVelo
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2045   .text.Control_ResetVelo:00000040 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2062   .text.Control_SetupStraightPID:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2069   .text.Control_SetupStraightPID:00000000 Control_SetupStraightPID
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2091   .text.Control_SetupStraightPID:00000014 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2098   .text.Control_SetupTurnPID:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2105   .text.Control_SetupTurnPID:00000000 Control_SetupTurnPID
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2127   .text.Control_SetupTurnPID:00000014 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2266   .data.ang_d:00000000 ang_d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2273   .data.ang_i:00000000 ang_i
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2280   .data.ang_p:00000000 ang_p
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2222   .bss.str_d:00000000 str_d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2287   .data.str_i:00000000 str_i
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2294   .data.str_p:00000000 str_p
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2188   .bss.counter_ms:00000000 counter_ms
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2241   .bss.walledge_diff:00000000 walledge_diff
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2235   .bss.walledge_cnt:00000000 walledge_cnt
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2247   .bss.walledge_flag:00000000 walledge_flag
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2254   .bss.walledge_offset:00000000 walledge_offset
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2259   .bss.walledge_step:00000000 walledge_step
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2202   .bss.front_wall_diff:00000000 front_wall_diff
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2174   .bss.add_r:00000000 add_r
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2168   .bss.add_l:00000000 add_l
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2229   .bss.wall_dif:00000000 wall_dif
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2215   .bss.slip_cnt:00000000 slip_cnt
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2209   .bss.slip_ang:00000000 slip_ang
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2181   .bss.ang_idial:00000000 ang_idial
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2195   .bss.dist_idial:00000000 dist_idial
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2169   .bss.add_l:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2175   .bss.add_r:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2177   .bss.ang_idial:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2184   .bss.counter_ms:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2191   .bss.dist_idial:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2198   .bss.front_wall_diff:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2205   .bss.slip_ang:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2216   .bss.slip_cnt:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2218   .bss.str_d:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2225   .bss.wall_dif:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2232   .bss.walledge_cnt:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2238   .bss.walledge_diff:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2248   .bss.walledge_flag:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2250   .bss.walledge_offset:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2260   .bss.walledge_step:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2262   .data.ang_d:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2269   .data.ang_i:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2276   .data.ang_p:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2283   .data.str_i:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s:2290   .data.str_p:00000000 $d

UNDEFINED SYMBOLS
motion_end_flag
sen_l
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cc5QpbAE.s 			page 56


sen_r
sen_front
sen_fl
sen_fr
__aeabi_f2d
__aeabi_dmul
__aeabi_d2f
enc
__aeabi_dsub
__aeabi_dadd
__aeabi_ddiv
Tim_MotorPwm
Tim_FanPwm
gyro_z
accel
